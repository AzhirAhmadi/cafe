  [1m[35m (353.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_test"[0m
  [1m[35m (1482.8ms)[0m  [1m[35mCREATE DATABASE "cafe_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (40.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (106.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer)[0m
  [1m[35m (74.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (58.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_jti" ON "users"  ("jti")[0m
  [1m[35m (42.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (85.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191001130712)[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191001064950),
(20191001064949);

[0m
  [1m[35m (115.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-02 13:30:38.640308"], ["updated_at", "2019-10-02 13:30:38.640308"]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."login" = $1 LIMIT $2[0m  [["login", "jsmith"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "a@b"], ["encrypted_password", "$2a$04$O8qMkwrwuTfBvbcHt5PkJeb5xdTeJJmmifphT2SjzozL9zUSaK/Ay"], ["created_at", "2019-10-02 14:34:47.948619"], ["updated_at", "2019-10-02 14:34:47.948619"], ["jti", "1627f32b-e861-48f2-aa9f-a488902ab9a5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "a@b"], ["encrypted_password", "$2a$04$3litoVWG93aPW1GPuS66YuaPtkD9co3ncpeo1wCtzWg5/simz1dw6"], ["created_at", "2019-10-02 14:35:08.098462"], ["updated_at", "2019-10-02 14:35:08.098462"], ["jti", "76bb2992-48e4-437e-9af4-a53d8e954c96"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@test.com"], ["encrypted_password", "$2a$04$zJqnxF4P375Q.djYWN343eZGNDMK.duy.JolttvPzEkKCifI4XlUS"], ["created_at", "2019-10-02 14:36:18.664523"], ["updated_at", "2019-10-02 14:36:18.664523"], ["jti", "46c8ad5a-4b90-4749-af31-79cc68d82a70"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@test.com"], ["encrypted_password", "$2a$04$mRIbQp4Pr8NrTA.WxK3paeOGiRTOl65E.xSJyN1b5wPGNbjoBPAAa"], ["created_at", "2019-10-02 14:36:31.661323"], ["updated_at", "2019-10-02 14:36:31.661323"], ["jti", "b70be850-6985-4bd3-9321-8d4cb026ab7b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (56.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (49.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."role" = $1 LIMIT $2[0m  [["role", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."role" = $1 LIMIT $2[0m  [["role", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."role" = $1 LIMIT $2[0m  [["role", 1], ["LIMIT", 11]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (55.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$ankDBKhNsxwU961nvugDpOxSjGPhkSe.9jCub6Xeac.e2wktwUTmO"], ["created_at", "2019-10-03 08:01:26.682114"], ["updated_at", "2019-10-03 08:01:26.682114"], ["jti", "bd368f6a-e7ad-4710-8eb9-e133dea33358"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$c.Gutdb0vBQPVzaRYD0cZ.PNlRlGBwLn0OEYZFzTI8Fn0OKcJStHa"], ["created_at", "2019-10-03 08:01:40.372472"], ["updated_at", "2019-10-03 08:01:40.372472"], ["jti", "c5877444-78e1-4b6b-83c0-9f0b504032f7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$cXzVQC38W/QITYmyppmXvu0hbAMkOwVwBng1d9GiBq0kWM67fevBW"], ["created_at", "2019-10-03 08:02:03.646737"], ["updated_at", "2019-10-03 08:02:03.646737"], ["jti", "8123c5ab-c82e-4676-93c2-cd937ba96c3e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$rX6bRSb2wIp.5ukCTdXzwugydZ0YkzF4FOf9zwktRzBmqZjLcNwke"], ["created_at", "2019-10-03 08:02:44.250236"], ["updated_at", "2019-10-03 08:02:44.250236"], ["jti", "646bdf3d-96ec-4eac-8e28-9a2ee1f33794"], ["role", 4]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (55.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (26.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (447.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_test"[0m
  [1m[35m (1516.1ms)[0m  [1m[35mCREATE DATABASE "cafe_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (152.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer, "deleted_at" timestamp)[0m
  [1m[35m (73.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (74.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_jti" ON "users"  ("jti")[0m
  [1m[35m (61.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (107.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191007115352)[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191001064950),
(20191001064949),
(20191001130712),
(20191007114845);

[0m
  [1m[35m (108.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-07 13:24:56.347048"], ["updated_at", "2019-10-07 13:24:56.347048"]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$u9tpSWlNm0nQmasnQOOYAeoCVwG7IGe/kvy7wMfDIVtFPqcBS2FBC"], ["created_at", "2019-10-07 13:24:56.556791"], ["updated_at", "2019-10-07 13:24:56.556791"], ["jti", "8e1a1a66-c1a8-46bc-b4a6-b8dc2125e8da"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$v8pt/0F3hoGqeQ2wiJ6XLupQ0OO40SyAf0C5NBoo2WbElmit7EdOa"], ["created_at", "2019-10-07 13:25:47.383813"], ["updated_at", "2019-10-07 13:25:47.383813"], ["jti", "0c913bde-f8eb-4a50-bb2b-d9a6d29b5a14"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$Tmcz3EB1cYu/bzQZb9TlCeqtFv4bkJ2bGwg9Fc35dqvlsk3ON8LIW"], ["created_at", "2019-10-07 13:27:12.792311"], ["updated_at", "2019-10-07 13:27:12.792311"], ["jti", "b7502ffe-c933-4ed5-9cdc-9c0253e0bb5f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$X.i5/MSoVnE3447vFIwbyeh4VwkPan88gIIid4B/yF/rXZBZOLNf6"], ["created_at", "2019-10-07 14:33:52.481828"], ["updated_at", "2019-10-07 14:33:52.481828"], ["jti", "668f72a9-d70a-4cdf-a0a7-88f1af697134"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 51ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (52.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (87.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$b0uoNsiImdxPNL1lAcrh6ODbsEwN2o8dxx9mP/MFErE2YqDP7HZ82"], ["created_at", "2019-10-08 06:33:58.283977"], ["updated_at", "2019-10-08 06:33:58.283977"], ["jti", "8d77df46-0abc-4a86-b5e1-e28cc586599c"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"5"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 5ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$TNe/.b71hGprU7HXmMpZGOF/jGWaDSqtdHmnBg85A74XUmJmUd.l6"], ["created_at", "2019-10-08 06:33:58.778957"], ["updated_at", "2019-10-08 06:33:58.778957"], ["jti", "2dea71fb-86ae-4234-8508-0118e9101a53"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$vijD.BUM5Oh9d3VXfyt8/./N.gpoI.prm/.vbgjXgJBYQQR8Cxxke"], ["created_at", "2019-10-08 06:34:50.434389"], ["updated_at", "2019-10-08 06:34:50.434389"], ["jti", "44b2bd0f-42bd-45ac-8ac2-a6629a54a1f9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"7"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$kJwm1tw41iyxRtMN2QhADutRAoske9kcWqsDA/ytwbIWu8tw4hRay"], ["created_at", "2019-10-08 06:34:50.482321"], ["updated_at", "2019-10-08 06:34:50.482321"], ["jti", "7d67c59f-69b1-40c4-b5fd-382855dc0f77"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$AxCjxxLLiTnPUlJGGeOaO.27nTFGgkphk8sL400EbRh3XzK82yhCm"], ["created_at", "2019-10-08 06:36:16.496511"], ["updated_at", "2019-10-08 06:36:16.496511"], ["jti", "e4b8bca5-88aa-4cb6-b3ef-a13f74519e37"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"9"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$nZpnES.GCAAstFWg1AupqugY/ZqNdWsm5gB8f4xQgiFT5IIsGcuyS"], ["created_at", "2019-10-08 06:36:16.540743"], ["updated_at", "2019-10-08 06:36:16.540743"], ["jti", "dc595f99-a20a-45bb-952b-0732f1382a1b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$b/l/xs9iqcQ5SxwZ73.M6.hPdjX0fUOnOytk9fY2T2yixOUyXD/.u"], ["created_at", "2019-10-08 06:38:52.740663"], ["updated_at", "2019-10-08 06:38:52.740663"], ["jti", "08d64c34-8018-49ab-8bb6-46772628908d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"11"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$ROX5s4Pv3DVSUPKAfMkjpO4gINRA1zAPKD24aVzICAsHcVd2rxzpK"], ["created_at", "2019-10-08 06:38:52.788243"], ["updated_at", "2019-10-08 06:38:52.788243"], ["jti", "81bb6972-6f3c-4d60-8f21-e1550219ef7e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$LQxYbYlT8WhhE2XvShC70OP5jF8NrqcudchCZyGukRgX.88j4sDdi"], ["created_at", "2019-10-08 12:33:15.585665"], ["updated_at", "2019-10-08 12:33:15.585665"], ["jti", "fba0570f-9a6b-4d7a-978b-cd7af821bb88"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"13"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$EOS.krkaa8sW4W1HiasGiOQfuiwKAM1OLQTYJ8Mmxq7dh3gMGZHuS"], ["created_at", "2019-10-08 12:33:44.622161"], ["updated_at", "2019-10-08 12:33:44.622161"], ["jti", "6780bd2e-8def-405a-a707-52ef5ee8e056"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"14"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$.ZCJhWx6oCKttKbsg1PXe.uVnFPsYXVxZIgz4Sn6/nh6s3uGULq/e"], ["created_at", "2019-10-08 12:36:25.930703"], ["updated_at", "2019-10-08 12:36:25.930703"], ["jti", "17cfd8ce-5b51-4ca9-afb7-be8a29d12c62"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$VPvBDSnixFnlk6Mj4DTBweAB5zXIdoBBxQ6fm4Ljr/GptIZ8379gi"], ["created_at", "2019-10-08 12:45:32.659720"], ["updated_at", "2019-10-08 12:45:32.659720"], ["jti", "4b9b064a-013d-4e0b-8b87-371d7d134eb4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$JG5fng.l74Yy35maMMVbZ.k2PdlDzFJb2KL6toju81fBm2ZSqKfe2"], ["created_at", "2019-10-08 12:46:56.890821"], ["updated_at", "2019-10-08 12:46:56.890821"], ["jti", "f24e3039-3e32-4bbe-9f87-643326923079"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$y3Y9.PybCGyk7hLAB5RixOdzR2OHcUdbOyvOwFxKhfqtyWFU9mXhG"], ["created_at", "2019-10-08 13:15:17.859422"], ["updated_at", "2019-10-08 13:15:17.859422"], ["jti", "260307b0-3ebb-4275-ae6b-bc700b4c15b2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$MMok7HySEWaTBhnMVUtV4.7bEAoJqBwrwHbnvs3bVgsIjDtcHBgGG"], ["created_at", "2019-10-08 13:15:53.281090"], ["updated_at", "2019-10-08 13:15:53.281090"], ["jti", "ace2eea7-56f9-47ba-b96e-ea5dcda40bc8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$NRLkoeYevuA0vV9C9IUGSuhvyBF9B6FICR4d.wI2F/zMOhJ07NXy."], ["created_at", "2019-10-08 13:21:26.477215"], ["updated_at", "2019-10-08 13:21:26.477215"], ["jti", "80c8bb9a-1d81-4484-9a16-640179346194"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$j6OQdKrbdQ/skAKjf.GBZuIjVPmXLIABh24R/nlGMbD0hcBiTf9Si"], ["created_at", "2019-10-08 13:23:14.356499"], ["updated_at", "2019-10-08 13:23:14.356499"], ["jti", "d870c6ee-7f8f-4b64-adea-828af7be9fce"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$xLtp6mR0bzOlhypXsmsqzuQneEw60mE2rw6WC1MmmZwZ3NVoM9on."], ["created_at", "2019-10-08 13:23:58.105450"], ["updated_at", "2019-10-08 13:23:58.105450"], ["jti", "633da64a-8792-48a1-8efe-91a9858895fb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$dq20/CZLbSuNAmsE2ri18efX6u0c7t2R45520EmdAoWm6cYonEfxO"], ["created_at", "2019-10-08 13:24:43.221861"], ["updated_at", "2019-10-08 13:24:43.221861"], ["jti", "9620a29b-9e1e-45fb-9187-79fe55265e91"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$WvKVz.Sdgqc8HKUlIaPpgeoJZ1xj8HaI1yGUnik0A6bJ1nnxv8GgC"], ["created_at", "2019-10-08 13:47:31.776769"], ["updated_at", "2019-10-08 13:47:31.776769"], ["jti", "2bf7b189-6818-46fe-9328-487e3f283164"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Qz8uw7c8bgl6TMPnt18pg.J0Qu.tABYEVQEGnfN4/RT4iXN4qdPdW"], ["created_at", "2019-10-08 14:03:48.880164"], ["updated_at", "2019-10-08 14:03:48.880164"], ["jti", "7b90c98b-9155-456c-a078-c65172e02e79"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$9qD9AA5CEU3VEzlxl7ku/Okl17qKoDzOHyUO0/hYfaKEpEIgAqK8W"], ["created_at", "2019-10-08 14:04:09.273081"], ["updated_at", "2019-10-08 14:04:09.273081"], ["jti", "dce85cae-bccf-4bac-9384-daf095d9b7e5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$BjNOUAZq/KYtHIPKUadfQOgK5Aj1SyDiP8hCIDy2pWb5Rj68XZntW"], ["created_at", "2019-10-08 14:04:12.165068"], ["updated_at", "2019-10-08 14:04:12.165068"], ["jti", "5b04b4f3-26ca-4304-99cb-02d1b32e82b9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$tnSs4J4hCmGGwOzHk0p.7e41EeTKE5Dyru3tSAM2pl42inyLb1oK6"], ["created_at", "2019-10-08 14:09:10.813427"], ["updated_at", "2019-10-08 14:09:10.813427"], ["jti", "07db0500-9d78-4623-b841-1446227bbf98"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$4yQwyXUEY2Lr9B6UvVI1xeX2u4o/6rKSl3YcMnbL7IktBbba68Tvu"], ["created_at", "2019-10-08 14:09:27.102541"], ["updated_at", "2019-10-08 14:09:27.102541"], ["jti", "6ad9420a-93ac-408e-8b85-e85c3ea8304e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$upB69U93nsDGtSEYS..i3.YukmlLFJHAXIF9vE0acGRRLJ46l73gq"], ["created_at", "2019-10-08 14:09:57.538370"], ["updated_at", "2019-10-08 14:09:57.538370"], ["jti", "3ccee9e7-48b1-4b1e-990f-5310ae2eb7f4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$rqQaWP6TW6T8fTnmz8WEhuunPOhZSQTijPO3piwklflBe/baFrYVC"], ["created_at", "2019-10-08 14:10:20.688658"], ["updated_at", "2019-10-08 14:10:20.688658"], ["jti", "e9bae962-242f-4dab-8a81-50ad4b4f4535"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$LjdpFOKORwR0XCf/ekmWiuaiokhpPNHxI0ivj47/Dz.8fHbg3ObkC"], ["created_at", "2019-10-08 14:15:04.692498"], ["updated_at", "2019-10-08 14:15:04.692498"], ["jti", "30447675-a6b4-4b76-ac65-77f3cfcecfbe"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$vTcsJaSb1Cqcao6MBzjb5eb1HYha849HW8zUGGxUFtJjabdbcOTrW"], ["created_at", "2019-10-08 14:15:34.869872"], ["updated_at", "2019-10-08 14:15:34.869872"], ["jti", "d49c458c-1adc-4496-ba1e-6508431a2c16"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$4wYSRFwaExlLqHkk39Xxve8ObHWOM9rnrVCv7yYae2c6VztkEdGaC"], ["created_at", "2019-10-08 14:15:49.076062"], ["updated_at", "2019-10-08 14:15:49.076062"], ["jti", "3546a39b-8157-42ae-b457-c5993fe6192a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$gXc10EA3vfDQOJZoz6/NduVdR7YGlrBEz6UiQgY5kzsksKDHnBDbS"], ["created_at", "2019-10-08 14:20:56.070653"], ["updated_at", "2019-10-08 14:20:56.070653"], ["jti", "219777d7-11bc-48a3-b4c3-63bc296234b2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$nC4HV5RErO6RtebZFRd90eCXZ7WSNwfEfD.sLuhCdWPG8b113GUQ."], ["created_at", "2019-10-08 14:21:47.030979"], ["updated_at", "2019-10-08 14:21:47.030979"], ["jti", "122fc8c7-559c-4532-9e90-71e6060c7e40"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$smhT2Slw4cfWD.o2s/hKBuiUMFu7KwLgRUQAq2LnnWlWUK4Uv5TNy"], ["created_at", "2019-10-08 14:54:46.598169"], ["updated_at", "2019-10-08 14:54:46.598169"], ["jti", "c48cef10-5f2f-4c1d-bb2b-1cec87e61db5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$A5WfV56kDLvpkRtyWmchTe2qMC/7owdVrFHHCRAJiYczV8or4ErQ6"], ["created_at", "2019-10-08 14:55:30.357222"], ["updated_at", "2019-10-08 14:55:30.357222"], ["jti", "fe473ce4-83ea-42e8-9630-dd017cec0385"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$d1fOy/j/x3sNSJVAtDjoSez7V6UdCLbqt2OlPAJMooo4V/O48Vrfq"], ["created_at", "2019-10-08 14:58:35.472894"], ["updated_at", "2019-10-08 14:58:35.472894"], ["jti", "755359b4-cf78-46ee-83b8-53ccf69ddd1c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$YXf29tqCBckyU4WTclYep.ZWBI0WlgSJmM1zavHxtW5gehRrZP5V2"], ["created_at", "2019-10-08 14:58:49.360184"], ["updated_at", "2019-10-08 14:58:49.360184"], ["jti", "4983f14c-2031-4084-b0d9-7185fde8219e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$p3Tlj/A6OcnkV0qcrgNw4eRv9mDpVY5NxjCqahuGxVWlE4mF7r3g2"], ["created_at", "2019-10-08 14:59:29.429411"], ["updated_at", "2019-10-08 14:59:29.429411"], ["jti", "8069bd98-bc15-4e18-bd41-84ea228bfe68"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (56.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (85.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$7TlwJXrR0LtpE3wiHe9tluyKEHig8zIqHokRF2jtoWhfwYCjW0MQq"], ["created_at", "2019-10-09 10:39:23.690827"], ["updated_at", "2019-10-09 10:39:23.690827"], ["jti", "8760eca8-ce01-4462-87f2-d373305b9a62"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$PqdFpfDSESZvZy24TKeiQu1PgJzMIT7NkJfLhD.REIrgfX.K4acPe"], ["created_at", "2019-10-09 10:55:47.554595"], ["updated_at", "2019-10-09 10:55:47.554595"], ["jti", "f59b2b88-85ac-4b6c-963a-cbef72da3089"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$eIFbon.Irr2Vrn62DTLJPOU4OTLh4b9AYPcRL4RZYSvidTlsu6mHC"], ["created_at", "2019-10-09 11:49:34.457809"], ["updated_at", "2019-10-09 11:49:34.457809"], ["jti", "1ebddd0d-0306-4751-bc07-49eceb042e13"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$sUsG5LbeTxGsotgpd9Q/t.88ksZndt577c8Naaqp4STv6UPCNfCs6"], ["created_at", "2019-10-09 11:49:34.480498"], ["updated_at", "2019-10-09 11:49:34.480498"], ["jti", "01149660-d684-4d6b-971b-00f0208d36fa"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$KZQ0945Dqb5lRyri83m5H.T4Qp0ja7vqTnoVQU9kxD.Pv0O/U4uLK"], ["created_at", "2019-10-09 11:49:34.497687"], ["updated_at", "2019-10-09 11:49:34.497687"], ["jti", "ef7cef3b-4df3-4fdb-97ef-b80f2819defe"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$TTZQvZGPPS37Wi7WYIcHhOtjOt2qXPgTlBBnx8xyD2JbiIpFR7.aa"], ["created_at", "2019-10-09 11:49:34.513609"], ["updated_at", "2019-10-09 11:49:34.513609"], ["jti", "6bb9f777-66f8-49e4-abb8-64d28349f3d4"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$J9RxGxWyVJhyrP18Ucyldu2AReHMMbQBa3uzSBuLoupkkOjXduwWe"], ["created_at", "2019-10-09 11:50:03.553076"], ["updated_at", "2019-10-09 11:50:03.553076"], ["jti", "9ac28479-287a-4fdd-93de-c2f1fb6f2fbe"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$evSF6bAU1tGQHt6dVWcqq.Dy/YvxfO0e2HszWujyqqzgIvIiRasku"], ["created_at", "2019-10-09 11:50:04.886623"], ["updated_at", "2019-10-09 11:50:04.886623"], ["jti", "fcde4c51-31c7-4f32-b2fc-7b1df6db2435"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$QWXUqesOoBoFJr/KEEpAeutwj6OpiOry8oaSQ3yb0cHp.tzMWtmB."], ["created_at", "2019-10-09 11:50:34.872032"], ["updated_at", "2019-10-09 11:50:34.872032"], ["jti", "8e1aa3c6-21af-4898-a5ec-85483f7d6773"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$xpdvTZJXNT2fYyplRglP3.HXImMGNkUKAoI08HDbPpcqRgN.s.trW"], ["created_at", "2019-10-09 11:50:59.958170"], ["updated_at", "2019-10-09 11:50:59.958170"], ["jti", "7c4ab478-b34c-4f76-a07a-a4cc5ded7fd3"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$tCcbgbqUJyhWCf5SSh4P6OiBxeiclHNBbcAqF.Z5JgEOW6qndUyOy"], ["created_at", "2019-10-09 11:51:28.680753"], ["updated_at", "2019-10-09 11:51:28.680753"], ["jti", "651d9f56-6a18-4613-a14b-59deacab91e4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$RrX3DJ2B.ohyMQ0MmERe/uaPDVPe9J6m/Gk/PFJPMu.XaDS7QAf8u"], ["created_at", "2019-10-09 11:51:43.430131"], ["updated_at", "2019-10-09 11:51:43.430131"], ["jti", "e872e3bf-d665-47d2-a969-5fc6009e67b6"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$BPs.9FnUOTh1xhIGkwcY8eiHBWOWyTNqKZeqZDTwuGeM5WhPp2vre"], ["created_at", "2019-10-09 11:55:22.206112"], ["updated_at", "2019-10-09 11:55:22.206112"], ["jti", "d8538560-22ea-4dac-91aa-d1a79ea8d849"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$.G60CAspIp/YhEUOODW08.6gVhlRhxjoiFfXzdYPdVxuyh7zzsGgi"], ["created_at", "2019-10-09 11:57:29.433647"], ["updated_at", "2019-10-09 11:57:29.433647"], ["jti", "1e358713-6b04-4585-98f5-c60e1f4e7446"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$4Q5RgFLmqpOd2kF2jHsvbe.fWW9Q8CVhWPOBr0TZRbpOHkd2Txf.S"], ["created_at", "2019-10-09 11:57:29.457102"], ["updated_at", "2019-10-09 11:57:29.457102"], ["jti", "af660c3d-6a82-4a5b-87e4-f49dd81226c4"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$SVuB8hv.s1N51jcxsKBrx.6ddlzi0ZzbWOUPyizALDpGaahmNHNe2"], ["created_at", "2019-10-09 11:57:29.472567"], ["updated_at", "2019-10-09 11:57:29.472567"], ["jti", "fe24d1f9-5fa1-4b4f-be36-6a34bcf669b5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$2oLAq61ZTbWIo6if9.2M5.J176miO84PLMueTdXndzISL97ESBwvu"], ["created_at", "2019-10-09 11:57:29.487645"], ["updated_at", "2019-10-09 11:57:29.487645"], ["jti", "732e56b0-daf4-4849-958a-f41ce1cf2a38"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$/4Fd2qrRakTGPvGf5KJomuxtznVDY8puBOsPEYMpoiVs/jjUzKR1C"], ["created_at", "2019-10-09 11:57:29.499830"], ["updated_at", "2019-10-09 11:57:29.499830"], ["jti", "5851fa74-5018-4a68-a405-c4dad4d2fa69"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 40ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$.tGADJm7o3jZOuLRjJpf1.q8fJP8hCiAs8xkKg3kM7W2.27jaa01K"], ["created_at", "2019-10-09 12:02:09.720719"], ["updated_at", "2019-10-09 12:02:09.720719"], ["jti", "34bb1868-a7ad-4126-95e0-db97536e1ae7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$3AJ7Efkj35Bh2X7IrzDnJOSB3A7V.06mhHXcrZbQpaUFubIKIuSL2"], ["created_at", "2019-10-09 12:02:09.738781"], ["updated_at", "2019-10-09 12:02:09.738781"], ["jti", "a5d064f9-11a7-4885-96de-e8a2095c527e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$TtitZ3CdtH7XX6HT.3rYLui/2/Hp0OO/zGt1/IwubOkWnQBKpyHEy"], ["created_at", "2019-10-09 12:02:09.752829"], ["updated_at", "2019-10-09 12:02:09.752829"], ["jti", "87b1da9d-8218-44a7-a6c4-1013e4c5e8b5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$/t.t4zQSdvdWD5f1OlZ.geE3vF.nREFTfhIWo7lU84D0xnoMaLRlG"], ["created_at", "2019-10-09 12:02:09.766268"], ["updated_at", "2019-10-09 12:02:09.766268"], ["jti", "13e8cd20-a41e-4b93-8798-317694a4201d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$KNRNltXDGedEHKO9gMK5z.wNeHm0jdLWsR.4.xb0ntw7NpHY.KSsG"], ["created_at", "2019-10-09 12:02:09.781360"], ["updated_at", "2019-10-09 12:02:09.781360"], ["jti", "87615071-8484-4bb2-b3c3-1ddeb967ad56"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$znITm0rYZRmBmOMOJo0pP.eHtQzA4GW.RMu0PeiX3Iid1P5TxlZye"], ["created_at", "2019-10-09 12:02:18.511427"], ["updated_at", "2019-10-09 12:02:18.511427"], ["jti", "9fa77c07-affb-4ca8-90bf-f74a99f1c345"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$VTJKYkgAV/1C56s9eRI1B.B4nH7hVDnCeinqQIruJWNTu1YJUJEFq"], ["created_at", "2019-10-09 12:02:18.526389"], ["updated_at", "2019-10-09 12:02:18.526389"], ["jti", "796ff1d4-7db8-43ce-b355-5c5f76b76158"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Tbdu0d11fCnVFydqKOIAYeMzRo72e0YZF3wwQoa1aipAKWqZZF5HC"], ["created_at", "2019-10-09 12:02:18.539594"], ["updated_at", "2019-10-09 12:02:18.539594"], ["jti", "e4824e9f-7bb7-42ba-8b41-4e1150158204"], ["role", 2]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$DhDRpCYf1aPfQAo3LuMJseZE1dKY4MtneE3X/gmRHgGUs9v8vMvMa"], ["created_at", "2019-10-09 12:02:18.552617"], ["updated_at", "2019-10-09 12:02:18.552617"], ["jti", "a5c441c2-c0a2-4f75-bbef-92ec355cd53e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$Cawch9q/5W9s2DD3e6ELv.hryP4Uqnsn9.b2I0NHI1/vU.nzQr8V6"], ["created_at", "2019-10-09 12:02:18.565673"], ["updated_at", "2019-10-09 12:02:18.565673"], ["jti", "93ec9367-8bef-4527-97ab-b6fd224f0da4"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$RSwfcHa6SNwA0kmMb5.IfuOT13YLZN3NbFaaT1Vw/nYgw5ZZbP/2e"], ["created_at", "2019-10-09 12:02:30.846079"], ["updated_at", "2019-10-09 12:02:30.846079"], ["jti", "5a797e38-4962-4be6-aaa9-bdbaf36c9e0a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$uN9nJ9qokLBvq.RJ0bt4y.IFq2jIqKaNOCWHlioLyE.v0BGe4ZWZe"], ["created_at", "2019-10-09 12:02:30.861960"], ["updated_at", "2019-10-09 12:02:30.861960"], ["jti", "7ecee88f-d5e7-4c48-9eb1-658ceb219a11"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$jioAyAK48c7aEQo2CAuRTOLAeN6BVrtmDjStbCIMBe2sPYIceTQB2"], ["created_at", "2019-10-09 12:02:30.878269"], ["updated_at", "2019-10-09 12:02:30.878269"], ["jti", "072c6e7b-d63f-4536-91ce-9bc29205a807"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Hg5Ej/Q/pc18ukwCZjG2D.SUKyCgbBnz/2elzlryCvZX7o3cDiG5O"], ["created_at", "2019-10-09 12:02:30.891684"], ["updated_at", "2019-10-09 12:02:30.891684"], ["jti", "4d081208-ef68-4e5b-92b9-0f24e1c85568"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$HfXJNPyGUCSD1F5Esf0fheDaoLKpSeQI0k8ClXLfZy/m40xHy/Djq"], ["created_at", "2019-10-09 12:02:30.906365"], ["updated_at", "2019-10-09 12:02:30.906365"], ["jti", "d88cf494-0cbe-430a-9e10-279c7683ddec"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$dZmfScJD16q06K5z8C5fNOih4dXN6bOAVGoZqsCqUJdSakJ2fpA.m"], ["created_at", "2019-10-09 12:03:20.662062"], ["updated_at", "2019-10-09 12:03:20.662062"], ["jti", "89a2cadf-3a1f-44c2-a277-6257de7dc888"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 10.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$JAEvlb/hZXVvjp1hcJIloufUVM12dyECCeZM9jNs2/Xyh7dGtLusy"], ["created_at", "2019-10-09 12:03:20.696393"], ["updated_at", "2019-10-09 12:03:20.696393"], ["jti", "bebaaf33-8ff3-4af0-938c-b216e912230c"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$QJ98Kbsfrl/d9Yn1Jfi5N.eN7haZl94efKZhnL5N5183c9jqhdNFO"], ["created_at", "2019-10-09 12:03:20.710917"], ["updated_at", "2019-10-09 12:03:20.710917"], ["jti", "2757871e-346c-4512-9bfa-83ff01c164cc"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$rMsyJzSoI2Me2sNSGHTn7.iJCVxJo3TihGVenA0vvOHH2L2AXcRiy"], ["created_at", "2019-10-09 12:03:20.725051"], ["updated_at", "2019-10-09 12:03:20.725051"], ["jti", "25150764-0665-4d10-9447-a767c9b19fac"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$VnFp27KKfdLiOUzKIgthdO1REcH7l6LD52Okkk8TWCglug3DDRPEu"], ["created_at", "2019-10-09 12:03:20.736721"], ["updated_at", "2019-10-09 12:03:20.736721"], ["jti", "06f38d4e-22a6-4b1c-ba89-aafc4ecead36"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$BkD/4IYI0cqIECKta0rDLe5Aw5q3ycU3.lrfjjafWTWO6IDUbNsle"], ["created_at", "2019-10-09 12:04:16.870702"], ["updated_at", "2019-10-09 12:04:16.870702"], ["jti", "aa87c933-b241-4a1a-afcc-d205637acac7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$9XWG/ymQ4T8gDrcp.pOCmuO.dV9AecI/G90.h81VNXa8X53istxOS"], ["created_at", "2019-10-09 12:04:16.887362"], ["updated_at", "2019-10-09 12:04:16.887362"], ["jti", "f8917f76-5d03-426e-a61a-bb138dc34558"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$V1tR8jjhPo/Fe4CNCJt79Ox.cTVi15jbZjcVFkyDN.rlCDNxZj2by"], ["created_at", "2019-10-09 12:04:16.902020"], ["updated_at", "2019-10-09 12:04:16.902020"], ["jti", "9cd3f628-a57d-4fbc-9c76-796a77de0ff1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$cKmWFY.hf4GdqJSMuwMItOqTRfU17diqUjIerndvBy1gil02ft5em"], ["created_at", "2019-10-09 12:04:16.915700"], ["updated_at", "2019-10-09 12:04:16.915700"], ["jti", "586bcccb-0437-46e7-a390-1f3e3d5e462c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$B18mzUMJrc0xWeNDc0YOe.NuEGCDTw4Ap4Y4h/3gxjbPMFzijHi82"], ["created_at", "2019-10-09 12:04:16.929414"], ["updated_at", "2019-10-09 12:04:16.929414"], ["jti", "c65d8bc9-aba8-4c34-89bf-090256974e79"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$iI3ZCycbbKnO7JPBj1Cpt.zyzfLQc4Xzhbcp1lxBDbeSJpm7/Yq2u"], ["created_at", "2019-10-09 12:04:29.320311"], ["updated_at", "2019-10-09 12:04:29.320311"], ["jti", "bda199ae-ef5e-4727-8174-ec2f674f34d8"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ZGHwSDGimIIxE8rdM4J8cOWHz2CDYBFe7g.33O/VBYqTr0V5.UZnW"], ["created_at", "2019-10-09 12:04:29.335308"], ["updated_at", "2019-10-09 12:04:29.335308"], ["jti", "e95e12e0-19ca-446a-b91a-ef6e632df81f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$k.KGWGdwfKCXDmXR1z7BZ.w4L1cPUWRMhZkRR9Z6z7SdYPlSyOwHS"], ["created_at", "2019-10-09 12:04:29.347668"], ["updated_at", "2019-10-09 12:04:29.347668"], ["jti", "ce027ee8-56db-4fc8-afc3-62e9b500db34"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$gCt43RvP5qqvPZCPZ02XtOmgwGwMIpJ3kFf5MTPpd35zGlk7dN7.C"], ["created_at", "2019-10-09 12:04:29.360748"], ["updated_at", "2019-10-09 12:04:29.360748"], ["jti", "7d73ad5f-43ee-4427-8805-20bbabd7dbd3"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$h65gLRCZ8qWJuFMNA7kvB.Y4wNW0rd0hiuf.f8VbcedcNvaODvXgi"], ["created_at", "2019-10-09 12:04:29.374001"], ["updated_at", "2019-10-09 12:04:29.374001"], ["jti", "22ca4194-7b7a-4c3c-a98b-acc059d943a9"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$cG7QM3rSt.pTIECSBTdoEOqV0Mncv05RA5AESsnpmWR6koEVf5bAa"], ["created_at", "2019-10-09 12:23:45.480455"], ["updated_at", "2019-10-09 12:23:45.480455"], ["jti", "a51530c2-32b5-4c3b-8ed4-4ac8e64c2b16"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$TYYowIVdwNm8sYAwLTW/LehAzV0poJghBDj9WwNuQr5BqhHCVwSSu"], ["created_at", "2019-10-09 12:23:45.496889"], ["updated_at", "2019-10-09 12:23:45.496889"], ["jti", "7620ed28-046a-4c87-a2ea-6dcfee0ab34a"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$yViLpS/cZnW1dgUNogblh.AbIv7QXNxEFGUx8M4oJbdLMzLbOHTgG"], ["created_at", "2019-10-09 12:23:45.510934"], ["updated_at", "2019-10-09 12:23:45.510934"], ["jti", "a409d977-27d9-4e6c-b04d-47eed7715d2a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$qXG2tECyMNtBmc.3Bayf5.7R0S0wXZdsRnmGwMHONBkhZB4NqF9qu"], ["created_at", "2019-10-09 12:23:45.526737"], ["updated_at", "2019-10-09 12:23:45.526737"], ["jti", "d5863368-a84c-494f-bced-3852de988b49"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$A3a7ChmEDDJxi9DUVfVW3ey4Nb6Fvtd9HkknDyYSWzzRPInYSdNkW"], ["created_at", "2019-10-09 12:23:45.542113"], ["updated_at", "2019-10-09 12:23:45.542113"], ["jti", "a37f1c85-2c5d-41ab-a51c-da6ad1d52a8b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$WOCRrGwEJSk9TUL8SLDKCeowNvUR.e7/FaM93qTo1Xr8pr.8epw7q"], ["created_at", "2019-10-09 12:24:07.716686"], ["updated_at", "2019-10-09 12:24:07.716686"], ["jti", "81336abd-2c2a-4237-bc82-d8934800a5b3"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$TI8jQnE2lHzIsViUd6LYOu.W5VLzJTIGV4dj6rmmnhHfAOa3qkUtO"], ["created_at", "2019-10-09 12:24:07.734163"], ["updated_at", "2019-10-09 12:24:07.734163"], ["jti", "ee7cd2c2-bd8a-46c0-9d19-456e438a0ca9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$k62rVhmQc0DZmrtYb/GQBeQopyXjHhbO3EZwoyCPevWydv.eDqt6O"], ["created_at", "2019-10-09 12:24:07.749205"], ["updated_at", "2019-10-09 12:24:07.749205"], ["jti", "c45afb95-652e-4e24-b8ed-ae015dac6ce4"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Dk6KDDZGEmn40qTBN045b.ut8U0WG04onx84eQjZIie8b1nxPZuf."], ["created_at", "2019-10-09 12:24:07.761467"], ["updated_at", "2019-10-09 12:24:07.761467"], ["jti", "a8955721-07cb-4399-b4f6-c2b1694360bb"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$YUqkCQPtt7dcTgt7Xraf/Oat7/9l6B6wtpzv2EGPicuIw2uvkW7dG"], ["created_at", "2019-10-09 12:24:07.775336"], ["updated_at", "2019-10-09 12:24:07.775336"], ["jti", "26bcdc72-a6b6-47b5-a660-0058964a5027"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$SaGheH1eL1yqrbd/EVubw.VvNxgSw7v4Uhb04W3c3GuOo1A7lXLfW"], ["created_at", "2019-10-09 12:26:09.832117"], ["updated_at", "2019-10-09 12:26:09.832117"], ["jti", "ffc4c27e-796b-4d98-b33a-83bb2317b2c2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$bJN0k5dH1hFpFr22UagUsuBxFVtN1dUDpJeE6LGxUSWNUJPAAIDpG"], ["created_at", "2019-10-09 12:26:09.848722"], ["updated_at", "2019-10-09 12:26:09.848722"], ["jti", "21d60f00-c68f-4f09-8fad-eaa6ec43a80e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$EUrnie55rz4qJvnVlr9YIeqL5KG00yr0/8PnaV.zEI3NGq1NqnsNa"], ["created_at", "2019-10-09 12:26:09.864248"], ["updated_at", "2019-10-09 12:26:09.864248"], ["jti", "242621bc-2467-476a-b162-fe3cf221111f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$MfRIXzsCOUbvBMqM76VQlOXzTbvIKR/8I8We/oNgfLqFW8OrspP4u"], ["created_at", "2019-10-09 12:26:09.878123"], ["updated_at", "2019-10-09 12:26:09.878123"], ["jti", "0a9b612c-50eb-42cb-b206-05e54f279f26"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$3m4tZtsXUnVRee7kYbl2dujV09ylJWnzF/fLssKcFEqMA9ZbtOUkq"], ["created_at", "2019-10-09 12:26:09.891852"], ["updated_at", "2019-10-09 12:26:09.891852"], ["jti", "b9287e38-6b18-4b61-9b67-8fe122bf0be0"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (Views: 0.3ms | ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$bspXBwnw4VehuPRXB/Xv8uSgbVXB/RAZlmxdOllYicv40BBzTZsoe"], ["created_at", "2019-10-09 12:26:49.376991"], ["updated_at", "2019-10-09 12:26:49.376991"], ["jti", "602f6aaf-adcd-4881-a4a1-e1dfc091a023"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$7UjxZZjIKecYjLP4dYUZ7.h6VhUHKEolwCs7blfuv9pApDBd/rWb6"], ["created_at", "2019-10-09 12:26:49.389706"], ["updated_at", "2019-10-09 12:26:49.389706"], ["jti", "f78b44ac-f901-45f2-a9a3-0df6c0cb28a1"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$P/iCPP0T2vJQzEkrTJH9..SpZqrn2Vv8G6Uylou5D2CBWuYTyT9Oy"], ["created_at", "2019-10-09 12:26:49.402943"], ["updated_at", "2019-10-09 12:26:49.402943"], ["jti", "720d14de-f50b-48c4-b44b-ec7c0049f6c4"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$R.OF/ZiT86bDTZl/T4YWJ.AoRAa.FldekZMfrQWuaZw9CDyL9xYaW"], ["created_at", "2019-10-09 12:26:49.416186"], ["updated_at", "2019-10-09 12:26:49.416186"], ["jti", "e35dd8ff-313c-4721-a3ad-3947fc66a74e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$Eblh9u3W65kb1BGIo/uup.VWmLRZGVe5t.pvlhEZIUWj6lJrsgnNu"], ["created_at", "2019-10-09 12:26:49.428614"], ["updated_at", "2019-10-09 12:26:49.428614"], ["jti", "39b43c74-ba83-4082-bc21-e44bf952f659"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$s.vhqpyl6wRiHvn9Y.qvYeC2lftO23Xue4GM..fUbxmjE7SE2EbdO"], ["created_at", "2019-10-09 12:29:58.445062"], ["updated_at", "2019-10-09 12:29:58.445062"], ["jti", "95a38c76-8f04-4679-96b4-5691cc6b678c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$yab.uzkehO6eIbJDYIHsw.TLMSjwxNa9r1tHgpFvG4m7hs3ffBVxm"], ["created_at", "2019-10-09 12:29:58.462469"], ["updated_at", "2019-10-09 12:29:58.462469"], ["jti", "941adc69-cff4-4668-9992-bc3c22fe2cc4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$983Qe.clf9EK5QLIFgBTjOZ.hx4EW2YNaNzENKdcklBGZIOrk.Eou"], ["created_at", "2019-10-09 12:29:58.479400"], ["updated_at", "2019-10-09 12:29:58.479400"], ["jti", "842c9867-7d6f-49b3-82b8-f633a405acad"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$OhBAm3XiKNJTWSyCRoqAquEyaLSLNLLg8sHJnCc.4m5lQHZL/S6Cu"], ["created_at", "2019-10-09 12:29:58.496837"], ["updated_at", "2019-10-09 12:29:58.496837"], ["jti", "0e1d63cb-ef49-4a9b-8e63-df5c6da9dd89"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Vl6YOJnjjP6c1DkDbc76yeSlaUtrh5H7xLdDOhFTj/sikVWxPwSE2"], ["created_at", "2019-10-09 12:29:58.514939"], ["updated_at", "2019-10-09 12:29:58.514939"], ["jti", "2f07dc0f-870a-4eba-8cd1-0ce61b822179"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$JDrzfjT7kHNq8RgU.KniZeEASUubWjdg5JhYEpUI3CmluuAfN.vEW"], ["created_at", "2019-10-09 12:29:58.529666"], ["updated_at", "2019-10-09 12:29:58.529666"], ["jti", "03d127ba-c663-4ab9-90b2-9b2069da5a72"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$SCoUKM3XG9WF1RMnCjUtteyRhr5KDIrWl8XnqY/3e8WGsr/86.mjC"], ["created_at", "2019-10-09 12:29:58.545648"], ["updated_at", "2019-10-09 12:29:58.545648"], ["jti", "fa8aef07-93e8-4cf9-8afc-72ace63f5d33"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$seoL.WO0fZEXRHByjVhOFut0jVXJ7xf90YPLqcqZh2Xao0AlYyANe"], ["created_at", "2019-10-09 13:12:40.007634"], ["updated_at", "2019-10-09 13:12:40.007634"], ["jti", "aa3bdce4-7298-415c-8db0-28a56aeeacd9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$mMlCOtKHb6rX.Ec7KElZdeVPGPc0beR9tSuUJ7aKR1uAS32uCy0La"], ["created_at", "2019-10-09 13:12:40.017990"], ["updated_at", "2019-10-09 13:12:40.017990"], ["jti", "b44c2529-f12a-4f09-85a2-4258cc445eaf"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$aJpr2txnVbo6q94HCvUZ9eakv2QZLEgsgeyRSc79rgchUyLDaaGS."], ["created_at", "2019-10-09 13:12:40.028467"], ["updated_at", "2019-10-09 13:12:40.028467"], ["jti", "98ca4c6f-a111-4755-8032-89d98b18421f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ZQvsS0Y7Mdyr18QOaKnxSOU5iHKeXJF1B/F8MEvnTyI5QBLYz1j5K"], ["created_at", "2019-10-09 13:12:40.038477"], ["updated_at", "2019-10-09 13:12:40.038477"], ["jti", "d0b3d285-8eaa-4dd8-959d-d44a8baffc0e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$JBwtC7.QChwc.JldvUT8b.KioKYNIaIbc4zhASQ2mIp8ccELC5NZG"], ["created_at", "2019-10-09 13:12:40.049134"], ["updated_at", "2019-10-09 13:12:40.049134"], ["jti", "3ae61255-1654-41d7-bcf2-1ef3de789208"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$FGnBSneTJ2WIiq62jaugYuWnpJ96u.VpmBKXgJzaUuQJ6p9Wc8ZRi"], ["created_at", "2019-10-09 13:12:40.059968"], ["updated_at", "2019-10-09 13:12:40.059968"], ["jti", "db9e7dcc-e3e3-42f3-983f-1116214199a1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$kmHziE69466zSFwjmrMYGO8OcTdyZDMZ6X9gN5b6e0PeT8lu8e446"], ["created_at", "2019-10-09 13:12:40.071466"], ["updated_at", "2019-10-09 13:12:40.071466"], ["jti", "44ca916a-db4d-4c7e-a630-503734b27524"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$9TiqR1DnX/6OWFeEaUeiZ.qL31CVKwB2rX9xHq2fdAECAwRny6oBC"], ["created_at", "2019-10-09 13:14:26.290449"], ["updated_at", "2019-10-09 13:14:26.290449"], ["jti", "e4ea93ea-f00c-46e8-8f66-20c142d8a50f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$d8lRLm6RMR3yn/xIuhvusOiOsXgra3jzknSXFTeU8qGPFHZ3cxUrO"], ["created_at", "2019-10-09 13:14:26.301385"], ["updated_at", "2019-10-09 13:14:26.301385"], ["jti", "df3658b3-f661-4f1f-8418-ff2ad0118df1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$tH6VD0rnfki1sI49zF3XmuEmYnNxiy7/R0klhcP04NqBQKiJI7K3q"], ["created_at", "2019-10-09 13:14:26.313243"], ["updated_at", "2019-10-09 13:14:26.313243"], ["jti", "c4b92edf-7291-4de3-bb84-f9b2ad305939"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$2a3peHTKO.3TWPkdPJljY.9Pp6FlSEcHu6xAGWdOA8csEvSfYc6uC"], ["created_at", "2019-10-09 13:14:26.322482"], ["updated_at", "2019-10-09 13:14:26.322482"], ["jti", "b27218a4-81fd-486f-adf1-f34e8d1e9d6c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$HzcxH8oEQPp8J/CeqjwX/O6vtsnMNc4x1LaaWDj6nm7Np4UvVW.me"], ["created_at", "2019-10-09 13:14:26.333252"], ["updated_at", "2019-10-09 13:14:26.333252"], ["jti", "afaddc1e-5217-48b8-9500-bdd98df9c863"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$mkwnETQ2GOR/c1CUC957MeVjX4IjyB9k1iWzgNw.iwhh1Yqxa.atS"], ["created_at", "2019-10-09 13:14:26.343907"], ["updated_at", "2019-10-09 13:14:26.343907"], ["jti", "d8baad44-9640-462e-aeeb-8bf0ad261f29"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$sO15YRB17REIx12T7CHMQ.BNdlONLwaQ.H9Eb/cbg/AIhCzAu5C4a"], ["created_at", "2019-10-09 13:14:26.354172"], ["updated_at", "2019-10-09 13:14:26.354172"], ["jti", "f13b7fc7-8c31-4f68-88fb-28f27e9d2487"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$5j4BrejelLeGPtBJ80TK7.p3eqENXtgrXR0.V23SFxpSfklPcQo2O"], ["created_at", "2019-10-09 13:15:12.538755"], ["updated_at", "2019-10-09 13:15:12.538755"], ["jti", "83155171-8c54-45a3-933b-fd09eabda5a9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ZJm2OA92su6aq6DNY0C3BeeGlGGKOGeng.e9FNVODSkMjTv.OsAl6"], ["created_at", "2019-10-09 13:15:12.549919"], ["updated_at", "2019-10-09 13:15:12.549919"], ["jti", "031f3517-1675-4795-9c01-f7b52e2d1244"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$ej0Q28YmpP3SvFIqDO9jxu39CEUaVgHGu9fh1BUuhxJew9iVwYRt2"], ["created_at", "2019-10-09 13:15:12.563070"], ["updated_at", "2019-10-09 13:15:12.563070"], ["jti", "5bb85492-d67f-43e7-a38f-b41338f17037"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$NXc4dzWBFTz1b9mTdKwaoOltHLLhsUT9dJl8fS/yCFuorI7OPUnf2"], ["created_at", "2019-10-09 13:15:12.573944"], ["updated_at", "2019-10-09 13:15:12.573944"], ["jti", "b999099e-d225-4b92-bf8a-48478826906c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$e12EITW0E..KqKGH5wDXne.VyPnTBeN9dnPR1QwlPJvJCRI5FG30S"], ["created_at", "2019-10-09 13:15:12.583439"], ["updated_at", "2019-10-09 13:15:12.583439"], ["jti", "c9877ac5-95a7-4a93-9bd6-015383dd66f8"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$oJu1sUVDeVK/V3DJ453ouOi.FlKlA03hoHgcTTQ347ngbp4vYEaTu"], ["created_at", "2019-10-09 13:15:12.594513"], ["updated_at", "2019-10-09 13:15:12.594513"], ["jti", "381db45e-7d4a-434f-af5c-4e702213bbaf"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$oZGuTJmo/x0IcT4.sh.aLe6VF7GKoXLJOE2CQ5MYmPWfiZdYTubJi"], ["created_at", "2019-10-09 13:15:12.603729"], ["updated_at", "2019-10-09 13:15:12.603729"], ["jti", "84d016a3-1196-4d18-857c-ea8f9a72f010"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$3S8AfKQlunuPo4dPpOp0GuW2Wn3JZ8vchPay5.dNV2ug9xD1Zaqee"], ["created_at", "2019-10-09 13:15:29.565322"], ["updated_at", "2019-10-09 13:15:29.565322"], ["jti", "43dbeeaa-b446-47d0-89cf-a9e6f21a9b9e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$6R/xXG2WJRuQ21IxDsYgROWN3tZPWE80ZCdp8yc2sWv0kJDYPQ/jW"], ["created_at", "2019-10-09 13:15:29.576219"], ["updated_at", "2019-10-09 13:15:29.576219"], ["jti", "11ad6d35-a097-48e8-8424-7df645870a23"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$HUpZuNV8AgZEHUdDdkDQPeNvnakShiPmd91oBxz.RZk69IPb7rIxO"], ["created_at", "2019-10-09 13:15:29.585512"], ["updated_at", "2019-10-09 13:15:29.585512"], ["jti", "ed24c9fe-11ae-4b15-985b-e1f6c4f659df"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$I/IthTUcA8jx4CNb9krrROUaX2aGQwxetQhNIwqhTXvX4HmPo2lse"], ["created_at", "2019-10-09 13:15:29.595978"], ["updated_at", "2019-10-09 13:15:29.595978"], ["jti", "3bf0dde5-cb52-4bf7-a447-cd921f0c2ee9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$hJpyIx5.FINtdkjSfZTWMuZ0y62GfN1fnES/s33SeNM4PQYq5kOM2"], ["created_at", "2019-10-09 13:15:29.605159"], ["updated_at", "2019-10-09 13:15:29.605159"], ["jti", "e680ead0-72a8-4aa6-8c88-4899b311a857"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$C2YtzQtbxKrQXMOxPhhd6.ZYy/uEXiGNJOGz2eMBG7.k8dXlflcJW"], ["created_at", "2019-10-09 13:15:29.615846"], ["updated_at", "2019-10-09 13:15:29.615846"], ["jti", "e97f0bcc-d93d-4df5-843d-3bb91ce957f3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ELL.9IxHH4KZ69xaTn0jOuqNGTxlbzhWMKVEGncPhly0xxjcckJUq"], ["created_at", "2019-10-09 13:15:29.626933"], ["updated_at", "2019-10-09 13:15:29.626933"], ["jti", "cf69881b-caff-4eb0-a761-ea15487d9cf3"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$a4B0cZAHZsmFUTSWrs2c0.j8WDPuDwZwba5SSCy1f5VIp7BqyNYlq"], ["created_at", "2019-10-09 13:15:58.503806"], ["updated_at", "2019-10-09 13:15:58.503806"], ["jti", "e8d1e56c-6d5d-492e-85c3-95f2c4f0338c"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$qLie.XOqhekdnRSVt856t.jnwhWOxVtYkmbs3JPOK1mrGpcxII8bu"], ["created_at", "2019-10-09 13:15:58.515180"], ["updated_at", "2019-10-09 13:15:58.515180"], ["jti", "e0585fa1-4ff3-4f23-9685-fd2c579de5a6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$YMXkRcQZMm/lRqQBB4fkLerCO/.VVyrihvZocSFd73lMX.CLf5q2O"], ["created_at", "2019-10-09 13:15:58.528779"], ["updated_at", "2019-10-09 13:15:58.528779"], ["jti", "056b890d-646b-446c-9f07-b6451207e2ff"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$mmBciZ.DERmyI2agkPP6duEwUWUEZOeRBETEpXEmsedkjomOYuhRi"], ["created_at", "2019-10-09 13:15:58.539395"], ["updated_at", "2019-10-09 13:15:58.539395"], ["jti", "879cb14c-b08e-499d-a696-520d76312b94"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$V6ioZ7x9o6eLdoO1qEDcaem9CApdUvQi8ZMM/ueNXwGdMXe32uNMC"], ["created_at", "2019-10-09 13:15:58.550287"], ["updated_at", "2019-10-09 13:15:58.550287"], ["jti", "e734725a-8da6-463c-b4e4-c68f10943a9d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$H.WDxuY8uNKIiAdUVyNNb.QhY3NroKvas48xMiYW/ulMAqKUh1T.a"], ["created_at", "2019-10-09 13:15:58.560978"], ["updated_at", "2019-10-09 13:15:58.560978"], ["jti", "d49d17b0-d689-43bb-89c1-199e0b3ab2cd"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$00qJac8B8bLkum6Kf2MVpOIN/VjAiXEyY0LP1PHVf8VFNRXRzIJmq"], ["created_at", "2019-10-09 13:15:58.570290"], ["updated_at", "2019-10-09 13:15:58.570290"], ["jti", "51f202de-2c50-49ef-bab5-4325232cfcb2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 8ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$V3knB6po2m0l4XaTSYiWHOPqO6nxFfKNqZtdvoxbE44MjO1ntetRG"], ["created_at", "2019-10-09 13:16:33.667292"], ["updated_at", "2019-10-09 13:16:33.667292"], ["jti", "c011d224-508d-4c12-844e-bffd8d1c6a32"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$i0QNAjoj5TyUAVU.LFgwv.Mv15QfkFi88Ez5jUV9iv92AfDySx9xK"], ["created_at", "2019-10-09 13:16:33.679081"], ["updated_at", "2019-10-09 13:16:33.679081"], ["jti", "e6042e30-078c-4117-8e04-7c70a43869d5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$nJxIVxsidAfrf1MRVlN8T.poHPFTrxbl.9tLVXoGos49waCcmi2O2"], ["created_at", "2019-10-09 13:16:33.688254"], ["updated_at", "2019-10-09 13:16:33.688254"], ["jti", "bce488c1-5efb-4d0e-af39-6bdb44ada409"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$BUSqPgDLsrcEg/zdX5DYv.vbFA51Y7gy8X1irgMuFdd./TvCU84.u"], ["created_at", "2019-10-09 13:16:33.698561"], ["updated_at", "2019-10-09 13:16:33.698561"], ["jti", "9b58f6bb-81bc-4c12-a4c2-afaa49ac8656"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$WZARkWD7YbmdtY7/y9XwzuB5syS.yDO3LaiWle3.c3C1A0RpZOSPa"], ["created_at", "2019-10-09 13:16:33.707793"], ["updated_at", "2019-10-09 13:16:33.707793"], ["jti", "891c0dab-864a-43cf-9ea5-1407091afebe"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$kNBGI8HMFofDKbTNK5RS7e52rift/PrpHMuT1u4JKuYHYT8pfuJTi"], ["created_at", "2019-10-09 13:16:33.718099"], ["updated_at", "2019-10-09 13:16:33.718099"], ["jti", "019f480b-cddd-41c5-a29e-acc07408e8ac"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$j0dTbLgK.4tYgYcjC7/ikOn5tpu4wqsLFiJkGgjv1JS92klYiZdaa"], ["created_at", "2019-10-09 13:16:33.728623"], ["updated_at", "2019-10-09 13:16:33.728623"], ["jti", "88d3311d-c2f5-4a2b-8696-f8150fca3e2b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$/sY99qgMr.vnaHYzwerXreN5G4m/3QbkJiy4113fnbTIRjiHb6lLe"], ["created_at", "2019-10-09 13:18:06.802836"], ["updated_at", "2019-10-09 13:18:06.802836"], ["jti", "9264f514-7f3b-4f2b-98f9-c5609bd0110b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$.1kZIZyQNZUXBvgk/ldrN./hUZvd2HRurVVdG25oEzHSvVRciiOl."], ["created_at", "2019-10-09 13:18:06.819615"], ["updated_at", "2019-10-09 13:18:06.819615"], ["jti", "93575199-acda-47f8-8a3e-7d69b28d69ba"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$SpWKlaYMsjRtlOfVmivDjueuxEeUiQjcmxdV3iY5jIUofEugkJiE2"], ["created_at", "2019-10-09 13:18:06.833973"], ["updated_at", "2019-10-09 13:18:06.833973"], ["jti", "ca004591-53ab-4c95-b0ac-23baa5515db2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$kpGT1Qf9PxqSN/seUfjJNeYQdiZBGs6F.MVcSEJD5lesG4GFr.vD6"], ["created_at", "2019-10-09 13:18:06.847037"], ["updated_at", "2019-10-09 13:18:06.847037"], ["jti", "6512a2df-8fe7-4b44-bd3e-276bb7e95d3b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$G7Ga3DDp/VbH39JxEoJW1OvQpCpOBqgtSgxBl7ecXXYGYjK0Ivsvq"], ["created_at", "2019-10-09 13:18:06.861171"], ["updated_at", "2019-10-09 13:18:06.861171"], ["jti", "1705dae7-8c18-42bd-b3a0-56af5ccfa5cd"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$odrvmMRlIftOnzewEo6.MuYFfEkCLQApfK0mXOlTqHIa9iF450j9u"], ["created_at", "2019-10-09 13:18:06.875296"], ["updated_at", "2019-10-09 13:18:06.875296"], ["jti", "9418137d-8128-45fd-a056-8aa88fefcd6f"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$IC5XSyKItd14MLtC75kjsOedh6YKXVDXRYtBmi/KwtZtWEYGJKM42"], ["created_at", "2019-10-09 13:18:06.888551"], ["updated_at", "2019-10-09 13:18:06.888551"], ["jti", "b8397346-c9c3-4853-a92a-592a3ab6f75a"], ["role", 0]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$lPBeXz3hb5QOZKhOL7M90./v5PORFq6y8XciBHxDYQra53zDjZzr6"], ["created_at", "2019-10-09 13:18:14.237387"], ["updated_at", "2019-10-09 13:18:14.237387"], ["jti", "e5730407-6b4b-42ef-b331-d382114dcd0a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$UXa6LYi7ewPIhQq/mqeuQOISmnxuO6r6cM8V4nuyIhUUjdK1ATW4C"], ["created_at", "2019-10-09 13:18:14.258442"], ["updated_at", "2019-10-09 13:18:14.258442"], ["jti", "c6d6e87e-77d9-43d6-b8df-58776c46ef13"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$MLsiciEfUL.ktnrOUW5NlOrmZT3fEG1Uk68oGjfAh1315FCSdHoJe"], ["created_at", "2019-10-09 13:18:14.271448"], ["updated_at", "2019-10-09 13:18:14.271448"], ["jti", "1f2972e0-04d7-4a96-9342-42b22c577924"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Gfw9ApnMK8pT7dVzXKbHPeyssPyo102OzZg93/QPVmztBKl6wL2A."], ["created_at", "2019-10-09 13:18:14.286854"], ["updated_at", "2019-10-09 13:18:14.286854"], ["jti", "238b25b6-328a-4255-ba30-ad1fd636e6f6"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$IArcpa3piAR3epQnGi6mH.5YaaFnpl94If0qSRECjCqOwDPaW55SO"], ["created_at", "2019-10-09 13:18:14.301724"], ["updated_at", "2019-10-09 13:18:14.301724"], ["jti", "9d6fce7f-2b25-41b9-aa49-bac31a763290"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$C/TgbkNH2JA8z9B72X2B..Uy5rdW0OU.Z.UDN5NJPVDSKxk/l4eJq"], ["created_at", "2019-10-09 13:18:14.318215"], ["updated_at", "2019-10-09 13:18:14.318215"], ["jti", "79c33a46-27f3-4e23-b560-11a053d27f3c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$vPF4XRUHVAP69kPTC6aOH.h4VrEC1cRXDivaNJxiKJ74POcyTvVRG"], ["created_at", "2019-10-09 13:18:14.336264"], ["updated_at", "2019-10-09 13:18:14.336264"], ["jti", "31801882-5381-435d-bf60-1f46d55269e5"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$JK4gRm7cPwv9N5WC2g9Ft.Gjf4aV0WypbkGZ2kWndjsFLCTQarWEq"], ["created_at", "2019-10-09 13:20:31.512441"], ["updated_at", "2019-10-09 13:20:31.512441"], ["jti", "febdaca3-ab2b-4895-b0f0-32565ef97c73"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$QBghhJAMfEWLjVxh3mr5rOR15MkjF15V3FBp/6MlWeeYxdBhMapXi"], ["created_at", "2019-10-09 13:20:31.524708"], ["updated_at", "2019-10-09 13:20:31.524708"], ["jti", "9cb659ff-1c5c-49bd-9a48-e65bee5b3c5c"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$U6Wupfbp9wAWZ0GzlZClCefwifO5usCz1E122aGjgAnnTM3DnxC6C"], ["created_at", "2019-10-09 13:20:31.539332"], ["updated_at", "2019-10-09 13:20:31.539332"], ["jti", "e89e9752-d1c0-4853-9ce2-b5e408e07fba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$j3Ye2R5omFHsec3XIbP9SeUlXQNQTSmXiOXufKJQTlXNdB1vbGPCe"], ["created_at", "2019-10-09 13:20:31.554448"], ["updated_at", "2019-10-09 13:20:31.554448"], ["jti", "fcb11370-8063-4971-9864-953f72b88852"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$ZDhT4Jtql3UBdlxAbV2BdODSmF7FXIbyMe7nuPUkFlpFDgKL.Z.uu"], ["created_at", "2019-10-09 13:20:31.568986"], ["updated_at", "2019-10-09 13:20:31.568986"], ["jti", "16a6d9e5-5ccb-4177-9fb6-01a3980a7942"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$CEfd/gzUszHPe8eY/RT3GufCEJJMgx4cFtGqv6YEa0a9aqaPi8VXu"], ["created_at", "2019-10-09 13:20:31.583090"], ["updated_at", "2019-10-09 13:20:31.583090"], ["jti", "40983f5f-3568-45d6-852d-5d8c873c3ba2"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$v68/r3J4xLoprcLSyJ4o4.fVBBzx37iyToYy3QxriTR.zBobSc8.a"], ["created_at", "2019-10-09 13:20:31.597339"], ["updated_at", "2019-10-09 13:20:31.597339"], ["jti", "0899ef4d-bf22-4532-8411-a615bcfff72b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$9QhhjFoQxiIe/sx1B4.r7.SNyHfUBphSLaUpYqaA5i9Szc749Fa1K"], ["created_at", "2019-10-09 13:24:50.134231"], ["updated_at", "2019-10-09 13:24:50.134231"], ["jti", "3b9f4fb2-dc84-49ac-99df-5827be1f15ed"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$DpPhImdxEZ9iBN5fj8lOmO7xhslw580TFwZPYeZFCLs.LMX2TeMTy"], ["created_at", "2019-10-09 13:24:50.146613"], ["updated_at", "2019-10-09 13:24:50.146613"], ["jti", "b11cbcaf-5d9b-4f04-9f93-35ac06f98203"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$kuWdzI0L0jLf8u4cdlZzUuDOETNRfYSsB6sODLvpbf8QoWvldVP8O"], ["created_at", "2019-10-09 13:24:50.160586"], ["updated_at", "2019-10-09 13:24:50.160586"], ["jti", "0144192c-eea0-4694-8c11-ee06fab96b63"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$kJ5ZMXDzKm14OJ7bj31/wuOVS69CAiBas/rESCmgUjmjkFauzoUGK"], ["created_at", "2019-10-09 13:24:50.175939"], ["updated_at", "2019-10-09 13:24:50.175939"], ["jti", "472a54c6-70e6-431e-bffc-bbb63bd3affe"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$kNOA3t9geXERo5oaQNrtr.OMOgHSTPy0TfKI97/ApUciPq0UQXoXq"], ["created_at", "2019-10-09 13:24:50.190827"], ["updated_at", "2019-10-09 13:24:50.190827"], ["jti", "e33b2247-a148-48d1-b45b-fbe473e4651d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$pDvNqWHomISM/lY4MHY1UuXxRQsM.hvVWdG/FQCRyeEq7N9oyqMQe"], ["created_at", "2019-10-09 13:24:50.205194"], ["updated_at", "2019-10-09 13:24:50.205194"], ["jti", "7ea09625-3d6f-4cc3-a70d-9f9df0d8ca4e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$eS52PWYYtDtvTkxF5kUGEuZ78Qz.QqowqUeqho794pCEjWv3bNuJK"], ["created_at", "2019-10-09 13:24:50.218611"], ["updated_at", "2019-10-09 13:24:50.218611"], ["jti", "3a324718-13c6-4580-a279-f88f7415a482"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Le98fOT/tW0VMaabDeMP9uVZmN5KUxrIhHHaZs.CcxlrUeQle73ka"], ["created_at", "2019-10-09 13:25:15.803716"], ["updated_at", "2019-10-09 13:25:15.803716"], ["jti", "7e2bf656-0bf8-4a8f-b533-698a76bd4e0f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 16ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$S8LGs48OsOvrmw76TSKFpe03JaZsYPebLzMqciL8b9khyCv0MFmSK"], ["created_at", "2019-10-09 13:25:15.833932"], ["updated_at", "2019-10-09 13:25:15.833932"], ["jti", "1996f8de-df29-4302-b675-f0c68a936fb4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$PWM2kQmNJfSnrmfElt5nFOlu1weud9VhV56.I6qc6N24hoGW/V4MW"], ["created_at", "2019-10-09 13:25:15.847150"], ["updated_at", "2019-10-09 13:25:15.847150"], ["jti", "d8833558-7f4e-4f90-b5af-669585471b5a"], ["role", 4]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ipuZNr0nTMRCMVai35gOde5gvkhq9A98RKqOXIrn8QXMQD3rUy.Au"], ["created_at", "2019-10-09 13:25:15.863816"], ["updated_at", "2019-10-09 13:25:15.863816"], ["jti", "c7260ce6-3559-4ce8-853e-e36f8d0d399e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$diNRXiaIydst3HVYpPR.Vun2CXANMhWT3JnGEJD7u4nc8/93QXJIe"], ["created_at", "2019-10-09 13:25:15.878890"], ["updated_at", "2019-10-09 13:25:15.878890"], ["jti", "cf1faca5-002a-4dc8-8399-8c442e39edf1"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$.H7LXFtFtLlYHXymlQirneSs5j3xHcW.EnYy8xnXb4o/Ci.koBs0W"], ["created_at", "2019-10-09 13:25:15.894161"], ["updated_at", "2019-10-09 13:25:15.894161"], ["jti", "7495cea8-e047-4a4b-b989-4d109553839c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$2a9.qFO2hnimSHlC6OdmaeTjFsOO5kiOH87ZRu9eL35L5XKGht5mW"], ["created_at", "2019-10-09 13:25:15.910279"], ["updated_at", "2019-10-09 13:25:15.910279"], ["jti", "55dbe3a3-88b2-43a1-9595-cce225f3b4fa"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$QpA9YNMlJSMlNFbiFfQy.OgVoiJlvOBDbVW3GRXbsuZex6R4iPS4W"], ["created_at", "2019-10-09 13:25:28.076310"], ["updated_at", "2019-10-09 13:25:28.076310"], ["jti", "468535d8-9bf8-468b-a4f6-f0a8bd95363e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ll/Yj1HUOGpENCjmKKsiYObL.tz8ctDvqvjcKT2K8jzLqZS5e4rTG"], ["created_at", "2019-10-09 13:25:28.088235"], ["updated_at", "2019-10-09 13:25:28.088235"], ["jti", "e3a1809f-6748-4874-86f5-7e416bdb4a52"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$07VaUtzszgZvLDkFE5Nq6eyDmt9oYMZVxp/Nr7j9.709y/CByz3Ei"], ["created_at", "2019-10-09 13:25:28.100723"], ["updated_at", "2019-10-09 13:25:28.100723"], ["jti", "3b8f22d5-8359-4540-a79c-16a0b6744aba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$AaVI9AACBi21TMfbqnyE7OzEYmIQBaLCfWSP.to28izC7dmEcutDe"], ["created_at", "2019-10-09 13:25:28.112877"], ["updated_at", "2019-10-09 13:25:28.112877"], ["jti", "5ca3f68c-06d2-4163-b486-687b7b53e570"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$VGdzuWBFxcAuCvqU2aY30.RHtjSFwMLF04qzzIpSAB2Jy6KlK2AdS"], ["created_at", "2019-10-09 13:25:28.125242"], ["updated_at", "2019-10-09 13:25:28.125242"], ["jti", "af349ceb-8299-4c60-801a-d7d539b0002a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$NLD8uLndtn.r6.9IXQJG/.st7KtZvOCVduMyc7NUpt6t2hqnPfPv2"], ["created_at", "2019-10-09 13:25:28.139538"], ["updated_at", "2019-10-09 13:25:28.139538"], ["jti", "8ff6c1fd-df17-4303-bdae-6a5cdc7c73ed"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$w3PLfm2OHq52g1rTOvRz6u2dC/3G5Xe.V8r23v769v5YUGpgdCTJ6"], ["created_at", "2019-10-09 13:25:28.152641"], ["updated_at", "2019-10-09 13:25:28.152641"], ["jti", "d64b7f07-0c96-404a-8d50-ed176c9be241"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$umEgeUQKDwbRT45yewFP4u5jvCVAvlAV.8I7wHXEoRAA23Q/II7pm"], ["created_at", "2019-10-09 13:26:40.656209"], ["updated_at", "2019-10-09 13:26:40.656209"], ["jti", "ee1f7135-8c19-47e6-9f09-2efa3c4abbba"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$0lRPCuBHXETeA3uQoeAYlO0BhVQdURBytDyzCKezhG4u.A.TIKFpW"], ["created_at", "2019-10-09 13:26:40.672470"], ["updated_at", "2019-10-09 13:26:40.672470"], ["jti", "ed107b5a-a98d-4a41-adff-21324ffc501b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$OO8URHViZLqD8QlzRWqWVu2kx469vE5llIWlMJrbloy6Qgj8eIeLG"], ["created_at", "2019-10-09 13:26:40.686827"], ["updated_at", "2019-10-09 13:26:40.686827"], ["jti", "586d32cf-85de-4144-a8ca-0a831e15b6c4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$DTBvxpWs8.xG8CyrLl87cuHrntGo1Gkq9y7e4slMklPKNaZ2b5XPq"], ["created_at", "2019-10-09 13:26:40.701747"], ["updated_at", "2019-10-09 13:26:40.701747"], ["jti", "2d4a1764-c03c-4891-bd64-6d673df2cecd"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$PYbR8uXsc2VqS/DImQj/LObWE34iVSXLzNsBiKJg9Yn.cwuOs2ZgW"], ["created_at", "2019-10-09 13:26:40.714371"], ["updated_at", "2019-10-09 13:26:40.714371"], ["jti", "37d64eae-123d-4c69-9827-9abb7e64a707"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$2iwPNv0DryGNbCK4XIbvc.Np1u6G3g7vSGxVaFpfA6PZ0gxLX/jS6"], ["created_at", "2019-10-09 13:26:40.728447"], ["updated_at", "2019-10-09 13:26:40.728447"], ["jti", "fc98f362-d0af-413d-bf59-556f5ea35b0c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$FPOjCQ0DrizYGDHVv4KtWODycRpQyNSmCqPz/oVvOAyFfLJfAsZ5K"], ["created_at", "2019-10-09 13:26:40.741699"], ["updated_at", "2019-10-09 13:26:40.741699"], ["jti", "16545222-b09a-4fd6-9116-ca7ca1c26ed9"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 24ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$amwdQnKpLmkpfKRx9UGvruFoGp00y3759..qlhZSrMo2OVIAoTGue"], ["created_at", "2019-10-09 13:27:16.617854"], ["updated_at", "2019-10-09 13:27:16.617854"], ["jti", "389e38fb-7ff9-4e32-b002-3944a95a6be2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$2cfJT1LeA.4WfQReEnVqz.LI1LGBw6CWVTVgh5Rri.SXnRyIJ6Zwq"], ["created_at", "2019-10-09 13:27:16.633170"], ["updated_at", "2019-10-09 13:27:16.633170"], ["jti", "66e1f468-5097-48d5-99ff-99010941e6b4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$hI/5mpQyXt6wtwxC94it1.XDx6wi9KVAfR4cSOR4jzk3CrHNheLDu"], ["created_at", "2019-10-09 13:27:16.646639"], ["updated_at", "2019-10-09 13:27:16.646639"], ["jti", "aae11d28-6b2a-46cd-ba0b-aeddd0ccfc7d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$8i9vyxC.BXDL4a0aEk4FNueEYlLd4iwNJTbbcFEsNyeNcayzOiXYa"], ["created_at", "2019-10-09 13:27:16.659941"], ["updated_at", "2019-10-09 13:27:16.659941"], ["jti", "2a5684b9-3ff4-4dd9-bc10-3669598b5995"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$M9ucV3mVFdl6WGADZQdFKeZLilLYidG4HP9HzRzbxlDXWg54fL97G"], ["created_at", "2019-10-09 13:27:16.676753"], ["updated_at", "2019-10-09 13:27:16.676753"], ["jti", "111e8f02-356c-4acb-b2d1-d0457993e0d8"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$I.Zo8dDPafuj5Mi9kk9iZOmQTVpx7sySysQuzwQP3Jn9ZqKyeknVG"], ["created_at", "2019-10-09 13:27:16.691106"], ["updated_at", "2019-10-09 13:27:16.691106"], ["jti", "8e0dccdf-fb72-4aee-9bfb-4144f347eff3"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$.7O/wJRxOeJoZq5EYPLFseOUjC.esAX/2se03IyKAwC0S/0t3C6lK"], ["created_at", "2019-10-09 13:27:16.705550"], ["updated_at", "2019-10-09 13:27:16.705550"], ["jti", "dae05da3-c8dd-4123-8eca-28fad2a3b663"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$/mHZedd7sFwYH71RGXNst.2WPnEEewzIAfSE/hdukP6pnJnrYr/U."], ["created_at", "2019-10-09 13:27:30.103136"], ["updated_at", "2019-10-09 13:27:30.103136"], ["jti", "c3c081a7-2981-4dbc-b03b-9adb5d9e8ff9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ZXoPTTMh/iXrU.HTKiSOd.dZmnTJFegA6NW0jUdQNXBE82mTlnCsq"], ["created_at", "2019-10-09 13:27:30.115480"], ["updated_at", "2019-10-09 13:27:30.115480"], ["jti", "1dde584d-d291-4079-8259-e50b1e96a3ff"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$XF2TWHjxQ.WUmGU7sIP17erOKtR8d1P/RphSYHMXyaoTQjCuM4bT."], ["created_at", "2019-10-09 13:27:30.128532"], ["updated_at", "2019-10-09 13:27:30.128532"], ["jti", "f86c43f6-df27-43ef-9e6e-acf5d3d04049"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$jgCxV1bIqnwQiMjcFszt8OOfgxXlNhKZY1SjBgHRebJdxmF3z/eSK"], ["created_at", "2019-10-09 13:27:30.141581"], ["updated_at", "2019-10-09 13:27:30.141581"], ["jti", "781372c1-b237-456a-9f69-ec495d1305ee"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$oMi2eimTXk1D4M7NWYshQunUPZSbCEwYqmxCGPBusJOL0RUr5LsBm"], ["created_at", "2019-10-09 13:27:30.156767"], ["updated_at", "2019-10-09 13:27:30.156767"], ["jti", "366a8dca-12c3-4fa2-979d-929bd8151ce1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$AB4hSBm04a5uah8idjZGVO1wflsjXZdq4Lhowv1UjAcF8m1M0gRcO"], ["created_at", "2019-10-09 13:27:30.171301"], ["updated_at", "2019-10-09 13:27:30.171301"], ["jti", "816cd379-4b62-4c9a-ad6f-1e64e14b383c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$yAvKIbYvhCNc8nCibLQTUehvqmUOl8cSmH2I2O4Zo.kwDRoxuhmpK"], ["created_at", "2019-10-09 13:27:30.186748"], ["updated_at", "2019-10-09 13:27:30.186748"], ["jti", "16d10ec9-9d55-4666-9404-6d1c9673bd3f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$DPU4czS72G59Pm0ZKq5z4OiZzG0veXNthiN6qknUGFdEOgIN8yFCS"], ["created_at", "2019-10-09 13:35:41.394200"], ["updated_at", "2019-10-09 13:35:41.394200"], ["jti", "92ec7a32-5357-40ae-8901-4d27ad2dde8a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$DFX9C4r10VjjXsbJWjbuJuqrJc84.wVICd8oP57d5cC5Isj575R1u"], ["created_at", "2019-10-09 13:35:41.406209"], ["updated_at", "2019-10-09 13:35:41.406209"], ["jti", "6be01b8b-569d-40fc-b8dd-0baebf1cbf23"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$hzZBynQnSyVCMe3Bd6M/tOrogWJ7bboaGpWDb7CqAUY6GqBGwcMK."], ["created_at", "2019-10-09 13:35:41.419419"], ["updated_at", "2019-10-09 13:35:41.419419"], ["jti", "f349fe41-f1d7-4244-aec4-4e5453d6ce49"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$LH3zaZlDYJ1Rq6.J.zSu0uG9DilrRzLbmRzf9YFhie8tDa64L/oke"], ["created_at", "2019-10-09 13:35:41.431644"], ["updated_at", "2019-10-09 13:35:41.431644"], ["jti", "5d3e832e-a0ae-4b71-9792-32517189dbca"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$wWM7HnDoD3ay3hHNkSzxs.MiY/AqTrj088.TotuuIBd5XIeCpGfx2"], ["created_at", "2019-10-09 13:35:41.443864"], ["updated_at", "2019-10-09 13:35:41.443864"], ["jti", "87bea9b5-98b1-4271-a451-5662b8508c84"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$3hsjub6sWCJ6e2R4z4Ut1O3SU4Ts4k4.nP3gmUr.vWvGMaufzS0am"], ["created_at", "2019-10-09 13:35:41.458674"], ["updated_at", "2019-10-09 13:35:41.458674"], ["jti", "5ef19279-a46a-4399-a3fe-b76ac598b058"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$RcVqEM9V/A7Nz.i/0ctKEuw03qL/u36UPHvrN68K1GQWmZUbe52xe"], ["created_at", "2019-10-09 13:35:41.470853"], ["updated_at", "2019-10-09 13:35:41.470853"], ["jti", "bfc96e56-4dce-4942-b83d-30b4c8aada3d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$dfY/t3gK2P1334uJyhjXq.UKNVPA9cQ7Kau27XhKcUtuGyuFTMFwy"], ["created_at", "2019-10-09 13:46:32.444210"], ["updated_at", "2019-10-09 13:46:32.444210"], ["jti", "4a2fb898-049a-4408-9daa-3407a2fdada9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$aMYMf5YgQswuRBJM5kXzLu6b5LL/k.eLFk3SpUGl/InkedaCY1QQu"], ["created_at", "2019-10-09 13:46:32.457570"], ["updated_at", "2019-10-09 13:46:32.457570"], ["jti", "75c23f1f-09fa-44fa-b60d-bf0aefdd93c7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$rF5nmE5MuGoIUAeCg3BV8OTm4v2cCoJPxb9ctOtAsJietm4GrUr9G"], ["created_at", "2019-10-09 13:46:32.473365"], ["updated_at", "2019-10-09 13:46:32.473365"], ["jti", "0a60a073-90ae-47f4-ab50-b832e9f96d63"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$KpHHMjNOZaln3C0K1T7qJej2SLJyrIYinBG6mXGKezE5qZt7Ow2e6"], ["created_at", "2019-10-09 13:46:32.485158"], ["updated_at", "2019-10-09 13:46:32.485158"], ["jti", "3a0eef34-aa68-4f9c-9652-1e7b6fe491fc"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$APDbQPPU0/00DFnP2IQI1uS6AB4VQqy37C1YR2wX3QsnG0uCtHZvG"], ["created_at", "2019-10-09 13:46:32.498274"], ["updated_at", "2019-10-09 13:46:32.498274"], ["jti", "15401a3c-d3e5-43df-ba62-992f8241d484"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$DHxIQZ9tjkgyFODzGvwpCudWa0r6JjpDMGogYyVFn0Vbj4ZN6C1TC"], ["created_at", "2019-10-09 13:46:32.510284"], ["updated_at", "2019-10-09 13:46:32.510284"], ["jti", "cd2fec37-87e8-4a13-aee0-6d03d2ff6265"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$udDSC8UzZ2ULhXmvxeAn0uSOF36eT0jkGZ7RehBefSeOlMflMd.za"], ["created_at", "2019-10-09 13:46:32.522336"], ["updated_at", "2019-10-09 13:46:32.522336"], ["jti", "a7252295-a5f2-4976-91a4-a55013e15885"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Zhe6bYOiyhkL87Rc.M1wz.N2nxzxRGeQO47J5DN5axAPoJyARvwIO"], ["created_at", "2019-10-09 13:49:50.253867"], ["updated_at", "2019-10-09 13:49:50.253867"], ["jti", "30e7d460-c870-4e08-995f-4c76f672ed26"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$B6kmI3IjpK5pm1dFGKS3cO/lkrLmDdSr3nC69D5Z3Ib1u5ZsxFBQ6"], ["created_at", "2019-10-09 13:49:50.268101"], ["updated_at", "2019-10-09 13:49:50.268101"], ["jti", "f1a6f926-875f-4680-a58f-b4c62fd6706d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$oXoNEdxx3KJ4Y7TXq0oaFOOdcfXFSTH4nEqrcYFGfpx0zzxew4x2e"], ["created_at", "2019-10-09 13:49:50.283873"], ["updated_at", "2019-10-09 13:49:50.283873"], ["jti", "ed03301a-aa2a-403f-bd37-38168497d4f1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$oIvHoK2hEKx1gxiA1dnFOeb/qQrIBWsKTXdqRtbc/nM20KV6jgd4i"], ["created_at", "2019-10-09 13:49:50.298282"], ["updated_at", "2019-10-09 13:49:50.298282"], ["jti", "e44d7342-248d-4fa3-9c38-7216f7a9c25f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$J7t1EwtrDaRUEBtFIAZQ4OxV0cpmDrEyN9xXI0grXysFEtiFPP/4."], ["created_at", "2019-10-09 13:49:50.313170"], ["updated_at", "2019-10-09 13:49:50.313170"], ["jti", "77968cf5-e876-4c42-b911-839fee303b9f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ZdNUaF9OMBE8fQTBJPLv9er5bw/K186xLa2Rfrd3ZA5snJucbj7Hi"], ["created_at", "2019-10-09 13:49:50.325726"], ["updated_at", "2019-10-09 13:49:50.325726"], ["jti", "700cf3e5-5d39-4b6c-a02d-202f30240830"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ZZBiM8oo69imZcTynEm9yOcMIftVk7RyFwJ6Rwi.a8uYtC2fy8zjK"], ["created_at", "2019-10-09 13:49:50.340031"], ["updated_at", "2019-10-09 13:49:50.340031"], ["jti", "7352d51a-3e96-4704-b7ad-c39b9fa00bca"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$w5warqboXV623BPYdYHMbeOID7BqipZ5MRQDd0kyO6vX.cxxTqntu"], ["created_at", "2019-10-09 13:50:44.895282"], ["updated_at", "2019-10-09 13:50:44.895282"], ["jti", "260e98b9-8d7d-4bcb-bb53-7b16592ae527"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$bGgn6VPCjna6sTE3nONOgesBAzY15CKKNqC8EqAflanOzF9JB2dwW"], ["created_at", "2019-10-09 13:50:44.909636"], ["updated_at", "2019-10-09 13:50:44.909636"], ["jti", "7d07fe01-e969-485d-97a7-bc34fe54aebc"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$U4bcw6/AhK.hKqtThEoDzup/iZzhUgnqC91fUtHZLRsFVl7jEe7xK"], ["created_at", "2019-10-09 13:50:44.924072"], ["updated_at", "2019-10-09 13:50:44.924072"], ["jti", "2bdb46af-daa3-4c41-b240-96760ed098ef"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$PnqHEb7JQ9UDFNZ8uYwwZuxtWpXQ3G18/ax4wdL6/vF4KyJpNKtb."], ["created_at", "2019-10-09 13:50:44.938383"], ["updated_at", "2019-10-09 13:50:44.938383"], ["jti", "e714c109-41b9-4603-a38f-0732b83daff6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$haA5pdXFqXPhaLBqfdfGPOCyiRmsE3bgT6EqKoIkfUyZMa2dLid3y"], ["created_at", "2019-10-09 13:50:44.951564"], ["updated_at", "2019-10-09 13:50:44.951564"], ["jti", "6dd6d0e7-52b4-4d60-a248-8f299b662bf1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$KBnxB95xdWEqMavddlo5yurSN3ePBTtYPG8rguzZhv0aO9JCU85qG"], ["created_at", "2019-10-09 13:50:44.963147"], ["updated_at", "2019-10-09 13:50:44.963147"], ["jti", "e69a2dc4-92b6-4048-8716-495e001f1e58"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$F8LYanJXZK5NnkZcB1FEFuilrbbc79jBZUkXSeTBx/O/sdSSyU3aa"], ["created_at", "2019-10-09 13:50:44.976636"], ["updated_at", "2019-10-09 13:50:44.976636"], ["jti", "17584e12-61d7-4e85-9cc2-da4caa81c00f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$CWeEzwhUQvFQnuC6XxmQ0ezb7/XTd/XLROn2eOiMQw51TQhiQZ4/W"], ["created_at", "2019-10-09 13:51:34.183599"], ["updated_at", "2019-10-09 13:51:34.183599"], ["jti", "45845d5b-04b6-47f8-8649-088f2b8aacdf"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$g1i6ZuPTLdOanjiYe3pGNuIOgsoK4sD4oilN6eMMH.IdaLjicazq6"], ["created_at", "2019-10-09 13:51:34.198436"], ["updated_at", "2019-10-09 13:51:34.198436"], ["jti", "0b7ec38d-d478-4001-b4a6-84e91cebd505"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$5IQIoml5k6Ohm930rfjDrO/ffrIw5H1ZHhFUXIsWONrXZTBN8yGGC"], ["created_at", "2019-10-09 13:51:34.213687"], ["updated_at", "2019-10-09 13:51:34.213687"], ["jti", "4814f0f9-306d-49bb-983d-96cfc046d15f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Q018FvmkDodSPNsBOJwXdO3RCZ1wbs2tY4CMshnF/SPLJ0gZ/dDym"], ["created_at", "2019-10-09 13:51:34.227887"], ["updated_at", "2019-10-09 13:51:34.227887"], ["jti", "b4b503a0-eb44-42ec-b09c-b6ffd254ddfb"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$/LJ1ud9caJpkv1cfsiYzNe/r2fCv2r3iB/ntoYhgoLRds9TSfjxwK"], ["created_at", "2019-10-09 13:51:34.240720"], ["updated_at", "2019-10-09 13:51:34.240720"], ["jti", "ba423601-a9ab-419d-bf3e-22eab4e19b62"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ujCRTXn/ju1/59E93U3GUecaHus1XQhhKYO0XGvY7CrtM2knO7LBi"], ["created_at", "2019-10-09 13:51:34.254912"], ["updated_at", "2019-10-09 13:51:34.254912"], ["jti", "96dad908-461b-4a33-b213-4a39b05253b1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$QAF6ny.gqnG/62e7n.9Rqeocw0uda0Zww8KpZcMAFLNFpkgxHDQA."], ["created_at", "2019-10-09 13:51:34.268014"], ["updated_at", "2019-10-09 13:51:34.268014"], ["jti", "54e9ac3b-7732-48ec-adfe-f36f52943a4d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$vCauLyZD5zxdo5ZQ/5OG2.QxKsk7yJ2qti2cU2u9ze1XKduiU9W22"], ["created_at", "2019-10-09 13:55:29.968278"], ["updated_at", "2019-10-09 13:55:29.968278"], ["jti", "2a077989-ccf1-4b8f-b357-c13219a16d34"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$fmLXMJ46Kvya7KY1UAsYgeYimf7KWNiPYgPqXc8PQsvyiPaXxokSy"], ["created_at", "2019-10-09 13:55:29.980946"], ["updated_at", "2019-10-09 13:55:29.980946"], ["jti", "106cafac-8b12-483e-a36d-6501364469dd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$VAia43PmKA/QaE0/.Gi0pulAZyrJHHRx9CJOH34hyR5enXz0y/plm"], ["created_at", "2019-10-09 13:55:29.993476"], ["updated_at", "2019-10-09 13:55:29.993476"], ["jti", "430da221-aa6a-43a4-a674-94a848b6d9f6"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Ez3m8YBAwP3fVE6aFjSPm.ofvFgTFIyvHSmWB2fgXpUdUK4fKonDm"], ["created_at", "2019-10-09 13:55:30.005480"], ["updated_at", "2019-10-09 13:55:30.005480"], ["jti", "046bee45-bd74-4429-bfe4-c17c56640881"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$xCBZSocyXOtwUe.wj4es2.R40Z6wL4lH4xVycS/wd.8rDArIO10wS"], ["created_at", "2019-10-09 13:55:30.021228"], ["updated_at", "2019-10-09 13:55:30.021228"], ["jti", "80a62d05-2476-46de-9f2b-3a384372f4b6"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$IvAnrO8ykQB/ZTfxH3GQQumn7Sb//f8aCAJTpSwW8/I7okQw3phHC"], ["created_at", "2019-10-09 13:55:30.035084"], ["updated_at", "2019-10-09 13:55:30.035084"], ["jti", "0ff3a61b-d19f-498a-bc56-924dfbd04749"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$eCLqz7VB5E93/kPDt2/aEOGgOmpu/BqWFG1Z9Yra9Wb62HpU64uDu"], ["created_at", "2019-10-09 13:55:30.049640"], ["updated_at", "2019-10-09 13:55:30.049640"], ["jti", "8e03688e-995f-486c-9e00-9c57ad8a4ce7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$tpOSO9jI6ExDC4OAlBKrWuuhBjl.vq2O3bN42hZrA0MOhceKtwKAi"], ["created_at", "2019-10-09 13:55:30.073218"], ["updated_at", "2019-10-09 13:55:30.073218"], ["jti", "14a1da45-14c5-4b3a-94d4-20bf3677b6af"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "14a1da45-14c5-4b3a-94d4-20bf3677b6af"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6ac399b4-1609-477a-aba5-d339456b8009"], ["id", 264]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 65ms (Views: 0.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$0zE.F5HxwbcUcenwG5Z9.O0cJOYpXXmznnqRD0Ykq1Cpm9luIxi.e"], ["created_at", "2019-10-09 13:56:27.506423"], ["updated_at", "2019-10-09 13:56:27.506423"], ["jti", "ee7f74f9-fd59-429f-93fc-d13753eb3b6c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$Qbj8n9tU9iIXT7mz5RHvqO8mCuvTJuOmnz1U2Xjpsr0JCbinFb61W"], ["created_at", "2019-10-09 13:56:27.519490"], ["updated_at", "2019-10-09 13:56:27.519490"], ["jti", "a775de6c-e2c7-4c00-95f8-5a2907c85c85"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$676XHB9vLBXWHEPG94TC3uJcNnLWQvqSqHznVXfZEi1fcNiR3zaSG"], ["created_at", "2019-10-09 13:56:27.533248"], ["updated_at", "2019-10-09 13:56:27.533248"], ["jti", "29061077-ba4f-4d84-80f6-6ec78299d138"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$2lhpp9tieHqqJwWiqFqfUuPktluukXBh7ddX8wyIXga.NzL6ffinK"], ["created_at", "2019-10-09 13:56:27.548200"], ["updated_at", "2019-10-09 13:56:27.548200"], ["jti", "dc4f0da9-ec35-419e-bacd-dbf207668b92"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$lJxGX8LVD0AS0v1LLtg0Ku8WcmuhpGR1NmnHC7j/2sCqWU9ydgRxy"], ["created_at", "2019-10-09 13:56:27.566233"], ["updated_at", "2019-10-09 13:56:27.566233"], ["jti", "193194e2-6bdc-4012-9c3b-ee9d00005ba5"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$6yQ92QvFbxyoVB5X906qB.qMO53vikVo0OjMWw72EZkUHAmwvGXNm"], ["created_at", "2019-10-09 13:56:27.580596"], ["updated_at", "2019-10-09 13:56:27.580596"], ["jti", "0df806d9-330f-4872-91b5-5bc52778c63e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$XQzps1QLCop1mYbx5KsRL.s4B./YYZqIEaTO68iJeZdeIt06O4o7O"], ["created_at", "2019-10-09 13:56:27.595588"], ["updated_at", "2019-10-09 13:56:27.595588"], ["jti", "a5ad1bfc-2e41-4646-abf8-e86bbfb94396"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$WxpUDLXy/lqigsW7Q3bYBO3PTYgMljEC0744qD.v.Gw/KV7cZawDe"], ["created_at", "2019-10-09 13:56:27.619759"], ["updated_at", "2019-10-09 13:56:27.619759"], ["jti", "4a7e728e-47a5-4ad0-b350-41d5365b2893"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$0bMhVxk3ZJhWpxT/vQ9KAev.IslqlX3PH.ukd2ncM0h4ko05Tl7SO"], ["created_at", "2019-10-09 13:56:39.269531"], ["updated_at", "2019-10-09 13:56:39.269531"], ["jti", "266eecc6-da86-491a-8f73-dfcfea8a46e7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$j7.SVKKRWFMLvS0PNwXHqOuI5DjkP086BXx/5UhkEill5G0.zSe.."], ["created_at", "2019-10-09 13:56:39.284287"], ["updated_at", "2019-10-09 13:56:39.284287"], ["jti", "82d644b6-16bd-4497-9fb6-eddbc78d8e7f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$LjNDb.qtbcbfj4T4UIbwB.wzCZfH.z5iTd9eHomBmp8hXvh3VNmCG"], ["created_at", "2019-10-09 13:56:39.296759"], ["updated_at", "2019-10-09 13:56:39.296759"], ["jti", "66cafe72-6500-4598-b69a-c732c00a9270"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$dNlJhIQ8dVokP1Fcw0G55OO82Pe0GEw7mOPGD.aPY9i8rdMbaz9US"], ["created_at", "2019-10-09 13:56:39.312142"], ["updated_at", "2019-10-09 13:56:39.312142"], ["jti", "255db709-23c7-4db6-af97-7038129e64a5"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$fhiOwcqG6ylRSnrAfaGJe.EJYzhF1w/rVY.MNgOArYpk5MfEP8XPa"], ["created_at", "2019-10-09 13:56:39.326243"], ["updated_at", "2019-10-09 13:56:39.326243"], ["jti", "83cddd57-afb0-4189-8c91-524fd9128178"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Ly.MhQYzxlr5.SwzGwQeYePvwz5HQPDFVvQW0hlRUqKm0dqw8BAgO"], ["created_at", "2019-10-09 13:56:39.341226"], ["updated_at", "2019-10-09 13:56:39.341226"], ["jti", "bf858a77-d1c3-45f3-b143-c89e1f02feda"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$Yg7XV1dbPNIYA.Nq0nA7eeKnyGFxn2roeg6w8qLQPyxfonmanKHJG"], ["created_at", "2019-10-09 13:56:39.355661"], ["updated_at", "2019-10-09 13:56:39.355661"], ["jti", "47202235-a45d-4a7b-80f6-452307658eb3"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$/EsIHkeo7v1p5x4X8kAk7uo5HTa91KKP/UZn9fKN0kbq04ioBKPRG"], ["created_at", "2019-10-09 13:56:39.375729"], ["updated_at", "2019-10-09 13:56:39.375729"], ["jti", "1d515c99-0102-4bcf-92b9-a5aeb174eb15"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Ie35TBPLivRHciVOX.GCE.Ni7/tEUoUGFmawBeqbSYNvnllRJ7GRa"], ["created_at", "2019-10-09 13:57:12.784522"], ["updated_at", "2019-10-09 13:57:12.784522"], ["jti", "dab694c6-4821-42e7-b459-5f330c619607"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$KNce34Welsxy9sTLCcemh.7QoOEaVe/oqbBxfKVErC4XWVmTZP8BC"], ["created_at", "2019-10-09 13:57:12.799141"], ["updated_at", "2019-10-09 13:57:12.799141"], ["jti", "70323f30-fd7a-4360-bd60-4dff9b0900ab"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$z6XgXweE361t7xLuGGmkbeugyW2pf6UqcCgxZLmMfe/jjoUHlLXWS"], ["created_at", "2019-10-09 13:57:12.813571"], ["updated_at", "2019-10-09 13:57:12.813571"], ["jti", "d21f0429-c34d-4ee0-883b-cd5961139c45"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ZDpPmjS9uTZhpPggtdZUvuYzpALhSA18Hr/o0fDXOHKY0hIt2YzFe"], ["created_at", "2019-10-09 13:57:12.828510"], ["updated_at", "2019-10-09 13:57:12.828510"], ["jti", "9c8eb6f5-0427-4546-b33c-97209c191636"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$ZiidADgiJkfVtSHN41eL.uTztXYQd8CZQamo2d6DGVVVTriuYWsKC"], ["created_at", "2019-10-09 13:57:12.844345"], ["updated_at", "2019-10-09 13:57:12.844345"], ["jti", "7e629f44-f711-4787-920f-f2f5b8a97c20"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$C37pBRzFA1KzWAk/dOcg7OiWQWtWPsJEFwOPJGBQHhptI1GU8Tet2"], ["created_at", "2019-10-09 13:57:12.858085"], ["updated_at", "2019-10-09 13:57:12.858085"], ["jti", "88ba540c-3318-4e57-ba26-c9f3a84a1a0c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ABjdEsx8wbR443p0zOcMLuMTcZ3U14rPM2L2BG1k6jCKB5ZhNiJ5e"], ["created_at", "2019-10-09 13:57:12.872295"], ["updated_at", "2019-10-09 13:57:12.872295"], ["jti", "25fcfe80-f66c-4118-8b1c-1add5ac59a88"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$S8OFdjFn8L1GXXhMxbHzteutHVZ9Zhm9R4uIX0eVKZ6/g6VpCidIm"], ["created_at", "2019-10-09 13:57:12.895625"], ["updated_at", "2019-10-09 13:57:12.895625"], ["jti", "bd12afcc-e6cf-475c-b725-297992d1ffe9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bd12afcc-e6cf-475c-b725-297992d1ffe9"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "c9139921-0805-453b-8066-4d115edbb06d"], ["id", 288]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$DQbODKZXgpE80GvP..eTpu0QRj5WEsi86WqfklaeDEJHxhzjdcfFq"], ["created_at", "2019-10-09 13:57:51.233509"], ["updated_at", "2019-10-09 13:57:51.233509"], ["jti", "ed396562-08d3-4be4-b824-5794a8025d6a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$wz48iHBkbTfYVFg53s3TDuoKP7lPhbfDYCJkHYTfXWr60srll8JGC"], ["created_at", "2019-10-09 13:57:51.250973"], ["updated_at", "2019-10-09 13:57:51.250973"], ["jti", "acda1938-f27c-4eb8-86b3-c2f38d43a2a8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$jf.5gu3Ep1uYiK9irbLb2uqnL5OTq66tmWKUaaWdgeMBHcUm61TO2"], ["created_at", "2019-10-09 13:57:51.264454"], ["updated_at", "2019-10-09 13:57:51.264454"], ["jti", "ff55454f-b509-4499-82d3-24daafbf3982"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$X0sKUGhwiM5FARIsbRzaMO5izUrwLxgejZVEFTudiuzlOLfTyTUO2"], ["created_at", "2019-10-09 13:57:51.278768"], ["updated_at", "2019-10-09 13:57:51.278768"], ["jti", "02d1d7ff-7309-42b2-87c2-e2989083243d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$sRytVCkBDUq6q3X4xdggG.JyIEeon9kgHrz.pNBWVhPsYIloyrgca"], ["created_at", "2019-10-09 13:57:51.293655"], ["updated_at", "2019-10-09 13:57:51.293655"], ["jti", "2b8175d4-fd7b-4da9-b5c4-a68cadd05acf"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$QSYm0BfGb21cYJS/14Jpr.M9K70X4Q0Fc5vchwHPTptvl0JDErrTW"], ["created_at", "2019-10-09 13:57:51.309386"], ["updated_at", "2019-10-09 13:57:51.309386"], ["jti", "32b82fd3-ceff-4cca-93ce-004aff2b38ee"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$yO17bswmphK5a6FzSsAB6.MyMXdjxzHlpxnmq2sDf0xSZZMuBAVw6"], ["created_at", "2019-10-09 13:57:51.325148"], ["updated_at", "2019-10-09 13:57:51.325148"], ["jti", "01fa4293-03ad-4e73-9f68-6a1f1a5bb11b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 2.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$f.r.csLFQWKD1QT2cgPi8.LOj6X2O4SAXwYTcjjQuYjeVycdDquUe"], ["created_at", "2019-10-09 13:57:51.353397"], ["updated_at", "2019-10-09 13:57:51.353397"], ["jti", "4d5fa87d-7c8c-4f50-bbf4-d058da13c7ab"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4d5fa87d-7c8c-4f50-bbf4-d058da13c7ab"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "89fe3a64-82bd-4075-a516-52fede9b53be"], ["id", 296]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$q9Hq.VDn9KFNxPPkSbZO2ORiKCu1fwtALGY6LXFVxkeK.WthNsjgC"], ["created_at", "2019-10-09 13:58:11.750791"], ["updated_at", "2019-10-09 13:58:11.750791"], ["jti", "d3cf28c9-2712-4e3f-be2f-53528ec82915"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$f/v1W2PfhfZrmaHAvIwj4epjZEZl4pXNwbVobeytX0ZHt9wYOMXVa"], ["created_at", "2019-10-09 13:58:11.764908"], ["updated_at", "2019-10-09 13:58:11.764908"], ["jti", "aca3e19d-c579-4b99-b55e-b02790ff059f"], ["role", 4]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$5I/ihCvmtiHeSqIJwOexJelMu2KfyIvHbRv/K7ttgmNb0b7mG/vdS"], ["created_at", "2019-10-09 13:58:11.781067"], ["updated_at", "2019-10-09 13:58:11.781067"], ["jti", "08b47dce-5a3f-45cd-bdd4-04dd13973526"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$gzlmDHTU/3OBoky.TuaVwe4AzpOWiC7HxMKE9/IXkHsQPV3m.BK4u"], ["created_at", "2019-10-09 13:58:11.794538"], ["updated_at", "2019-10-09 13:58:11.794538"], ["jti", "3157edfc-36fa-49e8-89d8-f03aa3787cb8"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$5llA.j7OHP4gVGfhjEO39uXDLNaT7eBE31G8LF2x0FBNF.iVjDoLa"], ["created_at", "2019-10-09 13:58:11.808581"], ["updated_at", "2019-10-09 13:58:11.808581"], ["jti", "fbcbebfd-cdc2-42ad-a638-d68dd5fb182a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$nGojClqFvIXNXH95aWQY.uuj.lK/fjATP6H2x88sv3HfT9iWR8.mO"], ["created_at", "2019-10-09 13:58:11.821202"], ["updated_at", "2019-10-09 13:58:11.821202"], ["jti", "7626e6fa-ff8c-43ec-a9e5-2c9b95d013c8"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$7Tyb7Rylo1u0fTF3fMUek.fFaxD2lozRBFQxAfmhfsJHv0MjyYmSa"], ["created_at", "2019-10-09 13:58:11.835915"], ["updated_at", "2019-10-09 13:58:11.835915"], ["jti", "5f1328b8-e438-45b9-91bb-fc58ee58b9b8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$2Rk0IR.GSwEmtVegINQU6eZTFB9Ar20pO23iJGSuT9DcaaJ9jAKHW"], ["created_at", "2019-10-09 13:58:11.859483"], ["updated_at", "2019-10-09 13:58:11.859483"], ["jti", "69de33d5-0732-4d7c-8056-8bbfe6ad32fb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "69de33d5-0732-4d7c-8056-8bbfe6ad32fb"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "eca83aad-45b6-42a7-95dd-770ec2ae896d"], ["id", 304]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 8ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$7yTvZ5UxuWhjA0QB96wMwOFb2.Smd1cDfyPOfm7MaUiraJoXSHOVO"], ["created_at", "2019-10-09 13:58:30.619424"], ["updated_at", "2019-10-09 13:58:30.619424"], ["jti", "0cab2698-86ab-4b1d-baf8-2ecd39236390"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$tCtj7RX8ejJXMLqSz4QHPur6uZx1QvJY8XFsM.q8LI2XUJKVHCVxq"], ["created_at", "2019-10-09 13:58:30.632662"], ["updated_at", "2019-10-09 13:58:30.632662"], ["jti", "f9659ea7-9b43-4bf1-a361-e4e9570c621e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$ow9vdJAR93yoF9zrk1sW2OwfHR8raNaujjQe7GKhUpSzkkXDZix.6"], ["created_at", "2019-10-09 13:58:30.649344"], ["updated_at", "2019-10-09 13:58:30.649344"], ["jti", "07ac83bd-be6c-4d41-a423-3745f93660e9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$dKKgQ1wrZTDtO5mopEFUK.PoF/ZJgxmEIIHGfet2pvSeXMdtDdRjy"], ["created_at", "2019-10-09 13:58:30.663178"], ["updated_at", "2019-10-09 13:58:30.663178"], ["jti", "b4d7ba73-f5e2-4f0c-ad04-84cc28fcafff"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$5lIsVpLw2teUb5oMAM9Rvunnqm/fX2kOTVqEEcEf7vvBQ6ulQ07PS"], ["created_at", "2019-10-09 13:58:30.677149"], ["updated_at", "2019-10-09 13:58:30.677149"], ["jti", "af222127-e7e2-4500-9f8a-017e658bac0f"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$gfaUqJFLKuVVFRapRhzVjuSOV9oW8WZ0T/zr8d/9sx0qx09a9xTT2"], ["created_at", "2019-10-09 13:58:30.692699"], ["updated_at", "2019-10-09 13:58:30.692699"], ["jti", "1cea1380-9aa2-4aaa-838c-b363ea878015"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$QDBdtvNd046BmFs/6N2FYeOYhoHiJx5jUYNiIDEUF3cecCw2rCwAG"], ["created_at", "2019-10-09 13:58:30.707464"], ["updated_at", "2019-10-09 13:58:30.707464"], ["jti", "4776b11f-7224-470d-ab32-92980bbb14c6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$9VRj7oW./Pc.XSjiIWwFo.kd8S0wgY28WcW3vGQl7IrU1YoAzkZse"], ["created_at", "2019-10-09 13:58:30.730705"], ["updated_at", "2019-10-09 13:58:30.730705"], ["jti", "3ba09013-3bf4-4ad6-9776-89cab8cecbff"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3ba09013-3bf4-4ad6-9776-89cab8cecbff"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f267dcc2-2e69-482e-bcb4-d0005aa0ca21"], ["id", 312]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$8m.f1GksY7AUuNF76lzNau4ys5JTNyEN4lKtr0bt254C62vr41Vh."], ["created_at", "2019-10-09 13:58:55.488264"], ["updated_at", "2019-10-09 13:58:55.488264"], ["jti", "1b31fb3a-aba9-45de-aff2-57fb31013b5f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$YURo9jK8evhhCnBcUK/wL.TEWeaLVafd4PgtMPsephhJo2E9VkrpO"], ["created_at", "2019-10-09 13:58:55.502735"], ["updated_at", "2019-10-09 13:58:55.502735"], ["jti", "9b2b0ebd-074b-4e67-abe6-10f34ca2b053"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$XOgWqb54RkN6oUGNQXVN8OYsOXGzoWPllyZrtW1d9TLGMNXKNh4km"], ["created_at", "2019-10-09 13:58:55.517093"], ["updated_at", "2019-10-09 13:58:55.517093"], ["jti", "037b1a2d-a445-4efb-8e54-e1208fec38da"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$t6sBlVrBNBJDLagYLGFMeuzHJjUL89tDulAsQFMW3yK20ZVhkuhz2"], ["created_at", "2019-10-09 13:58:55.532197"], ["updated_at", "2019-10-09 13:58:55.532197"], ["jti", "ee3bb65d-62c4-47c6-b4f5-e9c00b75d12b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$gewuIEulFbcvdK/C9ibare.Oiwn18RrdArVGqY10l5Nj2HZAMbmtK"], ["created_at", "2019-10-09 13:58:55.546266"], ["updated_at", "2019-10-09 13:58:55.546266"], ["jti", "ebd4919e-8145-43d2-b102-efd37ce5d87e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Sw6kX0KeDEY8P.KTaBnYUOmqHWL4NuU2ZpZZmmPxIoFoPD7FG1xj6"], ["created_at", "2019-10-09 13:58:55.561990"], ["updated_at", "2019-10-09 13:58:55.561990"], ["jti", "ac2446c1-3f95-4ad8-9961-1b3e41ff8dc2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$NNBGkqn8i/fZZatrKNhkKe55JSTXvJtcQ6MiAMlYhV6KCZvgxXGVO"], ["created_at", "2019-10-09 13:58:55.577566"], ["updated_at", "2019-10-09 13:58:55.577566"], ["jti", "4302d9be-678b-4888-b60d-1e1edfab554c"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$x3N166ptSaW5bL5COFozOukA0REWWQe9oXRWnTZEdMB.RvYn6zS2C"], ["created_at", "2019-10-09 13:58:55.601653"], ["updated_at", "2019-10-09 13:58:55.601653"], ["jti", "ae5375f8-fadb-40ac-8455-25e4449771fe"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ae5375f8-fadb-40ac-8455-25e4449771fe"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "33765142-19dd-4582-9bba-de4ddc3e2527"], ["id", 320]]
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (54.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (83.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$RpSX2y6A9rzB/SNwMfez7OkruboILVSY9cGe5v7MbZCOm7fb9buFS"], ["created_at", "2019-10-10 06:52:37.874164"], ["updated_at", "2019-10-10 06:52:37.874164"], ["jti", "ce9da847-522e-4133-9fdf-e39655075cc1"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (Views: 0.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$gYaEGJcii6N8NjPdAQCbruotU7n5prlRwbzMz.s3IIbI9r.2n441m"], ["created_at", "2019-10-10 06:52:38.004705"], ["updated_at", "2019-10-10 06:52:38.004705"], ["jti", "da5c02a9-7d7e-4f5e-b00f-725f32c67d9e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 26ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$Nz1mPDprf0r8F7MeCh8nPODvmhIUxu.hrZ/LVY455R6mZhuxqQeWO"], ["created_at", "2019-10-10 06:52:38.044334"], ["updated_at", "2019-10-10 06:52:38.044334"], ["jti", "7c701eae-d29c-4598-8230-26d19474ba7f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$tepEZKQFqJSlSbugcvU4.e1ZhsKRPqaGHZyUtaT7UwT77oRSiXTu2"], ["created_at", "2019-10-10 06:52:38.058060"], ["updated_at", "2019-10-10 06:52:38.058060"], ["jti", "d6c5848b-0475-41cb-966a-e3eaa60b1681"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Ah5Y4KELJFO5WcOuGkxv2eiOeERpjWP5edRdvk.gUinUxgqkRmoUa"], ["created_at", "2019-10-10 06:52:38.070656"], ["updated_at", "2019-10-10 06:52:38.070656"], ["jti", "66c41f08-03b2-48de-b07f-1d1681fe8bd4"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Y1QIiecjYrIsjqrkJcZwT.Q6w6qKB0duNSZmbrimRipDfQsps38TG"], ["created_at", "2019-10-10 06:52:38.084771"], ["updated_at", "2019-10-10 06:52:38.084771"], ["jti", "e419feef-a7f1-4359-be94-ad106467e195"], ["role", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$1f66Fo7G4a75.GeuEe68memDhP3UDEKLF9UdIX0uMWa.kUbEKZeyq"], ["created_at", "2019-10-10 06:52:38.099189"], ["updated_at", "2019-10-10 06:52:38.099189"], ["jti", "dd7da0a9-8212-4857-903d-9d37ed6c6123"], ["role", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$mnQIfSKzKWLa8SxsZVMwFua1Wohlly.EAA2ML5VY2F8S3tmpFBhN2"], ["created_at", "2019-10-10 06:52:38.129173"], ["updated_at", "2019-10-10 06:52:38.129173"], ["jti", "684444c1-f7f8-43c7-8583-3df73bd70225"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "684444c1-f7f8-43c7-8583-3df73bd70225"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a2f22d5e-ff17-4c97-a0a5-4874e6790f85"], ["id", 328]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 26ms (Views: 0.5ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Dq1aQxSVRyKBZEqbBHDYuuMnHMdz1c4c5.9ePwgO3AVNDPi3WxbHW"], ["created_at", "2019-10-10 07:02:09.931535"], ["updated_at", "2019-10-10 07:02:09.931535"], ["jti", "11fefbd6-afd2-4d5a-b2e5-cbaef857db93"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$2wxjTfYd5Q6SsxU1275ltOnTvbguPKCXjeJhhp3lWNDT/tnepCpWu"], ["created_at", "2019-10-10 07:02:09.945235"], ["updated_at", "2019-10-10 07:02:09.945235"], ["jti", "812507dd-1b31-4817-ae44-1e7caded27ba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$GX2tptb42QzmxuBOp8Tds.E95IXm2m7AmoPxwhGRG1YvZ9KqysGOK"], ["created_at", "2019-10-10 07:02:09.959175"], ["updated_at", "2019-10-10 07:02:09.959175"], ["jti", "29f9c27a-c5d0-4f09-9c04-63cd1752f236"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Q5BSZtX8r4M6iaav71L5nu.RG7nOeHsHmfnNACdAcplT1D8xohggG"], ["created_at", "2019-10-10 07:02:09.973078"], ["updated_at", "2019-10-10 07:02:09.973078"], ["jti", "14eceb51-996f-4068-a0b3-e6bcac10fe32"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$OCK6qW2cXygBzYC6prchXuoruGVmZgOXorPFeho3UdcYd/SNel7Oa"], ["created_at", "2019-10-10 07:02:09.989316"], ["updated_at", "2019-10-10 07:02:09.989316"], ["jti", "6c21dbdd-ca46-4227-a836-b726035faab4"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$HxMiM/BHBIWNXYxoQ/qI.esPidGKgI/0Uq0bBrhJ1Jr0OJkB97y22"], ["created_at", "2019-10-10 07:02:10.003386"], ["updated_at", "2019-10-10 07:02:10.003386"], ["jti", "1cff6bd0-ea56-4949-9a5b-91993bb62769"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$71KJVTPMA.9WRArtgx3g3OToCn8ajuNZ5Atl9KzFAtIOe3vbeQyvy"], ["created_at", "2019-10-10 07:02:10.018401"], ["updated_at", "2019-10-10 07:02:10.018401"], ["jti", "40b59d63-2944-46d7-93fa-da00917c95b8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$3IlF8UrEaGnSmLEfVkUjaux.a5UALjv9XFgVAi18s69bAcu7S6xNO"], ["created_at", "2019-10-10 07:02:10.042161"], ["updated_at", "2019-10-10 07:02:10.042161"], ["jti", "5fd18d10-6333-4837-8191-a5cf3d621330"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5fd18d10-6333-4837-8191-a5cf3d621330"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e5c09f22-130a-4f72-86a3-dc71e9a51130"], ["id", 336]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$z7hWCAlxbnTKFIvymPS6dOVlu4nSzNhjkEwuMWsuo.9XTIdPf.iY."], ["created_at", "2019-10-10 07:02:31.990348"], ["updated_at", "2019-10-10 07:02:31.990348"], ["jti", "3a6bb3c7-88bd-4030-818c-f1eb85843f65"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$jCuogkWenKJAHkzQCeSTnOG4NkdBGztKxnlhgoMLhswbl5l3PU1tC"], ["created_at", "2019-10-10 07:02:32.004872"], ["updated_at", "2019-10-10 07:02:32.004872"], ["jti", "65f43542-615d-4f76-acb9-fdf818f2a9cd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$jJ0XXExUNFBRaokMf1pdxOlz7.1UZDIiP4Y4Rx37eu5oxs37WhAbe"], ["created_at", "2019-10-10 07:02:32.018675"], ["updated_at", "2019-10-10 07:02:32.018675"], ["jti", "cbddfa43-147b-4d28-bcba-5815c114b178"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$wcAEoxajDi/P.XoKQ04AlutdZbrCzmeRa/ZZwVybyCCrfbyHZ5q4u"], ["created_at", "2019-10-10 07:02:32.033742"], ["updated_at", "2019-10-10 07:02:32.033742"], ["jti", "9be32d17-832c-4dba-bab1-881eb8b8e606"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$KMNz8rRWricbkgNUom7IgeQk8ZrVAqUcj9RBocmts4YXc7kjr8abS"], ["created_at", "2019-10-10 07:02:32.045739"], ["updated_at", "2019-10-10 07:02:32.045739"], ["jti", "cb0c327e-24ee-4756-a9dc-303bc7e455a9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$sw/g9LIP9.2FfhVJKby.pe645hOC5cfl8l02RC0nMTD8tnBEg7aqm"], ["created_at", "2019-10-10 07:02:32.059356"], ["updated_at", "2019-10-10 07:02:32.059356"], ["jti", "7ae392be-d2fc-43df-b237-56577c9121cd"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ng5vGSe/sFMXTihtrGWYz.cyHqgFV08qWAK5B8ixI0tWgMbJkelwO"], ["created_at", "2019-10-10 07:02:32.074700"], ["updated_at", "2019-10-10 07:02:32.074700"], ["jti", "b90517d6-1cb6-42e2-925e-62027ce2ecc0"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$QjuZBvzW998Y0ouGjDXT../QetiLQWpyajcTQtdksb1MnhFbowPna"], ["created_at", "2019-10-10 07:02:32.097432"], ["updated_at", "2019-10-10 07:02:32.097432"], ["jti", "8578fa91-4e38-48a3-ae80-067b2af5f6ab"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8578fa91-4e38-48a3-ae80-067b2af5f6ab"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "629db27c-b03b-448a-a493-c3436cbd9760"], ["id", 344]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$qDz3aLfVJTyAdaClrJZnDuHdDAyjPDUrKSWs0zTxZUsIJ2ZIuqmjC"], ["created_at", "2019-10-10 07:02:51.711618"], ["updated_at", "2019-10-10 07:02:51.711618"], ["jti", "4a7fea48-435b-43fe-b686-20676232a4b5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$PNJhSzy.A42RUXC7scQzYeHgF48exoVxWIvHjbCtLcCnAKmNLkj3G"], ["created_at", "2019-10-10 07:02:51.725580"], ["updated_at", "2019-10-10 07:02:51.725580"], ["jti", "0331fcd4-c5d8-4e60-ab92-2bb02bc9833f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$cgbtK3YX7Ok4/mOGBbWDne2QunBLJEihDjxDd6C4H/Yqdk1bETwim"], ["created_at", "2019-10-10 07:02:51.739836"], ["updated_at", "2019-10-10 07:02:51.739836"], ["jti", "336f9d8b-ec08-4716-8285-aeab0e7ed84d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$h8v5Lfb7nJhTvvu2LVMz.ekrcSR73MMp1IJZ8RE2vwybQ9jDrVsyK"], ["created_at", "2019-10-10 07:02:51.754521"], ["updated_at", "2019-10-10 07:02:51.754521"], ["jti", "92ce5aaa-36da-4eac-87cd-4a651776b27d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$7zllxZtSrS49e7B9T/h.iuRYfwctH5ZH7vscUKTZf91AeOUo7F3o2"], ["created_at", "2019-10-10 07:02:51.769218"], ["updated_at", "2019-10-10 07:02:51.769218"], ["jti", "39423a02-7a7d-47c6-b0b2-bfd44cc69fbb"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$pRoNs6MhGKm2b1TVt.eVceDhMMt062s/RoqszRLkr4iiLQ6v/MNe2"], ["created_at", "2019-10-10 07:02:51.781778"], ["updated_at", "2019-10-10 07:02:51.781778"], ["jti", "ac72059c-e82e-471d-b48f-b6fc2d1d5996"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$CJzxXpm.HizlWHrCzJiFjujFxU0Wf0t01xFsoisOWTBEf6UoOyHh6"], ["created_at", "2019-10-10 07:02:51.794184"], ["updated_at", "2019-10-10 07:02:51.794184"], ["jti", "2b7a71fb-a8a4-4771-9420-150b229809c8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$HZ3KkWJjtaMhi5zahd6o.u/X/eUsgvjVC9btyTHBbzCWwqAO9Up5S"], ["created_at", "2019-10-10 07:02:51.817388"], ["updated_at", "2019-10-10 07:02:51.817388"], ["jti", "28a6d080-caf4-4ed9-bf24-b8b0b124627f"], ["role", 4]]
  [1m[35m (2.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "28a6d080-caf4-4ed9-bf24-b8b0b124627f"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6197ee36-e58f-42cf-8c87-c6ba5eb58dc2"], ["id", 352]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$rRQYDKKoqPVhJSGrjDAP3eY04ocskX56pNZ4yTF/J3nsTr77/rNDO"], ["created_at", "2019-10-10 07:05:55.073462"], ["updated_at", "2019-10-10 07:05:55.073462"], ["jti", "3c912cf5-2cbf-40c1-8ee6-262cae1246bb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$r4lbjgI7YEFivq48X/6.QePRucAv74JnaPQVQH3IiwwcrEM3b4jkG"], ["created_at", "2019-10-10 07:05:55.087811"], ["updated_at", "2019-10-10 07:05:55.087811"], ["jti", "3ed135f4-fd49-4dc4-8edf-b51ce65c4e81"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$Y/CD0jtPz5ac5XozHLiCRemUfa9fsYakvlSnKjPLOuxemasqF2L3."], ["created_at", "2019-10-10 07:05:55.101474"], ["updated_at", "2019-10-10 07:05:55.101474"], ["jti", "fd7fadad-20db-4f0b-932a-446f9425b539"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$6ehWGHHWND604X2gFVmznufd5M945ARLCFrd4vNRQGU5p6WE1O52W"], ["created_at", "2019-10-10 07:05:55.117133"], ["updated_at", "2019-10-10 07:05:55.117133"], ["jti", "f5cf6008-5922-4390-9cd0-b05047351987"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$8YAe5QcXpGbSd35p4ugSmO5G.iAqHFqT3qZjSbhsRMJOnpIZ1vz.W"], ["created_at", "2019-10-10 07:05:55.131139"], ["updated_at", "2019-10-10 07:05:55.131139"], ["jti", "5a9bd65a-02b4-4368-b8ea-8362b0d583ba"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$z4lOMqUy3JE8JrTo/9C9MOi3BfazFmTp4u.Jd4wi/8gk41LwlBfiy"], ["created_at", "2019-10-10 07:05:55.146441"], ["updated_at", "2019-10-10 07:05:55.146441"], ["jti", "aa87bddd-466b-4e17-847c-3e86cef34a34"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$SD2p5WqWbwBhRifHA31HlunLVTLJs7LuLL.Z8Xb6SGk/hMfNWshBW"], ["created_at", "2019-10-10 07:05:55.160988"], ["updated_at", "2019-10-10 07:05:55.160988"], ["jti", "533deeaf-966a-4b04-b9d8-a8f0c1435ee7"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$ibycSlyL57hQ26mvXfgc.upsTtEPlb4XyJ49PopiIhCV2s2CHAtlu"], ["created_at", "2019-10-10 07:05:55.183668"], ["updated_at", "2019-10-10 07:05:55.183668"], ["jti", "01cb25f9-2ed9-4f5d-983c-1ff89061ea3e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$FjorteZH45bq80utDRCD/OYJI5exXsWtMQjXHnhlHAbvchX49uaVy"], ["created_at", "2019-10-10 07:06:55.787018"], ["updated_at", "2019-10-10 07:06:55.787018"], ["jti", "400c9442-f1fa-44f9-854b-93fbe4f1bf83"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$2l.NpJ6JYicEsd5dxSSHsO9ornGsZw.7p9nPZRTD/KPaH3DO/gleG"], ["created_at", "2019-10-10 07:06:55.801321"], ["updated_at", "2019-10-10 07:06:55.801321"], ["jti", "e342cd85-7361-4a7b-b509-31e5b8e66cfc"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$TqXMWfPxGuYGjxfiZdvLQec92ZMcKYHQP0hnSsKIXl/XAT.QEtyDC"], ["created_at", "2019-10-10 07:06:55.816562"], ["updated_at", "2019-10-10 07:06:55.816562"], ["jti", "8c59f919-937f-4e81-84df-57431b79de52"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$CXxEx7Z.wXqUNxdVgQnAE.EoaNr0VlgUQnnn.IKCP5q63JbwuMMx2"], ["created_at", "2019-10-10 07:06:55.832605"], ["updated_at", "2019-10-10 07:06:55.832605"], ["jti", "f5af9daa-9f2c-4cae-9c3b-6482417f8423"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$oLPIWAeOi7I678ojIzGu0OdMsoUmvm1Fv5zYnkTm58u66vnj8NXvC"], ["created_at", "2019-10-10 07:06:55.850049"], ["updated_at", "2019-10-10 07:06:55.850049"], ["jti", "635fc91d-bbc6-4001-9eeb-96d3babdf888"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$.TqovQPGumtOvRwbUPxbcuWCE1jDa71OMREhqTnwhAklFBJYf.utS"], ["created_at", "2019-10-10 07:06:55.864282"], ["updated_at", "2019-10-10 07:06:55.864282"], ["jti", "6de52ec3-b193-4cb9-b919-0e6f751579ea"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$rLrNkoeRQrESKX5fGmThhOp2RHLGayty0Re/UpK4T5YIaWcuLB4SS"], ["created_at", "2019-10-10 07:06:55.879122"], ["updated_at", "2019-10-10 07:06:55.879122"], ["jti", "a9c7e571-0175-42f7-83b9-48f48cbce0c0"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$.ANSjOYe5lopSsBe9cDMM.lHrdAyeV2GbqDFBNSlT17ywrlfj5Sz."], ["created_at", "2019-10-10 07:06:55.901422"], ["updated_at", "2019-10-10 07:06:55.901422"], ["jti", "19ae2ea2-6323-4319-a7fd-6eb785818571"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$xmtozcNeIPWRle.7ArSsO.wyxYjMwUTOFhcfnfaXI0FV/nLd7aXky"], ["created_at", "2019-10-10 07:07:43.601620"], ["updated_at", "2019-10-10 07:07:43.601620"], ["jti", "2f1ebbb5-ef1e-42fc-b86c-22a8046517f1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$n.pHg7EvjIvDOdQ8z5dUfOG6O8UPN.06fvHgDDb6aP1w1un4NWHlK"], ["created_at", "2019-10-10 07:07:43.614089"], ["updated_at", "2019-10-10 07:07:43.614089"], ["jti", "ca561b01-316c-4647-899b-820cbdcc51f2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$676kNDPzO0BTAupcD7eYyegbCat86L3r5bhcp5UKwpsnJDcCTloCC"], ["created_at", "2019-10-10 07:07:43.625758"], ["updated_at", "2019-10-10 07:07:43.625758"], ["jti", "87626db0-efb1-480a-a021-f260f4594b4b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$GTptcNHfsrfaT2fZhqH6pem9wK4VuSc./vG94TGo0qyDbJfdlTUim"], ["created_at", "2019-10-10 07:07:43.639117"], ["updated_at", "2019-10-10 07:07:43.639117"], ["jti", "d5c4eb67-fbda-429e-8c78-84a6e10bcaba"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$zeBQe8wATOa1vcgd8FH.KuuMNigyF/gAlWSrR8.PbAByV4kkpvc.e"], ["created_at", "2019-10-10 07:07:43.653622"], ["updated_at", "2019-10-10 07:07:43.653622"], ["jti", "69979b8d-8556-4c0f-b5c6-04065cb44078"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$TukoE2rcET.xVKMTx7uqb.5TDd3R8.MG8bzk3kshS8AggcYBGy2LW"], ["created_at", "2019-10-10 07:07:43.665745"], ["updated_at", "2019-10-10 07:07:43.665745"], ["jti", "e008e8ac-5c80-4028-876c-edb367f068b1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$74L7oS5fVhLveXRGm/veheLV3gTtpZpGwxO7IAX1V4rT85ra/cgOm"], ["created_at", "2019-10-10 07:07:43.679260"], ["updated_at", "2019-10-10 07:07:43.679260"], ["jti", "5a165b6b-edd8-4c55-841c-94363febb6b6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$514K4h3.cJi/pPkKUo0ibO/6ObqQsvcN/l.5lApYqp0YQfNs8Q8gq"], ["created_at", "2019-10-10 07:07:43.699417"], ["updated_at", "2019-10-10 07:07:43.699417"], ["jti", "e510a5ed-8d69-4242-abfe-1d4853da6668"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e510a5ed-8d69-4242-abfe-1d4853da6668"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "d6ecdb08-f4a8-46fe-82c9-366bf5524072"], ["id", 376]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$1c0AMn7gcqxHva1MIegvvefB0HWB8etBbbK1ucbkYyGYdKMoq8d2e"], ["created_at", "2019-10-10 07:09:14.319578"], ["updated_at", "2019-10-10 07:09:14.319578"], ["jti", "0f3d22eb-fb1e-4d44-a20d-823bfbd68ce6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$z/LdsSVs.ADIOB2.1eJ6xOX7kcnzXnUtYdJtxSS6eqTw2zgPe5F5K"], ["created_at", "2019-10-10 07:09:14.331587"], ["updated_at", "2019-10-10 07:09:14.331587"], ["jti", "5d636a2c-eee5-4edd-bf00-15ebba6a41f7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$KiibI1GktkOYgtYQXPoaqOE78O6teclqy8R1QVL.bcLHN4HC1SqrK"], ["created_at", "2019-10-10 07:09:14.345439"], ["updated_at", "2019-10-10 07:09:14.345439"], ["jti", "57406579-9f22-4295-8403-ddb82c1e27f5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$aA3mktWCbL0QgsdXaSXwv.JV8b.jalzzwMJ7zcaBbYWLUBYFgIQxa"], ["created_at", "2019-10-10 07:09:14.357580"], ["updated_at", "2019-10-10 07:09:14.357580"], ["jti", "849f70d0-9c53-4c38-b080-dc9c670b0444"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$FvygPkhDhhTDtCTpGEA/Me.Jcat1Km9WZPxWsyfun1wvldB3vZF2e"], ["created_at", "2019-10-10 07:09:14.370335"], ["updated_at", "2019-10-10 07:09:14.370335"], ["jti", "a21112ab-a2c8-4c16-b988-dff9ffdd9509"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$UsNzIUW0QH58rvrTVJYjkumYDx2gILb0Z9Blly5VNt9lKInDogM/S"], ["created_at", "2019-10-10 07:09:14.383770"], ["updated_at", "2019-10-10 07:09:14.383770"], ["jti", "0e988937-4904-48f1-a4a8-c285725cbc75"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$GMPBrHFucXlGhrN9N4AW5.I5XQNtA6j/DmnG5Qw68nnMJemx8L3kC"], ["created_at", "2019-10-10 07:09:14.397801"], ["updated_at", "2019-10-10 07:09:14.397801"], ["jti", "d88c6c8a-1cbd-48ed-a788-6f4af650438c"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$NxNjwtgsC/ecJHHmzkwX.OOFFWgc5XyTZZcizsIOmBkj3HxT5mLGS"], ["created_at", "2019-10-10 07:09:14.417801"], ["updated_at", "2019-10-10 07:09:14.417801"], ["jti", "aebc4597-493c-4668-9821-e3f4d0c28eb5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "aebc4597-493c-4668-9821-e3f4d0c28eb5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a8183cb9-d802-43bc-b273-b4ceeaf8eb67"], ["id", 384]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 31ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (78.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (158.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$TMOWhtf.mmgQhnZODVXdueHDZ3K4aSaNAKwaWP3nvDQhdkkGQrG4O"], ["created_at", "2019-10-16 07:12:38.737163"], ["updated_at", "2019-10-16 07:12:38.737163"], ["jti", "8e8b451b-3aa1-4203-ad16-e51cdfe00a65"], ["role", 4]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 211ms (Views: 22.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ZzLN/c5M7YDOUwaa9/ep.ePJmHQ8r6a6GEt7YBumuT0/TIRV2F7Ne"], ["created_at", "2019-10-16 07:12:39.122298"], ["updated_at", "2019-10-16 07:12:39.122298"], ["jti", "2cbb5acd-28dd-45a8-8826-40fd64518716"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$KJIHvY.UmNFCP3hbTlE3xu25lGd/AIOicI1eaS1DY83VU8P7yN1Am"], ["created_at", "2019-10-16 07:12:39.163651"], ["updated_at", "2019-10-16 07:12:39.163651"], ["jti", "d2ddc545-8cfa-4c97-a6df-5958baa2e44b"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$1Tm63hzmit8qfo32q.Pbfe1O/xZbWysj5h5wvlLcm2bDTV2FESIcS"], ["created_at", "2019-10-16 07:12:39.180141"], ["updated_at", "2019-10-16 07:12:39.180141"], ["jti", "74f692a9-e556-4ab8-9312-6dae507b9cec"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$SJItJaCBMCDchYZMP1Lbr.cM3n92MX46r03CAfYLXVi4VZtnjqWti"], ["created_at", "2019-10-16 07:12:39.193983"], ["updated_at", "2019-10-16 07:12:39.193983"], ["jti", "9c85fd5e-d678-4fdf-a7ca-5794629aad47"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ba.R3FqzrR5DMdoL6uMko.yMiSfxO7j2eYM4E0QwhEhZ7qku4MjEe"], ["created_at", "2019-10-16 07:12:39.206854"], ["updated_at", "2019-10-16 07:12:39.206854"], ["jti", "029972c5-9b05-4dc8-b671-e0d1122e65fc"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$iQPYXyXTQZ2PQKL483AjbO2/e2HbUb1Cq8oQ8EfRg2wpy76pgI3Pu"], ["created_at", "2019-10-16 07:12:39.219914"], ["updated_at", "2019-10-16 07:12:39.219914"], ["jti", "88ef801f-8624-48dd-8a2c-dd980002a11f"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 16ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$LbYM2YKGn/IUntgdw.BlSuKL3NQsmaAbAv8zhAN5NWbBrMaWALjOW"], ["created_at", "2019-10-16 07:12:39.260297"], ["updated_at", "2019-10-16 07:12:39.260297"], ["jti", "51faaaee-9b5b-4942-a8e4-a16ca0c3f952"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "51faaaee-9b5b-4942-a8e4-a16ca0c3f952"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "51faaaee-9b5b-4942-a8e4-a16ca0c3f952"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "85b80124-ac0f-4ead-96c4-9ed35606892b"], ["id", 7131]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7131], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "d707d462-ea4b-42b9-94b4-7da41d487ea1"], ["id", 7131]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@cafe_owner.com"], ["encrypted_password", "$2a$04$hCWeIaAQv1WRFtha7GQYCO9ALZ7i61Y.TKDIHf0ZdrVW9v8nV25Yy"], ["created_at", "2019-10-16 07:12:39.301854"], ["updated_at", "2019-10-16 07:12:39.301854"], ["jti", "fab2b5c8-c91d-417b-8cd5-47f2ccdd15e1"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (7.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fab2b5c8-c91d-417b-8cd5-47f2ccdd15e1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$62PsogDAePx/XRqFJPr8HO7M9tbHToX.TaCYJmvcmfeTfYRCJKs1u"], ["created_at", "2019-10-16 07:12:39.397843"], ["updated_at", "2019-10-16 07:12:39.397843"], ["jti", "f6089dd2-0fce-41d7-8d1d-45a737930774"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 96ms (Views: 16.6ms | ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@cafe_owner.com"], ["encrypted_password", "$2a$04$CGCsJdHeICez..hGPYbTSeqiot9ACmULLnjWNHx5Cuq9RlrsnrU6m"], ["created_at", "2019-10-16 07:12:39.438585"], ["updated_at", "2019-10-16 07:12:39.438585"], ["jti", "37ae4a7c-a4fa-4259-b76e-94aa6059c825"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37ae4a7c-a4fa-4259-b76e-94aa6059c825"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$SWlpcUtq4mCeQ50czuRgLOZD3FikAzLy9S9S27HMDkhKsg22K1lJK"], ["created_at", "2019-10-16 07:12:39.457436"], ["updated_at", "2019-10-16 07:12:39.457436"], ["jti", "e6024dd3-26b3-4dc0-a36e-d45b58a0e2c1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@cafe_owner.com"], ["encrypted_password", "$2a$04$pDO8WrWUiZu2VktFwtp/Oeu8B0qCFo29gI8dhpZB3ERilRNieDBtS"], ["created_at", "2019-10-16 07:12:39.467108"], ["updated_at", "2019-10-16 07:12:39.467108"], ["jti", "812e1f50-dc95-46cc-9146-95ba0bcd2783"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "812e1f50-dc95-46cc-9146-95ba0bcd2783"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$8nEy4MEbcI6cGIcCXInCsuk2blAy2NPTvvSxXloa0X7lQvk55f5G."], ["created_at", "2019-10-16 07:12:39.483806"], ["updated_at", "2019-10-16 07:12:39.483806"], ["jti", "5186938b-7870-43c3-bee0-97efacbc80a1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@cafe_owner.com"], ["encrypted_password", "$2a$04$IMl/pyKj7Kk67MtZkNVpq.Y4dXS9t0yfpk7cs/BJ/xqnvVRtuD.vG"], ["created_at", "2019-10-16 07:12:39.493593"], ["updated_at", "2019-10-16 07:12:39.493593"], ["jti", "ccd08999-2ad6-4b78-ad7b-212d667ebe6e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test5@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test5@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ccd08999-2ad6-4b78-ad7b-212d667ebe6e"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$0dgLYvk2JLokwNhh78pQvOmCN8G7TUDm8ybmP4iXzn0PAW1PywuqW"], ["created_at", "2019-10-16 07:12:39.510201"], ["updated_at", "2019-10-16 07:12:39.510201"], ["jti", "e090c091-8cbc-4eb6-a175-e60411e0bf40"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@cafe_owner.com"], ["encrypted_password", "$2a$04$5M9B28HVjmdJNz88XCZgHuQvOAospJPeXG/CO/Wpenh49KDnQefLC"], ["created_at", "2019-10-16 07:12:39.521174"], ["updated_at", "2019-10-16 07:12:39.521174"], ["jti", "91c8b8af-eb47-48b3-9d17-60319b912eb0"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "91c8b8af-eb47-48b3-9d17-60319b912eb0"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$Q86SPRDDTSxIw6RJBtJBlOF1a94ES6XCgOce6CKjIJipuMc8/Uepy"], ["created_at", "2019-10-16 07:12:39.537756"], ["updated_at", "2019-10-16 07:12:39.537756"], ["jti", "33803061-247f-4bb1-9da9-a690335c06ad"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@cafe_owner.com"], ["encrypted_password", "$2a$04$zcb0HlV/EGVoSelKsseG0OWIhh/gMWMi15YUgaWBx0TM6XWZxOaAm"], ["created_at", "2019-10-16 07:12:39.547658"], ["updated_at", "2019-10-16 07:12:39.547658"], ["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test7@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test7@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7142.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7142"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7142], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$7MFG7l0ItV4YLNhwc/yV0Op1YQcAG26TeouuBE3roh9Y/Fi0UwOTq"], ["role", 4], ["updated_at", "2019-10-16 07:12:39.567083"], ["id", 7142]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 2.3ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7c4f1b2c-3b92-48db-8e9b-27427ec15dab"], ["id", 7142]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9b2c865b-dd57-4699-b1b2-c503df5ceba2"], ["id", 7142]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@cafe_owner.com"], ["encrypted_password", "$2a$04$V.xOBN9YHnvcG.9/yRIerO0p2IMDRAAXVHxTLgDspnrDlnXYFhJMO"], ["created_at", "2019-10-16 07:12:39.594373"], ["updated_at", "2019-10-16 07:12:39.594373"], ["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7143.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7143"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7143], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$woFzd9Cc7y7JFFT/FWtgCu/0kpFfaRp/Piga.JoXMTSP0n62c5XUG"], ["updated_at", "2019-10-16 07:12:39.623839"], ["id", 7143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6d6b4ba9-4a87-4c37-8a37-207c92d02d0e"], ["id", 7143]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
  [1m[36mApiUser Update (3.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "54754635-33ad-4ee8-bda4-1cde549ea01d"], ["id", 7143]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@cafe_owner.com"], ["encrypted_password", "$2a$04$LR/WInpMH5Rg7wqb/hH2AedBXUGbYmVrIxW1lgW69.PobWIpjwwWW"], ["created_at", "2019-10-16 07:12:39.654275"], ["updated_at", "2019-10-16 07:12:39.654275"], ["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7144.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7144"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7144], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$W1YmDZVLCmbtmkSFN88KAedAc536lBBLeiA5uEG6oW/LUA7TNAsr6"], ["updated_at", "2019-10-16 07:12:39.670966"], ["id", 7144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "35bbf955-081d-4d7f-a67e-45425dc288e9"], ["id", 7144]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "eecc5dad-bf1a-4c16-a5ea-1dc4a383966f"], ["id", 7144]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@cafe_owner.com"], ["encrypted_password", "$2a$04$pbqVQMLeuWjLF.N9Uy6k4.z.nNYMqizRAh8uwS5V9nqAjyH.7GkAK"], ["created_at", "2019-10-16 07:12:39.698639"], ["updated_at", "2019-10-16 07:12:39.698639"], ["jti", "80ace58f-5e47-48a2-80d3-6a181f2c9d1f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@player.com"], ["encrypted_password", "$2a$04$SQTaRVP06Va3T6.EDjpvxO/AmqBoz6UZ/IU16Xx6PHd7ZVyqTCzQi"], ["created_at", "2019-10-16 07:12:39.703534"], ["updated_at", "2019-10-16 07:12:39.703534"], ["jti", "b1399a60-1b80-428a-9eee-38be15015aae"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7146.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7146"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "80ace58f-5e47-48a2-80d3-6a181f2c9d1f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7146], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7146], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$dyoakgXCcS97n6AgruylMOqbg6tKvcj4BHWrpBwNxCjvzSFDyj.Z2"], ["updated_at", "2019-10-16 07:12:39.719511"], ["id", 7146]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7146], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@cafe_owner.com"], ["encrypted_password", "$2a$04$la2ZITNiTafBWvxtAYiQ7O5GM5giNQBlF9TgNiFZ8FDmZV1o/hTq."], ["created_at", "2019-10-16 07:12:39.730351"], ["updated_at", "2019-10-16 07:12:39.730351"], ["jti", "bce51425-2952-477b-bbf4-6b9602396553"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@player.com"], ["encrypted_password", "$2a$04$uzZyT3PwEhBgrE/Qatcr6u6wA5pBRSLQFKIMwAoZZ7Gx2yxq5seHC"], ["created_at", "2019-10-16 07:12:39.736156"], ["updated_at", "2019-10-16 07:12:39.736156"], ["jti", "106d51b5-ea3d-4272-8338-9b173a874dc4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7148.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7148"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bce51425-2952-477b-bbf4-6b9602396553"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7148], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7148], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$bor/ZEFAqOjZLg6/c33TPeIciifYe9BB4X7/z3IaY40/3uJfn0nWq"], ["updated_at", "2019-10-16 07:12:39.751838"], ["id", 7148]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7148], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@cafe_owner.com"], ["encrypted_password", "$2a$04$eo0LjyG2520yaubtg0iLYumApm/FeyCrtMsT/cnfS2TV0P.uT14Wq"], ["created_at", "2019-10-16 07:12:39.764060"], ["updated_at", "2019-10-16 07:12:39.764060"], ["jti", "4a10c9bc-8586-4649-8fc3-9b5181c24036"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@cafe_owner.com"], ["encrypted_password", "$2a$04$YO753jsb8DKINDNwupljy.mcMjlheqpx6K5crB0B.H3aFkf1pVlea"], ["created_at", "2019-10-16 07:12:39.769390"], ["updated_at", "2019-10-16 07:12:39.769390"], ["jti", "7a60234b-c027-4df8-be3e-2832ecc504c9"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7150.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7150"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4a10c9bc-8586-4649-8fc3-9b5181c24036"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7150], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7150], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@cafe_owner.com"], ["encrypted_password", "$2a$04$PtDDUcGehGRvXkEg3ws.UumEd3yg72pB5bxNgkF4bWba6cDCsSXfe"], ["created_at", "2019-10-16 07:12:39.786665"], ["updated_at", "2019-10-16 07:12:39.786665"], ["jti", "a428933b-6040-4a35-8b4c-1c84c4039cf6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_expert.com"], ["encrypted_password", "$2a$04$t7HTyaSGqKMWsQzBV3ScAuAUDvIi7PmeKvkEy/PRvr23uQoQDhplW"], ["created_at", "2019-10-16 07:12:39.792309"], ["updated_at", "2019-10-16 07:12:39.792309"], ["jti", "a1387d02-38a2-4ff1-b3e4-c4bb75a2719d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7152.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7152"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a428933b-6040-4a35-8b4c-1c84c4039cf6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7152], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7152], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@cafe_owner.com"], ["encrypted_password", "$2a$04$i1j.j4fcVJwMQ8XeZDZOq.gdRrxvmeIqM0LdB3saN7k1ANPGFeJka"], ["created_at", "2019-10-16 07:12:39.812196"], ["updated_at", "2019-10-16 07:12:39.812196"], ["jti", "328d1935-a8ab-404b-9d6a-190c6a16c30e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_admin.com"], ["encrypted_password", "$2a$04$PkN/zUNWN0P/4vX6MMuDheZgaPd3yJPbaBejxxu4Jm04F/vhL4OGC"], ["created_at", "2019-10-16 07:12:39.817421"], ["updated_at", "2019-10-16 07:12:39.817421"], ["jti", "663cbc4e-3dba-4122-9e95-fa9ee4b83af1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7154.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7154"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "328d1935-a8ab-404b-9d6a-190c6a16c30e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7154], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7154], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@cafe_owner.com"], ["encrypted_password", "$2a$04$zMBJ65B0A24qZzMp4LPvsedM.EA505jPxGpGYLYGg/gKDFUQPpgL2"], ["created_at", "2019-10-16 07:12:39.839183"], ["updated_at", "2019-10-16 07:12:39.839183"], ["jti", "ddc0016e-0dff-44e1-9903-e6ccf9e9f0bf"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_master.com"], ["encrypted_password", "$2a$04$oWw5jHhs9BZbkJqsnNct/.hJ1lnyjhYOy0xRir/.0jS3tNaoD/BJW"], ["created_at", "2019-10-16 07:12:39.845523"], ["updated_at", "2019-10-16 07:12:39.845523"], ["jti", "4a8fad90-6049-413c-adeb-65a04313a48c"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7156.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7156"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ddc0016e-0dff-44e1-9903-e6ccf9e9f0bf"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7156], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7156], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@cafe_owner.com"], ["encrypted_password", "$2a$04$dxGct0LLpOKqguYEfrY9x.laCyqVB/hqO2mR.nxy03Yam09CX5RG2"], ["created_at", "2019-10-16 07:12:39.866558"], ["updated_at", "2019-10-16 07:12:39.866558"], ["jti", "1cb3e755-5e32-48c9-95d8-a0ddd90f86ce"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7157.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7157"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1cb3e755-5e32-48c9-95d8-a0ddd90f86ce"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7157], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:39.877058"], ["updated_at", "2019-10-16 07:12:39.877594"], ["id", 7157]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.1ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@cafe_owner.com"], ["encrypted_password", "$2a$04$lEkSg0VW3wrNhHNiig7rlOrvZddkap3HuJMr8WAMAfCQuBDYioq3."], ["created_at", "2019-10-16 07:12:39.906720"], ["updated_at", "2019-10-16 07:12:39.906720"], ["jti", "6b046eb6-8fa8-4cd3-a373-ec2d4f2b0c49"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@player.com"], ["encrypted_password", "$2a$04$OV64O1KxJnBnWFedBa6ci.zVxgc89dgtZ7lxCOqySRHV2NX.rBt1m"], ["created_at", "2019-10-16 07:12:39.911791"], ["updated_at", "2019-10-16 07:12:39.911791"], ["jti", "452196d5-19ad-4b46-acb7-acc871c07b56"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7159.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7159"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6b046eb6-8fa8-4cd3-a373-ec2d4f2b0c49"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7159], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:39.924236"], ["updated_at", "2019-10-16 07:12:39.924866"], ["id", 7159]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 1.3ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test7@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test7@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@cafe_owner.com"], ["encrypted_password", "$2a$04$TBk3CkZkwP7ZOXjR3rPgHumRowLrREksgclu5Ga4eDXUAuz.YuqjW"], ["created_at", "2019-10-16 07:12:39.948195"], ["updated_at", "2019-10-16 07:12:39.948195"], ["jti", "c36653a7-4d7b-4d34-917d-87904de4dc3f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@cafe_owner.com"], ["encrypted_password", "$2a$04$OzUrfAPQwEmKQsKl6riklOVW/u4jRmhv4ZLsFA5WWwDOcz69HH9Ei"], ["created_at", "2019-10-16 07:12:39.953420"], ["updated_at", "2019-10-16 07:12:39.953420"], ["jti", "11dcaad9-77e2-41be-a874-51c60eda6c4d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7161.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7161"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c36653a7-4d7b-4d34-917d-87904de4dc3f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7161], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@cafe_owner.com"], ["encrypted_password", "$2a$04$rI5rd30FD45zIrP6VL.mfO1kt0cVl985EhhLKcIBNIW4oys0mHwZC"], ["created_at", "2019-10-16 07:12:39.972318"], ["updated_at", "2019-10-16 07:12:39.972318"], ["jti", "c109f578-9333-40a4-9b56-0e2cb29ebd27"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$I766AU99F0iTYGkBAIpxeOkQOx6z1cPtQSflDGWDTKiWmwiVoAsXe"], ["created_at", "2019-10-16 07:12:39.979203"], ["updated_at", "2019-10-16 07:12:39.979203"], ["jti", "2f0de280-c2b0-4ad2-b571-9917f8707f43"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started DELETE "/api/users/7163.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7163"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c109f578-9333-40a4-9b56-0e2cb29ebd27"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7163], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@cafe_owner.com"], ["encrypted_password", "$2a$04$fA8N6FDwLxzSFllt7/RPlumI9.evwgO2Iuy6boX0ElUdDHWxv0Mja"], ["created_at", "2019-10-16 07:12:40.001505"], ["updated_at", "2019-10-16 07:12:40.001505"], ["jti", "5efa1cfc-119d-47f3-8eb5-279e99e5fad9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_admin.com"], ["encrypted_password", "$2a$04$bzM2O/BGEFdws41LhaQgPuhmjt2tqxClV7f.XRHPD2jo8KxkwYcSu"], ["created_at", "2019-10-16 07:12:40.007442"], ["updated_at", "2019-10-16 07:12:40.007442"], ["jti", "71fd24f0-b2dd-41d6-a5d5-10ecadd648b4"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7165.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7165"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5efa1cfc-119d-47f3-8eb5-279e99e5fad9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7165], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@cafe_owner.com"], ["encrypted_password", "$2a$04$wh1wnCVXSJ24vQK9eX.CJOQFxwkbNuqw4rdo9UVsYhz6.KpUdnA/."], ["created_at", "2019-10-16 07:12:40.027811"], ["updated_at", "2019-10-16 07:12:40.027811"], ["jti", "efa6b543-6087-4728-983c-084aa02ab9ff"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_master.com"], ["encrypted_password", "$2a$04$tj7IKLKpTkK3YigsvfEJveHCzSYFacIM.DNibwCQSXcKUTk/5nqIe"], ["created_at", "2019-10-16 07:12:40.032524"], ["updated_at", "2019-10-16 07:12:40.032524"], ["jti", "a0e95c4a-8284-4918-ad38-6cd5a67225c8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7167.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7167"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "efa6b543-6087-4728-983c-084aa02ab9ff"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7167], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@player.com"], ["encrypted_password", "$2a$04$R9pjg2IBBlNNtKsULteFQuk3rNOCaBgvjLPdZSRP36kBO9OstBW5G"], ["created_at", "2019-10-16 07:12:40.051437"], ["updated_at", "2019-10-16 07:12:40.051437"], ["jti", "0e60de7f-adbf-4b69-860d-a86660419dde"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0e60de7f-adbf-4b69-860d-a86660419dde"], ["LIMIT", 1]]
Unpermitted parameter: :role
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@player.com"], ["encrypted_password", "$2a$04$.NJ21fODcavZDrJv.fDGNe6a7a3.3e/NanKeaqmfS.KjT88ANg3R."], ["created_at", "2019-10-16 07:12:40.073641"], ["updated_at", "2019-10-16 07:12:40.073641"], ["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7169.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7169"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7169], ["LIMIT", 1]]
  [1m[36mUser Update (3.0ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$hOfrNiKf35j8QMx9OUsbVeDPSebjWI2P8BWkZAX2H7Re/jhx4/w.e"], ["updated_at", "2019-10-16 07:12:40.087406"], ["id", 7169]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 4.3ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "3d3a6b7d-b187-4cad-9852-6c0e7ee49329"], ["id", 7169]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "bb807984-11aa-47c2-9665-7756e4d3e8f1"], ["id", 7169]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@player.com"], ["encrypted_password", "$2a$04$1leyZgiUAg4NsLsTBVsyWuMuZPFSo6Sop3nUK2uRVetKOzQ/azhDW"], ["created_at", "2019-10-16 07:12:40.117323"], ["updated_at", "2019-10-16 07:12:40.117323"], ["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7170.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7170"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7170], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$.QR8oiyeiooh6uXFrco8/.mV7rpV.odSf4gyVxOZCkbN6x2H2Pf4a"], ["updated_at", "2019-10-16 07:12:40.132016"], ["id", 7170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "266b477f-c2dd-433d-b872-7e941b0b8d13"], ["id", 7170]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4a608af0-b1ed-4f51-849a-7ceb3d93905a"], ["id", 7170]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@player.com"], ["encrypted_password", "$2a$04$H2uDwPgMhEKy7/m00X52HOxBJ/E7JtlK8jOZB9z/We55XgkhbWfzq"], ["created_at", "2019-10-16 07:12:40.160026"], ["updated_at", "2019-10-16 07:12:40.160026"], ["jti", "21ea1744-a8db-4f1e-9286-8c967257e962"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@player.com"], ["encrypted_password", "$2a$04$Uz8UnStQABg8ulZMyMam9uueQzsTa/O0LS2dc79gZBudAoN36..vO"], ["created_at", "2019-10-16 07:12:40.165731"], ["updated_at", "2019-10-16 07:12:40.165731"], ["jti", "2d52abe4-702f-4ecf-9894-23feea813633"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7172.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7172"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "21ea1744-a8db-4f1e-9286-8c967257e962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7172], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7172], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@player.com"], ["encrypted_password", "$2a$04$ZmrU8KCWx5z.PVDlug7R9ukTeDq34ts46xs.TQ5SEn4iGRdoBMyKy"], ["created_at", "2019-10-16 07:12:40.186172"], ["updated_at", "2019-10-16 07:12:40.186172"], ["jti", "09225bcd-8678-4e8e-a4a9-79c31a314b15"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@cafe_owner.com"], ["encrypted_password", "$2a$04$QczO9LPVMhyZXxYkHxgRmeKCxh9qeEGcDT/47CPzI7Ls5GOqThN/e"], ["created_at", "2019-10-16 07:12:40.191987"], ["updated_at", "2019-10-16 07:12:40.191987"], ["jti", "2e5b1aa7-9ee3-417f-8b4d-1d2a80d5b944"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7174.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7174"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09225bcd-8678-4e8e-a4a9-79c31a314b15"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7174], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7174], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@player.com"], ["encrypted_password", "$2a$04$P1ioxME6q/dlIWrRWSzmS.U9SwqVHkEMg6ypPEkYxXD9XcQtAkHJG"], ["created_at", "2019-10-16 07:12:40.211201"], ["updated_at", "2019-10-16 07:12:40.211201"], ["jti", "749fafea-7ecf-4ccf-93c4-4dd38c95dfb8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_expert.com"], ["encrypted_password", "$2a$04$uT0qMfLa8wqqDnW7mC5Vve2SKoPBqB9bUVqt1mja.YpQovOOTzKOO"], ["created_at", "2019-10-16 07:12:40.216021"], ["updated_at", "2019-10-16 07:12:40.216021"], ["jti", "aefe2dfa-6687-4831-94fd-2c3ee803b81d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7176.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7176"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "749fafea-7ecf-4ccf-93c4-4dd38c95dfb8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7176], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7176], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@player.com"], ["encrypted_password", "$2a$04$0c0AchCODUgfQg6nZJ10Hu4D9E7PC/bNoZ0dgW18ivB/oR8n0QCoC"], ["created_at", "2019-10-16 07:12:40.241116"], ["updated_at", "2019-10-16 07:12:40.241116"], ["jti", "364bf3b2-10da-4b55-8ea9-cdd1b4d6a087"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$aXHm.ODTXJtP1gc6f5VCCupVtWuKRAIv5aeeIVwYtkcFBRvmlWjf6"], ["created_at", "2019-10-16 07:12:40.257823"], ["updated_at", "2019-10-16 07:12:40.257823"], ["jti", "f77258b3-42c7-4320-a861-dba37d77eaaf"], ["role", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7178.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7178"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "364bf3b2-10da-4b55-8ea9-cdd1b4d6a087"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7178], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7178], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@player.com"], ["encrypted_password", "$2a$04$rJoMJwMt2vOJ7O5UHz4R9.oMbFlwiVTqbUB5XjdRG1PZC2lRhFxEK"], ["created_at", "2019-10-16 07:12:40.279856"], ["updated_at", "2019-10-16 07:12:40.279856"], ["jti", "3609cb7a-d3be-4b05-810a-dbdfd3f9d6d2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_master.com"], ["encrypted_password", "$2a$04$mAnNVha34dTjTQBSgE3umeaT/N8P0IAOgN.o0KcNIVi.TIDOqHRme"], ["created_at", "2019-10-16 07:12:40.285211"], ["updated_at", "2019-10-16 07:12:40.285211"], ["jti", "97133881-b136-4219-8778-5c01bdc4a3d2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7180.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7180"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3609cb7a-d3be-4b05-810a-dbdfd3f9d6d2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7180], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7180], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@player.com"], ["encrypted_password", "$2a$04$Xc0NqS9bqg3lrvq.axwOPuqHxg6R.F0UngEQ68DSbC/UpNKfMvuJm"], ["created_at", "2019-10-16 07:12:40.303535"], ["updated_at", "2019-10-16 07:12:40.303535"], ["jti", "524fa0dc-d719-44b5-b7d5-f73a4aac530b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7181.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7181"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "524fa0dc-d719-44b5-b7d5-f73a4aac530b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7181], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:40.316193"], ["updated_at", "2019-10-16 07:12:40.316871"], ["id", 7181]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@player.com"], ["encrypted_password", "$2a$04$F4m3Bv7lXJVol/KfIcDHyOdoWZp.zxN1KdoeffGRye6EJgiyf8xF."], ["created_at", "2019-10-16 07:12:40.332728"], ["updated_at", "2019-10-16 07:12:40.332728"], ["jti", "edae1a54-3ccf-420a-a0e7-1f0fcdc51c55"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@player.com"], ["encrypted_password", "$2a$04$bYhQeav8MBsloNcUFh5wruzlcPaJquHnxSLcjHH4yW/R7t7JF.qri"], ["created_at", "2019-10-16 07:12:40.337863"], ["updated_at", "2019-10-16 07:12:40.337863"], ["jti", "e17af1ed-0f0b-44a1-8578-0e8e7f6a5d43"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7183.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7183"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "edae1a54-3ccf-420a-a0e7-1f0fcdc51c55"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7183], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@player.com"], ["encrypted_password", "$2a$04$LiVfiF6nTsTuFOcoOsNL6u9GuFv9pl4mcSlTZrbhz78JVy65rH7b2"], ["created_at", "2019-10-16 07:12:40.357992"], ["updated_at", "2019-10-16 07:12:40.357992"], ["jti", "c4e8bc4d-3bc8-49b6-a244-d1b75ccef15b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@cafe_owner.com"], ["encrypted_password", "$2a$04$idErU5sh4Uf9ueJDiGQ1leOsJ8A/rd15JFDSFQ93lGVk0RADfn7Q2"], ["created_at", "2019-10-16 07:12:40.363957"], ["updated_at", "2019-10-16 07:12:40.363957"], ["jti", "e08e84ca-ee1e-4e78-8073-844c24877ead"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started DELETE "/api/users/7185.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7185"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c4e8bc4d-3bc8-49b6-a244-d1b75ccef15b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7185], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@player.com"], ["encrypted_password", "$2a$04$/Om9h.jd0xR91wk/jZIRA.sN289ZTE8Z8Yz2cocYad1Q1P7UxGqTS"], ["created_at", "2019-10-16 07:12:40.382113"], ["updated_at", "2019-10-16 07:12:40.382113"], ["jti", "da37a099-f017-4e82-844f-858066b7d10e"], ["role", 4]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$ZglQmwGxo/zaQI88EMMdVO1zFhy0LILq9JbCCAtu01RJAk8FU/Ahu"], ["created_at", "2019-10-16 07:12:40.389775"], ["updated_at", "2019-10-16 07:12:40.389775"], ["jti", "3c1a0a9b-2f22-4a2d-b9e0-7d74182a336f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7187.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7187"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da37a099-f017-4e82-844f-858066b7d10e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7187], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@player.com"], ["encrypted_password", "$2a$04$P9Wq2BZAindkjU1sw7jmAuooJVlSFIvuQbjJQ15tH6Iu3KGv049ee"], ["created_at", "2019-10-16 07:12:40.408523"], ["updated_at", "2019-10-16 07:12:40.408523"], ["jti", "d7e98330-8acd-4cde-adc3-8f6bac934166"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_admin.com"], ["encrypted_password", "$2a$04$Uy.FgN9YBM/KwPUyJjP7fuqy.BJ/RWwgzdTXYIrk3qt.KwZkGliYe"], ["created_at", "2019-10-16 07:12:40.413205"], ["updated_at", "2019-10-16 07:12:40.413205"], ["jti", "8739f043-5f06-4d0c-9d55-30e20c7c5d2a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7189.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7189"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d7e98330-8acd-4cde-adc3-8f6bac934166"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7189], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@player.com"], ["encrypted_password", "$2a$04$7NW5E1kK97zsoxnTreCCauJkVGfmgyHq9iVB0raPEd6qcsb3bk77O"], ["created_at", "2019-10-16 07:12:40.434637"], ["updated_at", "2019-10-16 07:12:40.434637"], ["jti", "957079c3-d9cf-4d39-864d-18c620cfafec"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_master.com"], ["encrypted_password", "$2a$04$imCNgSd/M/cnNgzbKCa8SOBKsUHG/sBNwvBKSw4SliFYH6Fwell86"], ["created_at", "2019-10-16 07:12:40.441347"], ["updated_at", "2019-10-16 07:12:40.441347"], ["jti", "a49cbe81-71f5-46c4-b9d1-073fd0e7db25"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7191.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7191"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "957079c3-d9cf-4d39-864d-18c620cfafec"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7191], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$8MjA8seybT8RH6c.fo6MTOi0oMyVOqreLxyIdiIfoPWjAd3Omixlu"], ["created_at", "2019-10-16 07:12:40.462291"], ["updated_at", "2019-10-16 07:12:40.462291"], ["jti", "28f063e2-9141-4fb4-88cf-d3e10105ccfa"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "28f063e2-9141-4fb4-88cf-d3e10105ccfa"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$UUtBKOFfVzIJSwxj3yzaa.EHM3dBbykvrmin1/GHc1j2TwVhGlW9."], ["created_at", "2019-10-16 07:12:40.479603"], ["updated_at", "2019-10-16 07:12:40.479603"], ["jti", "63297f2f-8c32-4c3e-a4bc-83aef6c9cbfa"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$kgke8uSbZM8LDShc/jwdAuBxEQRrdvsHSdcybWN9VSGCCvITFaJpC"], ["created_at", "2019-10-16 07:12:40.488815"], ["updated_at", "2019-10-16 07:12:40.488815"], ["jti", "13cf7ccb-949c-492f-a95c-7f125cf9bd8b"], ["role", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test7@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "13cf7ccb-949c-492f-a95c-7f125cf9bd8b"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$Kp06ngxkFcZI5CPi7ju79OhR.qhS4piOCEEOSNZlccX1JjmdOSTSO"], ["created_at", "2019-10-16 07:12:40.505748"], ["updated_at", "2019-10-16 07:12:40.505748"], ["jti", "b77912aa-4bbe-496b-bc5d-c8ad29007405"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_admin.com"], ["encrypted_password", "$2a$04$Xujh3yack5q6pwDODtfK3OZXBTed/PNvYDUdCWXtIcxm.iKMOrL2y"], ["created_at", "2019-10-16 07:12:40.517376"], ["updated_at", "2019-10-16 07:12:40.517376"], ["jti", "5179343e-1702-4afa-a9e1-fe8355090dc7"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5179343e-1702-4afa-a9e1-fe8355090dc7"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$UlzrkEe0zGEhv432/nPcI.RGz7mNm7FDDSJmF9dmRdTV1jpuf6vVy"], ["created_at", "2019-10-16 07:12:40.533330"], ["updated_at", "2019-10-16 07:12:40.533330"], ["jti", "a543f7c2-6099-42f1-8a1d-e076150077ea"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_admin.com"], ["encrypted_password", "$2a$04$t/2YOeiTELqueE.TgzcxTOvYAXMT5FUbHEwYZvnCNrRe9JiBuTV.a"], ["created_at", "2019-10-16 07:12:40.543193"], ["updated_at", "2019-10-16 07:12:40.543193"], ["jti", "f3a6e50a-c166-4dcf-86cc-9f091d96ab48"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f3a6e50a-c166-4dcf-86cc-9f091d96ab48"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$E9EBYNKRqwCYKegpZWLrYO9VNwE3HdLDgNJ8vmuIeR4AdxqHp/pSO"], ["created_at", "2019-10-16 07:12:40.560275"], ["updated_at", "2019-10-16 07:12:40.560275"], ["jti", "e5ae0485-5277-47c6-a115-4104090f10ff"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_admin.com"], ["encrypted_password", "$2a$04$yOUF8atM6QCxaV94hKAadeftxkcIZSnxlMV92Q/cuL28Bgbi3vhc."], ["created_at", "2019-10-16 07:12:40.577055"], ["updated_at", "2019-10-16 07:12:40.577055"], ["jti", "fa215a38-89b6-45ef-be6a-e9091a6b09c4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fa215a38-89b6-45ef-be6a-e9091a6b09c4"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$gMzWFYXu2bbmvFd49eqwoOKDdvLZunpyBIGeABF7PEtZQKX3/XTmi"], ["created_at", "2019-10-16 07:12:40.591852"], ["updated_at", "2019-10-16 07:12:40.591852"], ["jti", "7a4911b6-340a-4655-a7ac-89b1385ae1c0"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_admin.com"], ["encrypted_password", "$2a$04$/X1vT0cuPciEjbfsBSQvRO9ol3uFSuILtf8gjxqPIGjAL53H3L9ga"], ["created_at", "2019-10-16 07:12:40.604266"], ["updated_at", "2019-10-16 07:12:40.604266"], ["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7202.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7202"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7202], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Ut/PHQLnXOWXhIdraaDBdOAjR4NFxMXRkPns9QwA4tP2ePuqGTanC"], ["role", 4], ["updated_at", "2019-10-16 07:12:40.620497"], ["id", 7202]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a6dcdf1f-5379-4495-b148-e60b4af3093f"], ["id", 7202]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a9bc0b56-95c2-487e-8e85-3e3a94bc834d"], ["id", 7202]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_admin.com"], ["encrypted_password", "$2a$04$OcUtrJ4RIyDFFlj6P3Ugh.PnAHU79Pkpwty61ynW1rRZO.q8xrNvu"], ["created_at", "2019-10-16 07:12:40.648359"], ["updated_at", "2019-10-16 07:12:40.648359"], ["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7203.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7203"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7203], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$MwXuaao5VHAXChummAYYauDmMLymGgaOl1byHmNK5RVwPlmXwOgJS"], ["role", 3], ["updated_at", "2019-10-16 07:12:40.664548"], ["id", 7203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7eea34cc-521e-460b-94f5-9262e709ea02"], ["id", 7203]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "b811804b-68f0-48e8-8a5a-a1fd1336fd0b"], ["id", 7203]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_admin.com"], ["encrypted_password", "$2a$04$81O9vlelV6k/ets0fN22HOzbFiylZeBi0oibdyw5MrwSnVDjKe69e"], ["created_at", "2019-10-16 07:12:40.691857"], ["updated_at", "2019-10-16 07:12:40.691857"], ["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7204.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7204"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7204], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$6U3JPKHw9OOVkvMiUWLpuOK8lNE.wccE4v9OkA69XV8hYUYnDnfq."], ["role", 2], ["updated_at", "2019-10-16 07:12:40.709119"], ["id", 7204]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7f701049-f024-4990-bf1b-7a15ae62c477"], ["id", 7204]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6ee1bf32-0582-4851-b67e-0c30da3f8bc8"], ["id", 7204]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_admin.com"], ["encrypted_password", "$2a$04$UBH4725vj7x1H.x4p.76v.uy4E3TY5.R3cpu6WdmXAOlNskL9vD66"], ["created_at", "2019-10-16 07:12:40.738715"], ["updated_at", "2019-10-16 07:12:40.738715"], ["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7205.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7205"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7205], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$/YDfB9CnTKYh28wIYaiPjOCAFXPLvxHFmcfWzHZgi02NbXfxP3AKS"], ["updated_at", "2019-10-16 07:12:40.753883"], ["id", 7205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "638dd892-b8f4-4501-9179-7c9a03b029c4"], ["id", 7205]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a439f114-4267-4bf4-b0ae-18e4cff55865"], ["id", 7205]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_admin.com"], ["encrypted_password", "$2a$04$AHOisQzY872wGNa2Uvc24.HDOXmg6.6XL65JQOlonSS/g/231D4ye"], ["created_at", "2019-10-16 07:12:40.781676"], ["updated_at", "2019-10-16 07:12:40.781676"], ["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7206.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7206"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7206], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$IfS2m/B86lCTtMUK0aQxNem2yRA.NWapirj1a6Fko/Sp3DXjOZ/je"], ["updated_at", "2019-10-16 07:12:40.798461"], ["id", 7206]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["LIMIT", 1]]
  [1m[36mApiUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "70d08500-6d5d-42b3-92d5-5e307649b537"], ["id", 7206]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.1ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "fe8c7970-480e-4156-b4a2-0594d88cc8bf"], ["id", 7206]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_admin.com"], ["encrypted_password", "$2a$04$WxpdUyG5Uh44o8E48v1dvue.EG3WJ1YffwCKCB1XPDgsvRmpF8ODS"], ["created_at", "2019-10-16 07:12:40.824014"], ["updated_at", "2019-10-16 07:12:40.824014"], ["jti", "963c4f60-afc7-4c1d-87dc-af7a0ba4ed1f"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@player.com"], ["encrypted_password", "$2a$04$BDyHf9RE8Uj614QAyhSMy.MAbmq1qVN67DawGl.YHxQRMRbyVVF46"], ["created_at", "2019-10-16 07:12:40.829606"], ["updated_at", "2019-10-16 07:12:40.829606"], ["jti", "e2c75014-92bd-4087-807c-5159494fa7ec"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7208.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7208"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "963c4f60-afc7-4c1d-87dc-af7a0ba4ed1f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7208], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7208], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$v/CgRJo7ZUY5MVpkaeCXjuHuo81NgO/EKS2lLDckLE/na/AzUj.dG"], ["updated_at", "2019-10-16 07:12:40.844442"], ["id", 7208]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7208], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_admin.com"], ["encrypted_password", "$2a$04$BXjmpUrG2j1UvLlz1jQlmutzOJVYwFy/P4IfpRTkcxFk6t5ilvDl2"], ["created_at", "2019-10-16 07:12:40.855644"], ["updated_at", "2019-10-16 07:12:40.855644"], ["jti", "610f3951-a021-4a44-98ed-d3f20b5eaca3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@player.com"], ["encrypted_password", "$2a$04$f2WK9eoLl.EPWUF.83mOPevMAp7qKGk93ICxLN.JP7v2naww2Lo7m"], ["created_at", "2019-10-16 07:12:40.861410"], ["updated_at", "2019-10-16 07:12:40.861410"], ["jti", "2471aa09-def9-4fbe-aebc-8526931d8cf3"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7210.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7210"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "610f3951-a021-4a44-98ed-d3f20b5eaca3"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7210], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7210], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$WB9xYvFH90JcJQcP14ymyujlZQPLp/gU4B3iLlIHtwOv8DGFsoV5K"], ["updated_at", "2019-10-16 07:12:40.883435"], ["id", 7210]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7210], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_admin.com"], ["encrypted_password", "$2a$04$bJFeAzngGxHQWdW9G9YMhembpVDodZyTsglUiKVeT1BpgsSlQf5SC"], ["created_at", "2019-10-16 07:12:40.894000"], ["updated_at", "2019-10-16 07:12:40.894000"], ["jti", "bb6d6fa5-c293-47e4-8e7d-02a881a09573"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@player.com"], ["encrypted_password", "$2a$04$4b3mkeRufiui19FdncW.COKGeoPV9P.SccOrzVrieQjzFYGCrtbrq"], ["created_at", "2019-10-16 07:12:40.899532"], ["updated_at", "2019-10-16 07:12:40.899532"], ["jti", "882892ff-2d58-4e91-a70b-1b41996eeed7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7212.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7212"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bb6d6fa5-c293-47e4-8e7d-02a881a09573"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7212], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7212], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$nCJJTIynu4iIMyHZsLiIj.0dzafrTwTfq.nbI4S/xpgoZjJCzOkAu"], ["updated_at", "2019-10-16 07:12:40.915700"], ["id", 7212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7212], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_admin.com"], ["encrypted_password", "$2a$04$rqxZzE74MfQP/98DKjP1b.C90Pdnnbu8AWPu6fp1eODUoc3wER.M."], ["created_at", "2019-10-16 07:12:40.925207"], ["updated_at", "2019-10-16 07:12:40.925207"], ["jti", "dcd35ee8-a20d-4119-97a5-6efe214d9573"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@player.com"], ["encrypted_password", "$2a$04$ebrBsw2Cxfy14VjRmIsr.u9uAEfo0QTNB7u2IC0TIUq/XOYV2Jp5e"], ["created_at", "2019-10-16 07:12:40.930946"], ["updated_at", "2019-10-16 07:12:40.930946"], ["jti", "2261e136-75c5-4bc3-921b-ad9de022518f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7214.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7214"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcd35ee8-a20d-4119-97a5-6efe214d9573"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7214], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7214], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$CoIWNtFLeqLOcMsqH4EDx.BMJcsz3T1xX1pb/DAQTdmF4tqd7mB6G"], ["updated_at", "2019-10-16 07:12:40.948758"], ["id", 7214]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 2.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7214], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_admin.com"], ["encrypted_password", "$2a$04$pWzWSdyLf9F1x581gk1.Te57ofpjWf8bUaIOD7ZnxgRsclBOfshNu"], ["created_at", "2019-10-16 07:12:40.959437"], ["updated_at", "2019-10-16 07:12:40.959437"], ["jti", "821e674a-3937-4906-8f02-4e673a09335a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@cafe_owner.com"], ["encrypted_password", "$2a$04$rETS.1h0dDYuxKWj0CvdC.Ngul.JmS/fhcZ7l4XBGO6pW6CdpNbW."], ["created_at", "2019-10-16 07:12:40.965826"], ["updated_at", "2019-10-16 07:12:40.965826"], ["jti", "834de729-7de6-4651-8681-888664a024c3"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7216.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7216"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "821e674a-3937-4906-8f02-4e673a09335a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7216], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7216], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$eIKvnPI/EeW07SMLW1sv1ua.YP6nT9FqgBTrvaxqvKax8AE6yVkmC"], ["updated_at", "2019-10-16 07:12:40.981979"], ["id", 7216]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7216], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_admin.com"], ["encrypted_password", "$2a$04$/.Ug9/IQsLXFnxUKlPnQuOzpWje8dOmocgjiH0vUNIvg3UZ2V9/Aq"], ["created_at", "2019-10-16 07:12:40.992569"], ["updated_at", "2019-10-16 07:12:40.992569"], ["jti", "33ecd793-aa4f-4ffa-8701-7feeb029cca4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@cafe_owner.com"], ["encrypted_password", "$2a$04$22HlAql0oDDmPPNAQNZDRec9EdLnp8vM4s/MbfkhWhKOn/Cu1g03i"], ["created_at", "2019-10-16 07:12:40.997405"], ["updated_at", "2019-10-16 07:12:40.997405"], ["jti", "7e584d5d-d124-4afa-9afa-909b63819ec3"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7218.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7218"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "33ecd793-aa4f-4ffa-8701-7feeb029cca4"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7218], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7218], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$XGq4gjf9MDfhss.DxVa/f.K.STqNO2t.H9TLoUOrTs1j0jb/5EvYe"], ["updated_at", "2019-10-16 07:12:41.013074"], ["id", 7218]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7218], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_admin.com"], ["encrypted_password", "$2a$04$rQJXwJmP4ED/4lAUaHbr8u69AY9QcjixsGcD.qUXpiFdhV142ZUZi"], ["created_at", "2019-10-16 07:12:41.022568"], ["updated_at", "2019-10-16 07:12:41.022568"], ["jti", "a9611736-9288-4d29-87bf-93f1ae228860"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@cafe_owner.com"], ["encrypted_password", "$2a$04$89MpJm7iAaKqinsJXDCRb.lhitI6KGm5hBUI.nvdax9dVVQvWrWRO"], ["created_at", "2019-10-16 07:12:41.028984"], ["updated_at", "2019-10-16 07:12:41.028984"], ["jti", "15948475-039b-4bfa-91d3-c758faf1c4f1"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7220.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7220"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9611736-9288-4d29-87bf-93f1ae228860"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7220], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7220], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$6fesmjaZqEW5GYei0eMu9.ukt9JPCoBuD1uqZy/FV0bKUMIFHmKkG"], ["updated_at", "2019-10-16 07:12:41.044648"], ["id", 7220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7220], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_expert.com"], ["encrypted_password", "$2a$04$HMKAT0.8sk3KoQXAKvD2PeLHDgVboQRYP.lKC7CzbgNo7kg6QF6Dq"], ["created_at", "2019-10-16 07:12:41.054742"], ["updated_at", "2019-10-16 07:12:41.054742"], ["jti", "f26c7648-f04d-489a-84ce-a0e306015a2e"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@cafe_owner.com"], ["encrypted_password", "$2a$04$rx5xfqQY9L0Cjr3J5sQDbe3x1U1wmwmgiVviOSbkITDRkuHK4WBze"], ["created_at", "2019-10-16 07:12:41.060637"], ["updated_at", "2019-10-16 07:12:41.060637"], ["jti", "d490af2a-f9c0-4a17-b363-72ca39bad51d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7222.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7222"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f26c7648-f04d-489a-84ce-a0e306015a2e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7222], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7222], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$T5DXrTYu2tf0pcfljBKG9.soodhhoKrsojuBg/IRaqdSn.KcAe1IK"], ["updated_at", "2019-10-16 07:12:41.080003"], ["id", 7222]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7222], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_admin.com"], ["encrypted_password", "$2a$04$oDWKenPgygtIJiNK3mDcVuuyGObSuL6EjGBF358J1/bw/iPs.aNDW"], ["created_at", "2019-10-16 07:12:41.090597"], ["updated_at", "2019-10-16 07:12:41.090597"], ["jti", "5112d5b8-c209-4f9e-8d6e-f54115e60cb3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$bLECjpqAZLd6HXeCEUCip.7beBHmtlqal0Cwv1qHOGytopsk4RhwK"], ["created_at", "2019-10-16 07:12:41.096313"], ["updated_at", "2019-10-16 07:12:41.096313"], ["jti", "46da4918-af08-487f-905e-ae29c69957d9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7224.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7224"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5112d5b8-c209-4f9e-8d6e-f54115e60cb3"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7224], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7224], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$SDnL24pwnLMqEIEXEsUnJeOFseBcTYTTL3dNuKquFC2Gof3qgEdXS"], ["updated_at", "2019-10-16 07:12:41.113317"], ["id", 7224]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7224], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_admin.com"], ["encrypted_password", "$2a$04$POP85eqXi7w.chxRfC9NZus.7kISxuEeihcDiJlKUnl0jD9nHe1py"], ["created_at", "2019-10-16 07:12:41.123093"], ["updated_at", "2019-10-16 07:12:41.123093"], ["jti", "73cc3d4a-e970-43b8-8fa7-418d830ba443"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_expert.com"], ["encrypted_password", "$2a$04$SjMUmYXTd8O2x7QsgFkinuOAOI8F4TCB0inDqFw3U0DJC47bLOJB6"], ["created_at", "2019-10-16 07:12:41.128147"], ["updated_at", "2019-10-16 07:12:41.128147"], ["jti", "b367730f-c897-437d-876e-05621a9aa7cb"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7226.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7226"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "73cc3d4a-e970-43b8-8fa7-418d830ba443"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7226], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$TWnWhjpiq7bS4ZXdjCWP2u/C/t/f8GdvLVKX8cNmXmGfGoqiBu3JK"], ["updated_at", "2019-10-16 07:12:41.145976"], ["id", 7226]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_admin.com"], ["encrypted_password", "$2a$04$sQx4trTNwqyuok1XARIRQePTLmfZNbifTv1Yq948HVTsw4nIq6t0i"], ["created_at", "2019-10-16 07:12:41.155833"], ["updated_at", "2019-10-16 07:12:41.155833"], ["jti", "a289a2b0-358c-48c6-a080-dc2c7ff858a4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_expert.com"], ["encrypted_password", "$2a$04$zrjBpUcXqYRDZ1CitNa6B.8dZqfpQa6.dvJZnYuRE9pR3SuGzW3QC"], ["created_at", "2019-10-16 07:12:41.160553"], ["updated_at", "2019-10-16 07:12:41.160553"], ["jti", "3f995847-c21f-445b-85b5-cc26e0476d35"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7228.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7228"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a289a2b0-358c-48c6-a080-dc2c7ff858a4"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7228], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7228], ["LIMIT", 1]]
  [1m[36mUser Update (15.2ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$b4NZNqSQE3YcsWKXp5vq5.I4.j0HG3KXM75BsEw5l2W4/ZE1jjAtW"], ["updated_at", "2019-10-16 07:12:41.177054"], ["id", 7228]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 25ms (Views: 1.1ms | ActiveRecord: 16.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7228], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_admin.com"], ["encrypted_password", "$2a$04$kikq4JqlReyLvdV7vaEvh.OAOqoBE4fNz9bz.4vsra3Drecf1rwWm"], ["created_at", "2019-10-16 07:12:41.205860"], ["updated_at", "2019-10-16 07:12:41.205860"], ["jti", "6f860777-1eed-4378-bd1e-ad80857c9ddc"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_expert.com"], ["encrypted_password", "$2a$04$HZvYoIBcqwKzi4.D8eoOC.vM2oQr3McdKkIXPIEHHsXruS51ysXY2"], ["created_at", "2019-10-16 07:12:41.219814"], ["updated_at", "2019-10-16 07:12:41.219814"], ["jti", "299e113d-c709-4b0f-9f77-854529df383d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7230.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7230"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6f860777-1eed-4378-bd1e-ad80857c9ddc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7230], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7230], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$NNQXQ.ofdfEbi99KreaLGe1USbBfez2cnKZ7kFC5bpO6K.ErSlc7O"], ["updated_at", "2019-10-16 07:12:41.236990"], ["id", 7230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7230], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_admin.com"], ["encrypted_password", "$2a$04$nuceGJjEImVtNq63ZEvMh.V4avccc9qXReYOIMzEthFaJH.U.BaPa"], ["created_at", "2019-10-16 07:12:41.246940"], ["updated_at", "2019-10-16 07:12:41.246940"], ["jti", "b5ce780b-2beb-412f-adce-83f1cb9dc56d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_admin.com"], ["encrypted_password", "$2a$04$gX8NvzZhS4txWGb59mutKOHIODY3Cp9/JfoYjg/izvbgP6ST139gu"], ["created_at", "2019-10-16 07:12:41.252531"], ["updated_at", "2019-10-16 07:12:41.252531"], ["jti", "27470706-fa95-45b5-8563-46c5a4a6359e"], ["role", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7232.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7232"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5ce780b-2beb-412f-adce-83f1cb9dc56d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7232], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7232], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_admin.com"], ["encrypted_password", "$2a$04$4zzM7jE5vks42i6ZSg.xveVeOGlghuTQq43ClcoEtHCzIZ8fnl4EO"], ["created_at", "2019-10-16 07:12:41.274340"], ["updated_at", "2019-10-16 07:12:41.274340"], ["jti", "d282fcc0-506e-4e4c-a0d7-5878611f4976"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_master.com"], ["encrypted_password", "$2a$04$0NT9SwFB2sp9H64FMFYK7.XBiIziTrNZv7i7BdCylZ3QkgfBYYNUu"], ["created_at", "2019-10-16 07:12:41.281330"], ["updated_at", "2019-10-16 07:12:41.281330"], ["jti", "9ff96a01-b72d-4d3d-8598-dbc0751d23f2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7234.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d282fcc0-506e-4e4c-a0d7-5878611f4976"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7234], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_admin.com"], ["encrypted_password", "$2a$04$iYSSdBXegTI/ywq.n.6vfuVMjKD1x5Z1cPpWzUbdokH4B2pElZeTq"], ["created_at", "2019-10-16 07:12:41.303178"], ["updated_at", "2019-10-16 07:12:41.303178"], ["jti", "02446eca-4eff-4a09-9bf2-7f2602cbcbda"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started DELETE "/api/users/7235.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7235"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "02446eca-4eff-4a09-9bf2-7f2602cbcbda"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7235], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.315922"], ["updated_at", "2019-10-16 07:12:41.316778"], ["id", 7235]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.4ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_admin.com"], ["encrypted_password", "$2a$04$2Mf6vqNjNsSAuS.NDiBwDekRejqYdgynZJXmOVisJhN98B34u0j4m"], ["created_at", "2019-10-16 07:12:41.333285"], ["updated_at", "2019-10-16 07:12:41.333285"], ["jti", "8a8bbe30-7202-49c2-aa8b-7c4c630be17c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@player.com"], ["encrypted_password", "$2a$04$DTNam77LnD78iEe6nNtsS.AqX5.xHuP6xWP2lduKDYHBNgrHuwOHi"], ["created_at", "2019-10-16 07:12:41.339657"], ["updated_at", "2019-10-16 07:12:41.339657"], ["jti", "d141f01d-5576-4541-8882-12f1e587f6e0"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7237.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7237"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8a8bbe30-7202-49c2-aa8b-7c4c630be17c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7237], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.352383"], ["updated_at", "2019-10-16 07:12:41.353147"], ["id", 7237]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_admin.com"], ["encrypted_password", "$2a$04$Ezp/VYJeTMixWYB/JnvSdeTgAT6aMeA/5ESaMw9mykVA7wBRn.mWK"], ["created_at", "2019-10-16 07:12:41.369124"], ["updated_at", "2019-10-16 07:12:41.369124"], ["jti", "2841b92d-789f-4407-942c-f35d94f39b32"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@cafe_owner.com"], ["encrypted_password", "$2a$04$IRWEPgOMRs/ZBrCNyu4k4Onis45U1wkao.4NrZDO1nuKDkIVcwBBS"], ["created_at", "2019-10-16 07:12:41.374496"], ["updated_at", "2019-10-16 07:12:41.374496"], ["jti", "568bb0ba-9942-42b0-934d-17c8399a1605"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7239.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7239"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2841b92d-789f-4407-942c-f35d94f39b32"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7239], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.387525"], ["updated_at", "2019-10-16 07:12:41.388318"], ["id", 7239]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_admin.com"], ["encrypted_password", "$2a$04$hDG2IjygVkV0TbIMGIgxqerlQDOg6GlQDJlkV0NplHO26v4Fl1gIa"], ["created_at", "2019-10-16 07:12:41.403535"], ["updated_at", "2019-10-16 07:12:41.403535"], ["jti", "db1fa9b3-3876-44e2-a086-3b510bc8648c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_expert.com"], ["encrypted_password", "$2a$04$F3tB./1SZaEtFsnWPE44oeFTCKN7k3e4yE7cuqXK67THAmEtqu2YC"], ["created_at", "2019-10-16 07:12:41.408480"], ["updated_at", "2019-10-16 07:12:41.408480"], ["jti", "f9fa6358-48c5-4ff0-89bb-bdd4ed14dc47"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7241.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7241"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "db1fa9b3-3876-44e2-a086-3b510bc8648c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7241], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.419764"], ["updated_at", "2019-10-16 07:12:41.420328"], ["id", 7241]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_admin.com"], ["encrypted_password", "$2a$04$BY3uRhdop0eCr4jLcdClteNdIGZgAQa4o0NyU1K8Bl9/1WuEhTyKC"], ["created_at", "2019-10-16 07:12:41.434171"], ["updated_at", "2019-10-16 07:12:41.434171"], ["jti", "48798036-078c-4deb-a82c-676be96f62cd"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_admin.com"], ["encrypted_password", "$2a$04$whqnzXKFvpcPPCXYIILLr.GPnYI1gQG1NwU6xtJ8Eyxksv1pOPWMW"], ["created_at", "2019-10-16 07:12:41.441413"], ["updated_at", "2019-10-16 07:12:41.441413"], ["jti", "eb70b5a3-823b-41eb-8d22-ea1bd1b4bd75"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7243.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7243"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "48798036-078c-4deb-a82c-676be96f62cd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7243], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_admin.com"], ["encrypted_password", "$2a$04$OaWm9znSXt2X.3DzbRoU0uk6IQPMD/pah2kbe5sej4WPFbxu2b0du"], ["created_at", "2019-10-16 07:12:41.459110"], ["updated_at", "2019-10-16 07:12:41.459110"], ["jti", "8c4901c3-e26b-4be9-9cb6-4282c236712a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_master.com"], ["encrypted_password", "$2a$04$YGrrhlXpCNk0E5wIoMqzZ.w0fMDPr21evq9rAqcIlFNO/epL.BvNi"], ["created_at", "2019-10-16 07:12:41.464367"], ["updated_at", "2019-10-16 07:12:41.464367"], ["jti", "c4f6a784-05db-4f3c-844b-62487c24c0ea"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7245.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7245"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8c4901c3-e26b-4be9-9cb6-4282c236712a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7245], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_expert.com"], ["encrypted_password", "$2a$04$1gD4HICB.9XEf9kZRIKQceGU.P/lp3uJ3BoCYb1eS9sSujTNhKbvm"], ["created_at", "2019-10-16 07:12:41.481760"], ["updated_at", "2019-10-16 07:12:41.481760"], ["jti", "d5a50af8-1b45-415f-aed2-6fd689ee0f76"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d5a50af8-1b45-415f-aed2-6fd689ee0f76"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$5SSdzgCxYyUzLOLJ4cvAl.rY7/OcDDrLIqkXnEDSCwmLXNi1lNa0a"], ["created_at", "2019-10-16 07:12:41.497326"], ["updated_at", "2019-10-16 07:12:41.497326"], ["jti", "04c202e4-f486-48b7-89a4-b443d3539b93"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_expert.com"], ["encrypted_password", "$2a$04$okrq/XgEYW0Y3Vb7qWo6..e3CBzfewRgIGsFsN4i7TgYwKh9kIgh."], ["created_at", "2019-10-16 07:12:41.507698"], ["updated_at", "2019-10-16 07:12:41.507698"], ["jti", "84fd6d93-be62-457a-bb4f-a0c84f33c3d6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "84fd6d93-be62-457a-bb4f-a0c84f33c3d6"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$sqYHjUY5F2BWDXRyKWMdF.GPuF3f0kG0azf5baKgPF5WKQnDrZsAi"], ["created_at", "2019-10-16 07:12:41.535327"], ["updated_at", "2019-10-16 07:12:41.535327"], ["jti", "bdd9132c-1286-40ed-bad2-c36fbd41a098"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_expert.com"], ["encrypted_password", "$2a$04$7Df1lEOdcfCuXhG.1OJtNeL6Gq1Ah.NnzYLEljr9hyIpQGBZK2DQ6"], ["created_at", "2019-10-16 07:12:41.544712"], ["updated_at", "2019-10-16 07:12:41.544712"], ["jti", "7c5e8673-cae9-474a-8005-a8d92df099a4"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7c5e8673-cae9-474a-8005-a8d92df099a4"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$VpSua0Qm.McRTxsjmyQ1e.nwQedaL9/QzVkKR8QJMRA0DMezhZp/i"], ["created_at", "2019-10-16 07:12:41.561876"], ["updated_at", "2019-10-16 07:12:41.561876"], ["jti", "18daf375-384c-41de-9cd9-0f1f5003438b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_expert.com"], ["encrypted_password", "$2a$04$TUop04IArZBJzBlAjDWoUuL2LEgZzikhU656g7/hkq2FSU7bhDRUO"], ["created_at", "2019-10-16 07:12:41.571869"], ["updated_at", "2019-10-16 07:12:41.571869"], ["jti", "250ab5cb-e55e-41ed-9348-402e4d047fe3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "250ab5cb-e55e-41ed-9348-402e4d047fe3"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$tBONWhEgDhlg2XKUhGpGDO6sPAj6i/S7ZCmyweewjY.sF6NnjQGXe"], ["created_at", "2019-10-16 07:12:41.589136"], ["updated_at", "2019-10-16 07:12:41.589136"], ["jti", "5d23833b-d88a-4ee8-94ae-87ec620f7ffd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_expert.com"], ["encrypted_password", "$2a$04$9Wz0wKe1RQ5dWvsQz.CjH.nlW29EdFU8qOlOlNjzUeNYm2dZcNsFe"], ["created_at", "2019-10-16 07:12:41.601383"], ["updated_at", "2019-10-16 07:12:41.601383"], ["jti", "177a70f3-77fb-4b64-9b64-4e891f138f1f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "177a70f3-77fb-4b64-9b64-4e891f138f1f"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$vUZ2RJ8.9JrVuOrSMLWh4ukG9DkQvMWXYd85qHS9BNRmBgZXmpvlC"], ["created_at", "2019-10-16 07:12:41.618947"], ["updated_at", "2019-10-16 07:12:41.618947"], ["jti", "80f679ae-6e79-4b9d-b3e1-805e5305b363"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_expert.com"], ["encrypted_password", "$2a$04$FLw.6J5TanEPhen5DdF0Q.u/9mGSu8zXAth5KWC6Le.P7rbypHwlu"], ["created_at", "2019-10-16 07:12:41.628820"], ["updated_at", "2019-10-16 07:12:41.628820"], ["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7256.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7256"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7256], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$JS.vXVZ1Vc18.PUrkvmY..nZW5e2C7MwsozNBuWt4EGZ5pKu.UL0G"], ["role", 4], ["updated_at", "2019-10-16 07:12:41.644408"], ["id", 7256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7c4102a3-38f9-4ca7-b1b6-f34dca7a6074"], ["id", 7256]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "2327e230-81a3-4f2f-994f-b573639eec8e"], ["id", 7256]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_expert.com"], ["encrypted_password", "$2a$04$Q6tvYGuyeQvQFanaeq0sQOaBasrG7sAGtM9KTowuhh5b6QiWILFVm"], ["created_at", "2019-10-16 07:12:41.672322"], ["updated_at", "2019-10-16 07:12:41.672322"], ["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7257.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7257"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7257], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$4TQ0V68KvNQo0qsFyBdXvew4cfyyTN5hNKsvLvBYZFJkLSdzbB666"], ["role", 3], ["updated_at", "2019-10-16 07:12:41.691691"], ["id", 7257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 1.6ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "3132a64d-40ce-4f87-8458-e56d469de46d"], ["id", 7257]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "43c86046-9a6d-48fb-97ff-991e00f047a0"], ["id", 7257]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_expert.com"], ["encrypted_password", "$2a$04$0a8tZaPOfeEvlu6JuRfN4u4CshMryuNt7Vn/0hb9M49eWfGoSy/z."], ["created_at", "2019-10-16 07:12:41.731181"], ["updated_at", "2019-10-16 07:12:41.731181"], ["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7258.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7258"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7258], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$PO97y6lvZuRs09/f77tU8OhEl/LdvMyjUxYbdkU8.o.01JIkSRG4i"], ["updated_at", "2019-10-16 07:12:41.754507"], ["id", 7258]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 1.6ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f012ecb8-15d3-401c-ba98-ca133a7b7b0e"], ["id", 7258]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "ae79be06-b7b3-436f-a08f-3584026e9138"], ["id", 7258]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_expert.com"], ["encrypted_password", "$2a$04$Zv37LqRgalG3coYeqplJW.bThKX23p9wng3pmvwS1/xcVQ3sOL25."], ["created_at", "2019-10-16 07:12:41.795132"], ["updated_at", "2019-10-16 07:12:41.795132"], ["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7259.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7259"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7259], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$SHlbgsC/K4fhVSPU2RpVSOseVQR9eekhMUzFWXuaKQ8E5Fz0uK.JG"], ["updated_at", "2019-10-16 07:12:41.818007"], ["id", 7259]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 1.6ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "591a00dc-44fe-44aa-90eb-705d3155024d"], ["id", 7259]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9e9de312-aba2-4c4a-b7af-e67891b75160"], ["id", 7259]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_expert.com"], ["encrypted_password", "$2a$04$mUOw8dlrNgpWcNExsw4WQe.LSlD6OOoIUBsLNWcm2SvQH3BmAuFmi"], ["created_at", "2019-10-16 07:12:41.854836"], ["updated_at", "2019-10-16 07:12:41.854836"], ["jti", "dc8b1ad8-667c-47ac-be1f-0cfc6317696a"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@player.com"], ["encrypted_password", "$2a$04$by/Vh/WGUb1GpD2SkU1Q1eRNvyL/Fqi.Vh4tguSQfXCb.O/bULYyi"], ["created_at", "2019-10-16 07:12:41.862766"], ["updated_at", "2019-10-16 07:12:41.862766"], ["jti", "3b38212b-95fe-41bd-ac1c-bd666b4bc454"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 14.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7261.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7261"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dc8b1ad8-667c-47ac-be1f-0cfc6317696a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7261], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7261], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$KnmOIGTguundWL5nxUg1IebeqUUWyYXdZ3rBsgeDMyhriZIrwgSjm"], ["updated_at", "2019-10-16 07:12:41.898633"], ["id", 7261]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7261], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_expert.com"], ["encrypted_password", "$2a$04$YxWF3lhjnGoiHPbrk3dPU.d5v7TXIhw0DFU5iUcuUiA7lenerBpXa"], ["created_at", "2019-10-16 07:12:41.909220"], ["updated_at", "2019-10-16 07:12:41.909220"], ["jti", "be5a9f17-2eb8-42df-b0f5-e65a720f0d59"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@player.com"], ["encrypted_password", "$2a$04$haei0FBr4CX3rF5MNv/hseEEXdNVHzaTkDmDG/u75J4PrZ/YjseD2"], ["created_at", "2019-10-16 07:12:41.914670"], ["updated_at", "2019-10-16 07:12:41.914670"], ["jti", "822c3b9c-cdda-4502-9976-184c53839623"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7263.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7263"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "be5a9f17-2eb8-42df-b0f5-e65a720f0d59"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7263], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7263], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$JM92.iSvAZCdr8tCYZJM4.jYWQKRlly.T.rTusIzb3PPW6aS7AhRW"], ["updated_at", "2019-10-16 07:12:41.929729"], ["id", 7263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7263], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_expert.com"], ["encrypted_password", "$2a$04$lghz3jwmYPTtbHuEpOkeNuSc9XN7.Uurmj1dsnyaN1Opdgrzb5yua"], ["created_at", "2019-10-16 07:12:41.939230"], ["updated_at", "2019-10-16 07:12:41.939230"], ["jti", "c5483bf1-0162-40cb-9e43-2f1c88df94f0"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@player.com"], ["encrypted_password", "$2a$04$qmD1Pne0hO3l3llmvbhExuFdzFEagcBoo6T8MFYtAlOE/108HZWmq"], ["created_at", "2019-10-16 07:12:41.944641"], ["updated_at", "2019-10-16 07:12:41.944641"], ["jti", "fb83e7bb-1420-4812-bebf-4bafe9e7f707"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7265.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7265"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c5483bf1-0162-40cb-9e43-2f1c88df94f0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7265], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7265], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$spS9jhijnHrwE13Dqr4pMeXBq3MN32XyYsRZNVF8nJvCVitDKCGLy"], ["updated_at", "2019-10-16 07:12:41.963717"], ["id", 7265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7265], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_expert.com"], ["encrypted_password", "$2a$04$Wd31V1WJ651HhcWJIA/dMOzim6TvhSVWN2shaGK6T5hMfzgwXgeq6"], ["created_at", "2019-10-16 07:12:41.974575"], ["updated_at", "2019-10-16 07:12:41.974575"], ["jti", "d6d3bbf5-2b8f-4a4b-ba87-4b55f027eb1c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@cafe_owner.com"], ["encrypted_password", "$2a$04$QVwSRyyRqa8iT5KT2ufKsuSp7x2ZCHf0lr3PvaCay5T1vdHsvTfAW"], ["created_at", "2019-10-16 07:12:41.980366"], ["updated_at", "2019-10-16 07:12:41.980366"], ["jti", "598fd4ca-69f6-401f-b6d7-7f7b36f71e69"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7267.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7267"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d6d3bbf5-2b8f-4a4b-ba87-4b55f027eb1c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7267], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7267], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$CWxK6KCJWUYTUPlPRvfq0u0/HgSZRJ0qJZbbXV.fKJPBif2EyyNs."], ["updated_at", "2019-10-16 07:12:41.996787"], ["id", 7267]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7267], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_expert.com"], ["encrypted_password", "$2a$04$XBDBp14mW8JWanhUgHLTnOFcmUqcraM/W3Xkp9OYxOvIRfsGExhtC"], ["created_at", "2019-10-16 07:12:42.006970"], ["updated_at", "2019-10-16 07:12:42.006970"], ["jti", "75086505-cc68-4f6b-b7f7-314341bd6378"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@cafe_owner.com"], ["encrypted_password", "$2a$04$7c8yvwg8turljFHk8Urqr.ed/vUdlgdk/X26JMD0GTLPuv/0kv.6q"], ["created_at", "2019-10-16 07:12:42.012315"], ["updated_at", "2019-10-16 07:12:42.012315"], ["jti", "c2424294-d00d-4be8-8810-2efb776b2e72"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7269.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7269"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "75086505-cc68-4f6b-b7f7-314341bd6378"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7269], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7269], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$lkCue7dVMTv8OPMuLiEhnusYb5R9ZqKEk9kF6EO15Zocy7qg2AOHa"], ["updated_at", "2019-10-16 07:12:42.029354"], ["id", 7269]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7269], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_expert.com"], ["encrypted_password", "$2a$04$kVcOL1Ws5mO455NVQSP2KeYOon4vz.xR7BSql/SFF2V2pIg/obTo2"], ["created_at", "2019-10-16 07:12:42.039145"], ["updated_at", "2019-10-16 07:12:42.039145"], ["jti", "9c29ccd4-9528-4026-8664-5a7dfcc9143b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@cafe_owner.com"], ["encrypted_password", "$2a$04$9UEhHvWnodIvCulTCHdCreUY4zl0P8KTJZ7vW/TezmWn5Yky9GpaC"], ["created_at", "2019-10-16 07:12:42.044598"], ["updated_at", "2019-10-16 07:12:42.044598"], ["jti", "710a853f-1245-450d-a76f-af0ec7743541"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7271.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7271"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9c29ccd4-9528-4026-8664-5a7dfcc9143b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7271], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7271], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$wtZhNPWVSkZTziSr9GEuVuws7ysDXRv4DNCDrH1oXy8vra3DFcnSC"], ["updated_at", "2019-10-16 07:12:42.062762"], ["id", 7271]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7271], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_expert.com"], ["encrypted_password", "$2a$04$5UgkWwsy9clFtK5OBarlxe2ks47OrPFCYtYX25U0K/vpVu8uMq6iG"], ["created_at", "2019-10-16 07:12:42.073896"], ["updated_at", "2019-10-16 07:12:42.073896"], ["jti", "e5ec415c-f307-4be6-9716-c330abd8f50a"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_expert.com"], ["encrypted_password", "$2a$04$WMP4BagYw8oGdwxCJy9wDOoM9l0BVC7OZLpVsYAPlrLXEOv7usm4a"], ["created_at", "2019-10-16 07:12:42.080006"], ["updated_at", "2019-10-16 07:12:42.080006"], ["jti", "b057b1b5-2bbd-410b-ba77-f5c7409c21c7"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7273.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7273"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e5ec415c-f307-4be6-9716-c330abd8f50a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7273], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_expert.com"], ["encrypted_password", "$2a$04$pf3lmLir9cWnzTMMr4Ge/uf/bypXJYf95OJMBmFZSvUjFTz1Uwsb2"], ["created_at", "2019-10-16 07:12:42.099925"], ["updated_at", "2019-10-16 07:12:42.099925"], ["jti", "4acfa2e9-67db-4a8b-b5df-0ebb9993190c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_admin.com"], ["encrypted_password", "$2a$04$tvFqbbCzROOySqO7sKz9J.op3aWZ17DFKuvBD3PusJcwttkEkjow."], ["created_at", "2019-10-16 07:12:42.105086"], ["updated_at", "2019-10-16 07:12:42.105086"], ["jti", "824f958d-44fe-44d9-bdbd-1e2322ac2f79"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7275.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7275"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4acfa2e9-67db-4a8b-b5df-0ebb9993190c"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7275], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7275], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_expert.com"], ["encrypted_password", "$2a$04$kthzi4o4HOPApqvV78GMt.rGSKoaqsjBboNbkrvZjZMqfGZqme7kS"], ["created_at", "2019-10-16 07:12:42.127628"], ["updated_at", "2019-10-16 07:12:42.127628"], ["jti", "1de0824e-e434-422a-9c08-bc5b4141868d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_master.com"], ["encrypted_password", "$2a$04$nNQ8kWuu2StDu/EUSmgWaOUGzm2iBLobEV5dghm903hR.nMG3vu8u"], ["created_at", "2019-10-16 07:12:42.133192"], ["updated_at", "2019-10-16 07:12:42.133192"], ["jti", "6fddb1db-15dc-4d66-8f41-901ffd85e05e"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7277.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7277"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1de0824e-e434-422a-9c08-bc5b4141868d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7277], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7277], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_expert.com"], ["encrypted_password", "$2a$04$d7iCRXIAhIat/DH6LganmeTrnRF4XVNjOg70vgIE7Ty/Dq4VJqk8W"], ["created_at", "2019-10-16 07:12:42.154474"], ["updated_at", "2019-10-16 07:12:42.154474"], ["jti", "097df4ce-5f32-4572-85bf-23c6d98af93d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7278.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7278"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "097df4ce-5f32-4572-85bf-23c6d98af93d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7278], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:42.168830"], ["updated_at", "2019-10-16 07:12:42.169574"], ["id", 7278]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_expert.com"], ["encrypted_password", "$2a$04$d5WYxv2LVjuN6UlAbiVLu.M3QGbOUUDNEK/mqBGe6Y6P8ZECX/XfO"], ["created_at", "2019-10-16 07:12:42.186917"], ["updated_at", "2019-10-16 07:12:42.186917"], ["jti", "5756716b-6066-4331-bf5c-c921ca1455a2"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@player.com"], ["encrypted_password", "$2a$04$.yFWUZRXSN/7YkFPrjosluP/.pBxxMM3D1HBsKnP3JfOIkLtkrzI6"], ["created_at", "2019-10-16 07:12:42.192813"], ["updated_at", "2019-10-16 07:12:42.192813"], ["jti", "e4902109-1ead-4e8b-9edd-398ff8e904f6"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7280.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7280"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5756716b-6066-4331-bf5c-c921ca1455a2"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7280], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:42.213621"], ["updated_at", "2019-10-16 07:12:42.214158"], ["id", 7280]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 2.4ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_expert.com"], ["encrypted_password", "$2a$04$n8KGoxtqpbNoOFnj9smbUusT30wduSWtFJHuewGgEC0J4Ak8wBZbC"], ["created_at", "2019-10-16 07:12:42.231314"], ["updated_at", "2019-10-16 07:12:42.231314"], ["jti", "d3cae549-47ac-4028-bb0b-07e7945fbcde"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@cafe_owner.com"], ["encrypted_password", "$2a$04$pukRUoENUY9oyZ1iwxsxpOjiuRoEfiji3BRbrAuwFe4RwGC2SAVkq"], ["created_at", "2019-10-16 07:12:42.236892"], ["updated_at", "2019-10-16 07:12:42.236892"], ["jti", "2dffc40c-5e06-4e44-ac6a-051b06a77f3c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7282.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7282"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d3cae549-47ac-4028-bb0b-07e7945fbcde"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7282], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:42.250070"], ["updated_at", "2019-10-16 07:12:42.250549"], ["id", 7282]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.2ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_expert.com"], ["encrypted_password", "$2a$04$lD3GxUNEEJ8k9h6ylFZzoumPKDN1CTq/CrdPYdHCZ0ncrgF7bHq3O"], ["created_at", "2019-10-16 07:12:42.264474"], ["updated_at", "2019-10-16 07:12:42.264474"], ["jti", "c6e3aee8-eaae-4e6c-8baf-a3da1965a549"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_expert.com"], ["encrypted_password", "$2a$04$H4twAwphFp31cHaJ1bBV3.xi/xNisM0c1lWa0kO8U6EwIxBveyCbC"], ["created_at", "2019-10-16 07:12:42.269575"], ["updated_at", "2019-10-16 07:12:42.269575"], ["jti", "b021a54a-9b5c-46b4-8345-f96c298357fe"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7284.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7284"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c6e3aee8-eaae-4e6c-8baf-a3da1965a549"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7284], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_expert.com"], ["encrypted_password", "$2a$04$vamXCOWu/0aMYLqWLpfEV.PoqjeQ4Tm6fmMbaBdFbI0LCa9wkb4q."], ["created_at", "2019-10-16 07:12:42.287408"], ["updated_at", "2019-10-16 07:12:42.287408"], ["jti", "f0a47d29-e987-4bb7-8724-62c07214a75d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_admin.com"], ["encrypted_password", "$2a$04$cvJZg7ZIpT2sRXNeftcMje3cebVEWAsu2RNeUkDrOl8ehNaf.oGaS"], ["created_at", "2019-10-16 07:12:42.293435"], ["updated_at", "2019-10-16 07:12:42.293435"], ["jti", "01195a0d-f76e-4d68-8d85-7a615c458c73"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/7286.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7286"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f0a47d29-e987-4bb7-8724-62c07214a75d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7286], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_expert.com"], ["encrypted_password", "$2a$04$qPD6AgLonc815SflNd64YOp4ReOZvUE2NzR3nLpRhEa9XBmgmBoi6"], ["created_at", "2019-10-16 07:12:42.312165"], ["updated_at", "2019-10-16 07:12:42.312165"], ["jti", "a0899b2e-1c79-4912-afda-b62aa2bcbe99"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_master.com"], ["encrypted_password", "$2a$04$VD1FTlBHvkdCo.ih6l9WLOWfjy2gqXGRietjXN.pa/sDdk/7Zr0dC"], ["created_at", "2019-10-16 07:12:42.317332"], ["updated_at", "2019-10-16 07:12:42.317332"], ["jti", "6ed3b971-e04a-4424-bce4-223c28c8a393"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7288.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7288"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a0899b2e-1c79-4912-afda-b62aa2bcbe99"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7288], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_master.com"], ["encrypted_password", "$2a$04$QIWr6vzH1Ow/Ix8Bvaots.406RvkT/Ym7tdI/dzxpfV0f0t7jlgee"], ["created_at", "2019-10-16 07:12:42.334918"], ["updated_at", "2019-10-16 07:12:42.334918"], ["jti", "8593c6af-9605-42ad-a9f2-030d3ee74785"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8593c6af-9605-42ad-a9f2-030d3ee74785"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$irAXGGhSqZ5dAxYQtti29u2irHhIK8OWuEbR7YzZARWDNQctme7da"], ["created_at", "2019-10-16 07:12:42.350375"], ["updated_at", "2019-10-16 07:12:42.350375"], ["jti", "41c03113-3a45-464e-839e-8cb547be81ac"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_master.com"], ["encrypted_password", "$2a$04$/a6vauhNxzC3suaa0aE8uuRU0u1leE5LpMZ6Dgw.FDQWWy9haEWam"], ["created_at", "2019-10-16 07:12:42.360188"], ["updated_at", "2019-10-16 07:12:42.360188"], ["jti", "5d9ca2e9-ddd5-4364-b5cc-0b8ee197d4b8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5d9ca2e9-ddd5-4364-b5cc-0b8ee197d4b8"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$ovIeBqEhlnt2JtL4jMaxOOpP.STrdOw.M/5rFxpYJlmGOWxwXya7O"], ["created_at", "2019-10-16 07:12:42.375917"], ["updated_at", "2019-10-16 07:12:42.375917"], ["jti", "5b6fb856-331f-431e-ab0f-589a6d08fcfc"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_master.com"], ["encrypted_password", "$2a$04$CfvBhS30PbkiOgKtYTzkIumXXhROX/gbEc7CsCfToFPKECZ3YsLsy"], ["created_at", "2019-10-16 07:12:42.383972"], ["updated_at", "2019-10-16 07:12:42.383972"], ["jti", "e10bf2fc-ea39-4936-8ca0-c98a71f783a1"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e10bf2fc-ea39-4936-8ca0-c98a71f783a1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$MC/6wlkQe6.NquB2q1yWJeYbeKI1O9J.gwvqcr9c.MqLnmf0ifqGu"], ["created_at", "2019-10-16 07:12:42.399154"], ["updated_at", "2019-10-16 07:12:42.399154"], ["jti", "cd05a949-ea8a-4b84-8ba9-1ac1b55526ab"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.6ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_master.com"], ["encrypted_password", "$2a$04$3MrHpHRdFnSEczECY1VrkuOtWUphgfSkYolbnCumRGrFI/Y2P8j4i"], ["created_at", "2019-10-16 07:12:42.412136"], ["updated_at", "2019-10-16 07:12:42.412136"], ["jti", "69b7a3b5-a651-4fc4-a1cb-3b1ce9bc982d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "69b7a3b5-a651-4fc4-a1cb-3b1ce9bc982d"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$.qaJmpOnfODrBjqApdd0P.pv4O.1vsU7x0x14AlTrLFprWsZ2XfyK"], ["created_at", "2019-10-16 07:12:42.426687"], ["updated_at", "2019-10-16 07:12:42.426687"], ["jti", "62eef47e-bbf2-43eb-ae5f-6c38f9a26d92"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_master.com"], ["encrypted_password", "$2a$04$Q60ZjQTUwVbFaCRYN1HTAuadQkRRuwXiAiuLwqG8zcAEFAF9WB1Dm"], ["created_at", "2019-10-16 07:12:42.438285"], ["updated_at", "2019-10-16 07:12:42.438285"], ["jti", "d86a4a37-668e-43ce-afd1-686da8be11d2"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d86a4a37-668e-43ce-afd1-686da8be11d2"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$XrgvAFOnq7twesh83X.qTeNPdNl2LKsUycXzhbuglgT57.OpuVe.C"], ["created_at", "2019-10-16 07:12:42.455123"], ["updated_at", "2019-10-16 07:12:42.455123"], ["jti", "de68ff4b-e69c-4c1c-a8f6-45c9f534bbdc"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_master.com"], ["encrypted_password", "$2a$04$tDujWqA2LUCmTtBLX7fZd.vfS6x7aYgq7I87mZu6D8jk9pYXozFma"], ["created_at", "2019-10-16 07:12:42.467122"], ["updated_at", "2019-10-16 07:12:42.467122"], ["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7299.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7299"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7299], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$AOSweF3vCrGIXZMFUG6wYecr9h8rAzFv3t9BWuZ4zi11iKg6.YsT."], ["role", 4], ["updated_at", "2019-10-16 07:12:42.485006"], ["id", 7299]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4cfcfcab-f9ce-41b4-99a3-612b51fdbe4c"], ["id", 7299]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[36mApiUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "feb805c5-953b-4355-953c-c77f45d362a2"], ["id", 7299]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_master.com"], ["encrypted_password", "$2a$04$OO/aguTU6.y9q4gqx4pGX.dOYADaL7iq2SXU3ZMOXUqpUCZLnNsT6"], ["created_at", "2019-10-16 07:12:42.523997"], ["updated_at", "2019-10-16 07:12:42.523997"], ["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7300.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7300"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7300], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$AUcsFQAZvN327mGUgsi7G.DD01bQbcCflk10259iGtihW4T8.L/9K"], ["role", 3], ["updated_at", "2019-10-16 07:12:42.541773"], ["id", 7300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "62aed52b-df72-4066-8a6f-bdc8a5897a71"], ["id", 7300]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "21e742fb-a7b7-428e-9a57-126791246e07"], ["id", 7300]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_master.com"], ["encrypted_password", "$2a$04$b/3iQmqId360hf/WCryo2OZSleIn/6/1xxZNzTh2m0G9dd8B5g7Py"], ["created_at", "2019-10-16 07:12:42.567733"], ["updated_at", "2019-10-16 07:12:42.567733"], ["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["role", 0]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7301.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7301"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7301], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$035m7J0FJUO2TZkbeb8iee6/RHh4C2x3h2Kux3AyYIjg3WyL80vay"], ["role", 2], ["updated_at", "2019-10-16 07:12:42.585413"], ["id", 7301]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "c6d86e55-66f9-412b-a39f-f0eec62a2ac5"], ["id", 7301]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4aed7100-ccf3-42d9-b2ac-b8192d37acfe"], ["id", 7301]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_master.com"], ["encrypted_password", "$2a$04$OURKHWiUqrsOBpqGFbeFmega0TABducQUJhGXjBQA.MtSq6NWA5lK"], ["created_at", "2019-10-16 07:12:42.613382"], ["updated_at", "2019-10-16 07:12:42.613382"], ["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7302.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7302"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7302], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$.BD.DUQB9rgIipmbN5FhR.ZHB98vnPxTx6f8uynm52bQLNRZ7O5Ni"], ["role", 1], ["updated_at", "2019-10-16 07:12:42.631756"], ["id", 7302]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "983c0842-eb6f-44d0-8ff0-3cfbaad8a024"], ["id", 7302]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[36mApiUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e6ee103c-6f59-4af6-9fa8-58bec7ab132d"], ["id", 7302]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_master.com"], ["encrypted_password", "$2a$04$3PuF9oLlsUiO0sO0w0mQXupFSfxGVhWbfJAxdWmKh0Mpie7SeCe4a"], ["created_at", "2019-10-16 07:12:42.660746"], ["updated_at", "2019-10-16 07:12:42.660746"], ["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7303.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7303"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7303], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$v3JSMCoFyUfPsoDf4koKZOPwWLUfn8o.DI6CuIn8EeSDYbCC92SiG"], ["updated_at", "2019-10-16 07:12:42.675500"], ["id", 7303]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "0e3d29ea-626a-4c82-868d-2bfb8aa2fdd5"], ["id", 7303]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e3b23ef7-9767-40ab-928b-821a488f639f"], ["id", 7303]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_master.com"], ["encrypted_password", "$2a$04$JnvGHf6XPei5d7y7y99nke/5FpG6fsSpobXJqzjKwpZ1S6x3V243O"], ["created_at", "2019-10-16 07:12:42.702765"], ["updated_at", "2019-10-16 07:12:42.702765"], ["jti", "a2f600b1-ed67-4e57-a9d0-52a9edfe79c7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@player.com"], ["encrypted_password", "$2a$04$q6dRVuoHAd10hs3KR9dBk.gG2EcQ7xlvZeClwhSJKq.q/5SzhAaH2"], ["created_at", "2019-10-16 07:12:42.709070"], ["updated_at", "2019-10-16 07:12:42.709070"], ["jti", "e7c2036b-cf3c-496e-8236-88bb0cdf105f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7305.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7305"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a2f600b1-ed67-4e57-a9d0-52a9edfe79c7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7305], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7305], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Ic1QVOEVNNLhthYFURdqPeyDMzwydwnWYPzwiwLquCaBQz0o9TQiW"], ["updated_at", "2019-10-16 07:12:42.725355"], ["id", 7305]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7305], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_master.com"], ["encrypted_password", "$2a$04$W4xfdK8i/TKMfdgLv54Afe21OyhY3CvFxeuQUJ5hlo2KiT9qSqbiK"], ["created_at", "2019-10-16 07:12:42.737162"], ["updated_at", "2019-10-16 07:12:42.737162"], ["jti", "c00a524e-4838-426c-aa4b-498859990811"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@player.com"], ["encrypted_password", "$2a$04$xu.QmGfz4ep5QXPEULhHT.09c86MqHJ7KMVFBY5lvFl1TmMqyEHQG"], ["created_at", "2019-10-16 07:12:42.742587"], ["updated_at", "2019-10-16 07:12:42.742587"], ["jti", "0359e97d-f3ab-4967-a0f3-f038495adb73"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7307.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7307"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c00a524e-4838-426c-aa4b-498859990811"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7307], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7307], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$do49qvDYXxo0dAZntxNzHubCx9Kf0Gf3cYPdekChA0x1HOn8f6rr6"], ["updated_at", "2019-10-16 07:12:42.759623"], ["id", 7307]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7307], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_master.com"], ["encrypted_password", "$2a$04$0LQ2CY3MqptjaWDKHeBgw.7kwV8RTVwvGdUfNDpqX2rHK3pnE5dY6"], ["created_at", "2019-10-16 07:12:42.768284"], ["updated_at", "2019-10-16 07:12:42.768284"], ["jti", "4ece9e53-cc11-4bf9-a59f-58e2167eb548"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@player.com"], ["encrypted_password", "$2a$04$COWWqz5IOK1.MERGLYAVmu0.q6peeXMBqPVF8HOFu1WzNLL0U6xLK"], ["created_at", "2019-10-16 07:12:42.773169"], ["updated_at", "2019-10-16 07:12:42.773169"], ["jti", "9541b760-1fa5-4eda-a404-e27f06f7440f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7309.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7309"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4ece9e53-cc11-4bf9-a59f-58e2167eb548"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7309], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7309], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$BQGldvoUqzu2tShaoNphH..xWUE3mjzzpFsMPBwkoqEjuXhQWaxPu"], ["updated_at", "2019-10-16 07:12:42.789393"], ["id", 7309]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7309], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_master.com"], ["encrypted_password", "$2a$04$0kwjz099Ti.8ASoUOE0qo.t01OQuRNqlHxweZLTMDrx2OBBL1Mn8u"], ["created_at", "2019-10-16 07:12:42.800194"], ["updated_at", "2019-10-16 07:12:42.800194"], ["jti", "1ae51fbf-ea8f-4d67-9c9c-60c89b77df02"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@player.com"], ["encrypted_password", "$2a$04$XkGu3QCRmH5OiD2CYPLdjeA1b0Bz/GegHgt/.3L9awmEuz1FdF/UK"], ["created_at", "2019-10-16 07:12:42.805966"], ["updated_at", "2019-10-16 07:12:42.805966"], ["jti", "9a6d84af-6eb1-4248-9277-8ec334062632"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started PUT "/api/users/7311.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7311"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ae51fbf-ea8f-4d67-9c9c-60c89b77df02"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7311], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7311], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$ujNcxScYMpgdzw23g29hPuvQ7UwRcZ4hmLEuhS7MvQS03Km2BVNZK"], ["updated_at", "2019-10-16 07:12:42.830903"], ["id", 7311]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7311], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_master.com"], ["encrypted_password", "$2a$04$b3xWLZRGOaIXk7UpzYCEUOIFvrYj7i0A3bYux80Lc99bR9YhgJYgK"], ["created_at", "2019-10-16 07:12:42.840765"], ["updated_at", "2019-10-16 07:12:42.840765"], ["jti", "9e42c97e-1109-423f-a0a4-6600cd5b4eea"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@player.com"], ["encrypted_password", "$2a$04$ckxTw4L08uftCg1VCoMEyO8F6dn5PMgH.L5E1IXbZkPv92pPlmXFm"], ["created_at", "2019-10-16 07:12:42.846531"], ["updated_at", "2019-10-16 07:12:42.846531"], ["jti", "e792673c-0732-4853-943e-569f2429bdf9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7313.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7313"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9e42c97e-1109-423f-a0a4-6600cd5b4eea"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7313], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7313], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$PxR61C6J1qaljUTaDvknGeCLbRGOMqVV8RU/qHbiwgO6z4OnkR5AS"], ["updated_at", "2019-10-16 07:12:42.862276"], ["id", 7313]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7313], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_master.com"], ["encrypted_password", "$2a$04$dAXeYKO4dUfGDLflcqqeW.rIq3W86PNkLfbnEhZlOd1fCfHDoHPWq"], ["created_at", "2019-10-16 07:12:42.873360"], ["updated_at", "2019-10-16 07:12:42.873360"], ["jti", "62ee063c-d3bd-4b95-a8a6-a934eed215a6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@cafe_owner.com"], ["encrypted_password", "$2a$04$RV7SZcPr/zOVmj/OrXTtKuGtVAHPHPgiEJhyJOL2gHkmkTagfdxG2"], ["created_at", "2019-10-16 07:12:42.879052"], ["updated_at", "2019-10-16 07:12:42.879052"], ["jti", "51b6a359-e95a-455d-b433-1837cf70a007"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7315.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7315"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "62ee063c-d3bd-4b95-a8a6-a934eed215a6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7315], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7315], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$oNPT5AYPst9Kyg/S/EQ2pesJcaOLNXnPdNF9FlBZWVfvQhozqwsSW"], ["updated_at", "2019-10-16 07:12:42.895745"], ["id", 7315]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7315], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_master.com"], ["encrypted_password", "$2a$04$Wm4N3zNhIYP4ZpsuzgoqTOWz1Nj4zGGmruksqq2LTjZKVhCAs1ouu"], ["created_at", "2019-10-16 07:12:42.905401"], ["updated_at", "2019-10-16 07:12:42.905401"], ["jti", "0968d7ec-3d46-431b-ad20-102670fa8a6a"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@cafe_owner.com"], ["encrypted_password", "$2a$04$CjZfQhirUcSpD2rPYJZp2uYJ0inR7vgAr2wu.Jo96fs.KY1bKcvGS"], ["created_at", "2019-10-16 07:12:42.911296"], ["updated_at", "2019-10-16 07:12:42.911296"], ["jti", "2e71f40b-c939-494d-ab7f-2aaff7dfab31"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7317.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7317"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0968d7ec-3d46-431b-ad20-102670fa8a6a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7317], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7317], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$cuAVnm2tZ0mbBdTnwxg0eOeRbCF54HG0B/HHX2sksJ5U.fp3oUp9i"], ["updated_at", "2019-10-16 07:12:42.925797"], ["id", 7317]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7317], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_master.com"], ["encrypted_password", "$2a$04$HQQY4wKtmBihmhm3FJ8zlexI65fbUpsV6XyMSTBMxR.mLI4GWg2py"], ["created_at", "2019-10-16 07:12:42.936899"], ["updated_at", "2019-10-16 07:12:42.936899"], ["jti", "031e0471-69fa-4dee-9cdd-fc18981a346c"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@cafe_owner.com"], ["encrypted_password", "$2a$04$WGoHwhfruAIPMkw691tJ3usbJIfajY/mWnS3.P3U12uOiBw8LLhra"], ["created_at", "2019-10-16 07:12:42.944615"], ["updated_at", "2019-10-16 07:12:42.944615"], ["jti", "11015006-1e3b-4c1f-9acc-ba6d912b8896"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7319.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7319"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "031e0471-69fa-4dee-9cdd-fc18981a346c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7319], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7319], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$zId9vvkr55L4jLzg1HM78OX0f.aPPzjZGKudPfhck3e7Cq6/jnQHy"], ["updated_at", "2019-10-16 07:12:42.962670"], ["id", 7319]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7319], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_master.com"], ["encrypted_password", "$2a$04$0x5f36X3Na8KHUwsIVxKPezDHZ6FUCbouaRu.ijN/V7jII1hXgAtK"], ["created_at", "2019-10-16 07:12:42.971953"], ["updated_at", "2019-10-16 07:12:42.971953"], ["jti", "ca006515-8702-404b-bd69-f993dfaf160b"], ["role", 0]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@cafe_owner.com"], ["encrypted_password", "$2a$04$LpxxcvDdscRHqRRKfmJ4eOlRz1oQIQZ5vSSiYELTFXSQgUpHJKpza"], ["created_at", "2019-10-16 07:12:42.980191"], ["updated_at", "2019-10-16 07:12:42.980191"], ["jti", "28f2e97a-e03e-4262-9ea7-daccc76f9c71"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7321.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7321"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ca006515-8702-404b-bd69-f993dfaf160b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7321], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7321], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$SpcD5lXPEprj9llPM2Be9O60vyLf8hw.HGN0UnukoRISdLjxg5mS2"], ["updated_at", "2019-10-16 07:12:43.001024"], ["id", 7321]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7321], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_master.com"], ["encrypted_password", "$2a$04$RkQige/YaOVnnjfjUj5ouuP8/U7PDtJADU6y9uhhVPJBsdUUf50N6"], ["created_at", "2019-10-16 07:12:43.013794"], ["updated_at", "2019-10-16 07:12:43.013794"], ["jti", "89d1f9a6-ad70-40a1-be44-29ed6b7fb1c0"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@cafe_owner.com"], ["encrypted_password", "$2a$04$WoQhes5S.dsNJCINeiS3GOhfwYdWrVLd2y/wikdK/9ilH8667I4aC"], ["created_at", "2019-10-16 07:12:43.020659"], ["updated_at", "2019-10-16 07:12:43.020659"], ["jti", "95959933-9e3e-4d62-b442-dc57b9fecec3"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7323.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7323"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "89d1f9a6-ad70-40a1-be44-29ed6b7fb1c0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7323], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7323], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$qiEXKzZJcbvWjZ.k6.P0aunIO/gOQ3B9ZZvl6nFRim1IbYH6Fj3Am"], ["updated_at", "2019-10-16 07:12:43.036885"], ["id", 7323]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7323], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_master.com"], ["encrypted_password", "$2a$04$l4kux7ZClwRT7hpinkuojuAbMx9YVflvIUZsfZoFRx/37U4r79gAS"], ["created_at", "2019-10-16 07:12:43.046785"], ["updated_at", "2019-10-16 07:12:43.046785"], ["jti", "3c2be791-9846-44ba-ad93-cd4af1cef19e"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_expert.com"], ["encrypted_password", "$2a$04$s1Qauuujlx53BTSDMl0FBO6NwW4wa5x/PObgtEYtztHBx4WhDKXOq"], ["created_at", "2019-10-16 07:12:43.051745"], ["updated_at", "2019-10-16 07:12:43.051745"], ["jti", "a9c33fc4-b4a2-4d5d-ab07-6c399f0595dc"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7325.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7325"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3c2be791-9846-44ba-ad93-cd4af1cef19e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7325], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$5fahK4WMGf8fXBoEnPxghuKV3hFjarl4JU/grhxOcexn5ylvWeq8y"], ["updated_at", "2019-10-16 07:12:43.067532"], ["id", 7325]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_master.com"], ["encrypted_password", "$2a$04$UnWUzKNttXuNW3YPaFpRUuj6KbpzAPv5Hupyp9qWoGg23A5fpSjAC"], ["created_at", "2019-10-16 07:12:43.077364"], ["updated_at", "2019-10-16 07:12:43.077364"], ["jti", "6eb91ce3-1d51-44f9-8461-1cb5946508a9"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_expert.com"], ["encrypted_password", "$2a$04$izQoYKIU9CTVXDSSxpyIeeDehQgITAmMdeIOE816bOGcyRWPkfSYm"], ["created_at", "2019-10-16 07:12:43.082619"], ["updated_at", "2019-10-16 07:12:43.082619"], ["jti", "77ceebc4-931f-46fd-b087-6fefb27a42b3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7327.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7327"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6eb91ce3-1d51-44f9-8461-1cb5946508a9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7327], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7327], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$3HcCE9GSZYtHwnld2HVDluQGXv8weNegWDerrogEn7BlrYirFFbRK"], ["updated_at", "2019-10-16 07:12:43.098218"], ["id", 7327]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7327], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_master.com"], ["encrypted_password", "$2a$04$JYVJtEDQNVeL8d9S/h/9JeiKuffJb8KbA82O0lopXr2OaGUR9VUx6"], ["created_at", "2019-10-16 07:12:43.107932"], ["updated_at", "2019-10-16 07:12:43.107932"], ["jti", "bf9ed4e5-fd2b-469b-8489-016349a7629d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_expert.com"], ["encrypted_password", "$2a$04$/ecC5kSFRbGaW3K/jk1GCeAfMR0m0fczX5rfhVZH5SvyrW.J0OGYq"], ["created_at", "2019-10-16 07:12:43.112931"], ["updated_at", "2019-10-16 07:12:43.112931"], ["jti", "28bba218-8a06-4693-b89f-43f8e9bf8368"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7329.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7329"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bf9ed4e5-fd2b-469b-8489-016349a7629d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7329], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7329], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$YbOQc5DDwpPh8PWXKa3SceFdxxRH/UR8zqP.Np96/LcrLOgUfHqkq"], ["updated_at", "2019-10-16 07:12:43.135303"], ["id", 7329]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7329], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_master.com"], ["encrypted_password", "$2a$04$uNXsvY2JdA/B61xuuRa33ufZqcIFnojxdLUc0ZM2ztEN2Oco0T8sm"], ["created_at", "2019-10-16 07:12:43.143950"], ["updated_at", "2019-10-16 07:12:43.143950"], ["jti", "06dca111-654b-49c6-ad03-d6f95c3fe6a5"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_expert.com"], ["encrypted_password", "$2a$04$BmFk/TUL0PBQ0ppf1SCiq.ow2i5oQkZYl1imqz5VggLwFCQuRGjoO"], ["created_at", "2019-10-16 07:12:43.150600"], ["updated_at", "2019-10-16 07:12:43.150600"], ["jti", "091a3c00-75fe-4e6d-bc7c-a90dfbc76556"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7331.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7331"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "06dca111-654b-49c6-ad03-d6f95c3fe6a5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7331], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7331], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$BizPVEjSMAX6gcy8Vw8Neeo3J1W5GnVrrIeWV2zCnZAsRNJXO1BWi"], ["updated_at", "2019-10-16 07:12:43.166378"], ["id", 7331]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7331], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_master.com"], ["encrypted_password", "$2a$04$79VLudo8gC709ZlhtXFE5ejsBG5wZUkU5lerv7nuF1H82vtIVbtsq"], ["created_at", "2019-10-16 07:12:43.177102"], ["updated_at", "2019-10-16 07:12:43.177102"], ["jti", "b549b0e5-9dc0-42eb-891a-90f09f8f5f8a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_expert.com"], ["encrypted_password", "$2a$04$muM4py0yalrBo3Wd5nvuueXAnIZMy5VV7nBayOM4P7fJ0D9RrcCRO"], ["created_at", "2019-10-16 07:12:43.184062"], ["updated_at", "2019-10-16 07:12:43.184062"], ["jti", "61e6a987-b978-48a5-a151-7cbe646ad0c7"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7333.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7333"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b549b0e5-9dc0-42eb-891a-90f09f8f5f8a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7333], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7333], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Y..aj0rQrY.YwYyWEv9nsOLR7YGK6uQ1.X88GWqlwPv4AoLj2uabm"], ["updated_at", "2019-10-16 07:12:43.203953"], ["id", 7333]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7333], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_master.com"], ["encrypted_password", "$2a$04$bi3L.Fffnw8cJ4ArcO/W7Ot99Yxvy1cGYx8aTR2FEnlKLIMohSa1S"], ["created_at", "2019-10-16 07:12:43.215325"], ["updated_at", "2019-10-16 07:12:43.215325"], ["jti", "267187c3-4423-47ac-882c-67ec9df67517"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_admin.com"], ["encrypted_password", "$2a$04$AYmCQ81PrAS5dBV0xVCpne7JSOBEFFmxc6KRxfXrivYbJrO421iLS"], ["created_at", "2019-10-16 07:12:43.222189"], ["updated_at", "2019-10-16 07:12:43.222189"], ["jti", "a8844ed1-eb8b-4844-a1cb-cc8bbd14bfa4"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7335.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7335"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "267187c3-4423-47ac-882c-67ec9df67517"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7335], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7335], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$3SwO0oFRF/WHqNjDHh7lS.C2lF7XnTID8/ualQZxV3sWgpS7SKVo."], ["updated_at", "2019-10-16 07:12:43.238016"], ["id", 7335]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7335], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_master.com"], ["encrypted_password", "$2a$04$3rLMwWlrEi76B8eHZaIYnOEiBJr/t/INsJpDAIQ1DXK/P0AZOcSrC"], ["created_at", "2019-10-16 07:12:43.250060"], ["updated_at", "2019-10-16 07:12:43.250060"], ["jti", "04f8303a-d959-408f-9c27-6b7cc0b0f3bc"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_admin.com"], ["encrypted_password", "$2a$04$/KX9WKmOQrajHpE1rhEzy.RIagaGlEga3w0JJE2a4wy3Ysba1DYWe"], ["created_at", "2019-10-16 07:12:43.258409"], ["updated_at", "2019-10-16 07:12:43.258409"], ["jti", "b9e4c0e1-bba3-4cb0-9b8a-c455415f1dc2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7337.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7337"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "04f8303a-d959-408f-9c27-6b7cc0b0f3bc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7337], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7337], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$T4tOt9Z5vyNbLAJyWrO0xOOl7IH3ATmsXw1L/pMZo/oo00pc8GQPa"], ["updated_at", "2019-10-16 07:12:43.274906"], ["id", 7337]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7337], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_master.com"], ["encrypted_password", "$2a$04$orbxJDCw7tzKNVChcIAspOyrj3gn0dZVDk2iJDa3WqQdbM7kaO3oO"], ["created_at", "2019-10-16 07:12:43.285084"], ["updated_at", "2019-10-16 07:12:43.285084"], ["jti", "992f9259-ccbe-43ec-9168-2ddeea5d695b"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_admin.com"], ["encrypted_password", "$2a$04$jSd/eUs0g35BUI1wC7yy6eMML0/.I.ok1E58MvusMjRz0cX.BK4FC"], ["created_at", "2019-10-16 07:12:43.291785"], ["updated_at", "2019-10-16 07:12:43.291785"], ["jti", "6c02998c-9076-4d3f-a0eb-879547ac4b7b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7339.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7339"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "992f9259-ccbe-43ec-9168-2ddeea5d695b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7339], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7339], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$vAuBzfXtmim/fJ6N5mgmRO67CwQgVk0bP3.mMWJK54gZeaMRABnvq"], ["updated_at", "2019-10-16 07:12:43.306900"], ["id", 7339]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7339], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_master.com"], ["encrypted_password", "$2a$04$xM3TaWqwUUnQWwk25XJr8OmwX0Squ1p24stSD2Q9dKsNn8zUa69gm"], ["created_at", "2019-10-16 07:12:43.315650"], ["updated_at", "2019-10-16 07:12:43.315650"], ["jti", "5853ef5f-1f84-418e-9a97-e10e3de2f086"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_admin.com"], ["encrypted_password", "$2a$04$nnnsHDqgVw9jjLxLPYUQyOKMky9.qFamdeSUja5KiPSnwSOBpcJje"], ["created_at", "2019-10-16 07:12:43.321697"], ["updated_at", "2019-10-16 07:12:43.321697"], ["jti", "8a67ad4c-45ee-4d51-af34-3aa81336013b"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7341.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7341"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5853ef5f-1f84-418e-9a97-e10e3de2f086"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7341], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7341], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$gANruZzju94r2qMc1BSGv.3dxw.ZkkCEg.KtZqNEI6AfbpoI.Jcxy"], ["updated_at", "2019-10-16 07:12:43.337283"], ["id", 7341]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7341], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_master.com"], ["encrypted_password", "$2a$04$WE2TiKLqCQqVtsoYgmG94u4fKlun1D9fotNSfEO5xU5.nG2Lq9n3S"], ["created_at", "2019-10-16 07:12:43.347625"], ["updated_at", "2019-10-16 07:12:43.347625"], ["jti", "152b50ac-4867-4ca1-889c-cc2135286c0e"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_admin.com"], ["encrypted_password", "$2a$04$Ck1D5BPiCX.CVP9jA/DvO.zJerwRqzyp8tP.VWK0NCQLjRFqkmzkS"], ["created_at", "2019-10-16 07:12:43.353803"], ["updated_at", "2019-10-16 07:12:43.353803"], ["jti", "696ac566-21df-4244-bea6-e7f0d401ec2c"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7343.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7343"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "152b50ac-4867-4ca1-889c-cc2135286c0e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7343], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7343], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$T/T2oeCBN8krI9olqTqoouW27a8gsLM8hH57SBbGWKNWmhVsDncxy"], ["updated_at", "2019-10-16 07:12:43.370479"], ["id", 7343]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7343], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_master.com"], ["encrypted_password", "$2a$04$O.wFUO0UwbMf4Ib4SRTrjuOvKK4dpeRg67tWEL22hRC1Ni5ePx4Sm"], ["created_at", "2019-10-16 07:12:43.379853"], ["updated_at", "2019-10-16 07:12:43.379853"], ["jti", "7ebb86fd-6a25-4d2a-92de-0dbceaa6bf58"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_master.com"], ["encrypted_password", "$2a$04$rk4psTGoIQpZrw2rfOdcLe7U1d0vBwr.DhM4wxpEXTxKNfwX.0NSy"], ["created_at", "2019-10-16 07:12:43.384934"], ["updated_at", "2019-10-16 07:12:43.384934"], ["jti", "97c7e908-e745-43e6-8681-366f55d7134f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7345.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7345"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7ebb86fd-6a25-4d2a-92de-0dbceaa6bf58"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7345], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7345], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_master.com"], ["encrypted_password", "$2a$04$wk3wme1YsNkz0bkk0oNTwePyOcBc3h7VqLzOkAArmRsyjFuiuXJM2"], ["created_at", "2019-10-16 07:12:43.402384"], ["updated_at", "2019-10-16 07:12:43.402384"], ["jti", "b375c84a-0019-44f3-ba58-abfbda6ca8c7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7346.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7346"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b375c84a-0019-44f3-ba58-abfbda6ca8c7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7346], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.415846"], ["updated_at", "2019-10-16 07:12:43.416409"], ["id", 7346]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.2ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_master.com"], ["encrypted_password", "$2a$04$HSU3DJSHBq.Mn8BW.9bkH.A5Dir5ghnKcX9/hkiZwF3pUftnefZyy"], ["created_at", "2019-10-16 07:12:43.430769"], ["updated_at", "2019-10-16 07:12:43.430769"], ["jti", "2afc3fe8-d568-4867-a42e-284181ab7b5a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@player.com"], ["encrypted_password", "$2a$04$O50CJM5KSwy4QL4edkTrhup9Ncqkr.cxUCdeDYABYhtTieTbUL1Gy"], ["created_at", "2019-10-16 07:12:43.444048"], ["updated_at", "2019-10-16 07:12:43.444048"], ["jti", "9904932f-fbd0-40eb-ad62-834ca32fee99"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7348.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7348"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2afc3fe8-d568-4867-a42e-284181ab7b5a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7348], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.456858"], ["updated_at", "2019-10-16 07:12:43.457631"], ["id", 7348]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 2.2ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_master.com"], ["encrypted_password", "$2a$04$V6TCGu7Sde3NWpJy4nhrD.Lcif9OU1tSU4hGS51xMEL/bRjSq3PEC"], ["created_at", "2019-10-16 07:12:43.471005"], ["updated_at", "2019-10-16 07:12:43.471005"], ["jti", "cfe96c6a-0430-4841-a641-e68a4cea4067"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@cafe_owner.com"], ["encrypted_password", "$2a$04$fT92UM7o4j55e9wCQ2fXrOl3S.Jr6v7kl164RdUeFT9oK.wUqwiHe"], ["created_at", "2019-10-16 07:12:43.476649"], ["updated_at", "2019-10-16 07:12:43.476649"], ["jti", "d84c93f7-7825-4162-abc4-8c58e136d021"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7350.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7350"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cfe96c6a-0430-4841-a641-e68a4cea4067"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7350], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.486495"], ["updated_at", "2019-10-16 07:12:43.486946"], ["id", 7350]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 1.3ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_master.com"], ["encrypted_password", "$2a$04$O3tQL9OyeRQh3CoFINXm..guaa/fZ2fzQXhQuL9xoORbwNIPW4g0C"], ["created_at", "2019-10-16 07:12:43.501917"], ["updated_at", "2019-10-16 07:12:43.501917"], ["jti", "c002881e-52c9-49e8-ae59-ce7ccfb56301"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_expert.com"], ["encrypted_password", "$2a$04$uJU.vsMoluT0uToUuZLf1ua8lpoGVFElS8BDGjBYejuXafiD8z.Bq"], ["created_at", "2019-10-16 07:12:43.507886"], ["updated_at", "2019-10-16 07:12:43.507886"], ["jti", "4a0a2e4f-d94f-41b5-8b5e-c3b224a0c933"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7352.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7352"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c002881e-52c9-49e8-ae59-ce7ccfb56301"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7352], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.519917"], ["updated_at", "2019-10-16 07:12:43.520550"], ["id", 7352]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 1.4ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_master.com"], ["encrypted_password", "$2a$04$vmg56ARkjLuxauItwaksCOdgR073JWRcCMFwrwEHpe608GS74xRim"], ["created_at", "2019-10-16 07:12:43.535517"], ["updated_at", "2019-10-16 07:12:43.535517"], ["jti", "e5602709-46f6-4b75-bd19-5a621ed4d281"], ["role", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_admin.com"], ["encrypted_password", "$2a$04$3Z0500U006suX2MeRjW6JexkN5VoapPs9ujSb0iavGMxy13qcEw6q"], ["created_at", "2019-10-16 07:12:43.541371"], ["updated_at", "2019-10-16 07:12:43.541371"], ["jti", "52847398-2a61-4b83-afb5-41ab523ac79b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7354.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7354"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e5602709-46f6-4b75-bd19-5a621ed4d281"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7354], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.552829"], ["updated_at", "2019-10-16 07:12:43.553304"], ["id", 7354]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 2.0ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_master.com"], ["encrypted_password", "$2a$04$BrW5nwX0zkJEY/dafbncyOwYO4JCbk0E5Lmof3TmHZ3R1uytIYYVW"], ["created_at", "2019-10-16 07:12:43.571345"], ["updated_at", "2019-10-16 07:12:43.571345"], ["jti", "aa39be89-efda-410c-a1b2-78f58494e3d2"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_master.com"], ["encrypted_password", "$2a$04$1XUk4irkI0sidM.WzAUAKutE8SY5AUpF7a/gT5eJ9fP8by0bjDs0O"], ["created_at", "2019-10-16 07:12:43.576790"], ["updated_at", "2019-10-16 07:12:43.576790"], ["jti", "685e8819-85bd-44ef-985f-c248bc26c9c7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7356.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7356"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "aa39be89-efda-410c-a1b2-78f58494e3d2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7356], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>""}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 355ms (Views: 0.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$TFaNf2iLRbrGGjGPHsx27uQ/jXa435S7FIq/LaIirsDU0VZC1Uz8i"], ["created_at", "2019-10-16 07:12:43.982999"], ["updated_at", "2019-10-16 07:12:43.982999"], ["jti", "b6e50d13-5c83-494c-bcd9-e763fee68a07"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$PyCuCGFGymRvrfJrUPEV7uBnokczvQ9WYbtqPbepe2gVnTXj9N1vq"], ["created_at", "2019-10-16 07:12:43.998378"], ["updated_at", "2019-10-16 07:12:43.998378"], ["jti", "47bfc732-760d-48fb-bafa-1c97ad5b6b31"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$DWVqZQ87BFYBDfOWQOL53eRPj00Jwg46ES6CAdq6xpcOnrS0gUV2a"], ["created_at", "2019-10-16 07:12:44.012078"], ["updated_at", "2019-10-16 07:12:44.012078"], ["jti", "b723a37f-3436-4ff7-baa1-f219b2100724"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$EuBF8dmSBE.DkEmjtR7YfupEq6r5FKbFbBZO6GtJug7oqxx4iEoHy"], ["created_at", "2019-10-16 07:12:44.026263"], ["updated_at", "2019-10-16 07:12:44.026263"], ["jti", "5c8c2491-1962-40f0-9c20-3e8cb55b5000"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$9cTvlUw/t8ie2pKHtsA79eXXwpNBr41EZMj132Jm/sehvAhvLm6si"], ["created_at", "2019-10-16 07:12:44.041036"], ["updated_at", "2019-10-16 07:12:44.041036"], ["jti", "5dc404ed-e494-4ce9-b330-13786f07de3b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@player.com"], ["encrypted_password", "$2a$04$MMIBPE/mzf5uYUFIosmDNOtxrI67ySrvttVYkpiOYMKj/o4HJJqvi"], ["created_at", "2019-10-16 07:12:44.049722"], ["updated_at", "2019-10-16 07:12:44.049722"], ["jti", "da1dd5ae-866c-48c1-9e73-f4717a1a7169"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7362.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7362"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@player.com"], ["encrypted_password", "$2a$04$B6HT9UDbxrPvNBcW.zlIRujIvuxBREDwGu.Zp9B95DUc8uZONu5Wa"], ["created_at", "2019-10-16 07:12:44.064218"], ["updated_at", "2019-10-16 07:12:44.064218"], ["jti", "6d2a573b-45cb-45b5-8ce0-822fac710ce6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7363.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7363"}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@player.com"], ["encrypted_password", "$2a$04$.fIU/TMJTBP11JIpiTwmrubHmj6JlIh6DN8ZTJzB3xaHrgwSlfFqO"], ["created_at", "2019-10-16 07:12:44.079243"], ["updated_at", "2019-10-16 07:12:44.079243"], ["jti", "09544cb7-a4dd-4a13-8277-c6b709a28ac2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7364.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"id"=>"7364"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09544cb7-a4dd-4a13-8277-c6b709a28ac2"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@player.com"], ["encrypted_password", "$2a$04$e2TMxXcVzd.uk0ynWyR1Q.1YyzZoxT1SDkY4w2ZTdkzZYnpmRa2RO"], ["created_at", "2019-10-16 07:12:44.097630"], ["updated_at", "2019-10-16 07:12:44.097630"], ["jti", "09927146-53bb-40e1-a2e8-080cd2d021cf"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7365.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"id"=>"7365"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09927146-53bb-40e1-a2e8-080cd2d021cf"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@player.com"], ["encrypted_password", "$2a$04$IW2KzqyQIpGLNzpueAC0JuG9Q9r1PxJfTp87lHVFkFglFNx2Uk/4S"], ["created_at", "2019-10-16 07:12:44.114634"], ["updated_at", "2019-10-16 07:12:44.114634"], ["jti", "e9b46051-a940-4ed5-8b4b-fea5249041c1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7366.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>""}, "id"=>"7366"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e9b46051-a940-4ed5-8b4b-fea5249041c1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@player.com"], ["encrypted_password", "$2a$04$CdaMP.Syt/bnLX22gAsaFOsAfcQC0boQ5/gLc5uHP/9m7IQICtbX2"], ["created_at", "2019-10-16 07:12:44.133582"], ["updated_at", "2019-10-16 07:12:44.133582"], ["jti", "c7c3c6a9-a65c-4f96-b318-b61f6f6b9d88"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7367.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "id"=>"7367"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c7c3c6a9-a65c-4f96-b318-b61f6f6b9d88"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@player.com"], ["encrypted_password", "$2a$04$Us8lv9VHmhFGulfykU0Dq.oYPTbrS3FSH7ywulcW7vwA6TvPCVZP."], ["created_at", "2019-10-16 07:12:44.151658"], ["updated_at", "2019-10-16 07:12:44.151658"], ["jti", "79b3452d-be56-4d48-97e5-907fe9dd1374"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7368.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}, "id"=>"7368"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "79b3452d-be56-4d48-97e5-907fe9dd1374"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7368], ["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "invalid"], ["id", 7368], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@player.com"], ["encrypted_password", "$2a$04$kUCuwnlxMNujHzFQIlCTL.zWbVNvpd502rIJ3fVMvsktb44oTjlvu"], ["created_at", "2019-10-16 07:12:44.173425"], ["updated_at", "2019-10-16 07:12:44.173425"], ["jti", "b89383a5-888d-4023-a70f-95b509d1c201"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7369.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}, "id"=>"7369"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b89383a5-888d-4023-a70f-95b509d1c201"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7369], ["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "test@test"], ["id", 7369], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@player.com"], ["encrypted_password", "$2a$04$gpTnjxSj4Rsw5UA2nOb.yuSqIeooHNxRCSxE0ttrBliy82Hzd2T1C"], ["created_at", "2019-10-16 07:12:44.197514"], ["updated_at", "2019-10-16 07:12:44.197514"], ["jti", "b6e48e76-6f9a-431d-a9ea-397301f351f1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7370.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7370"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@player.com"], ["encrypted_password", "$2a$04$Twcqu06x2UV8lS.GyiQlE.QcoRlNgjfmGeH93cn2D0vgmqWjRzt3O"], ["created_at", "2019-10-16 07:12:44.211744"], ["updated_at", "2019-10-16 07:12:44.211744"], ["jti", "24535234-c962-4961-8fc9-99ad8883993d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7371.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7371"}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@player.com"], ["encrypted_password", "$2a$04$gff5hNg2VF02qRJkWDI3L.qbzXkLtaNEQj1L88pLPmTQqabgdUwkO"], ["created_at", "2019-10-16 07:12:44.227094"], ["updated_at", "2019-10-16 07:12:44.227094"], ["jti", "badd5e90-d8b6-4610-8be4-1aa3a5ceb4a4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#profile as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "badd5e90-d8b6-4610-8be4-1aa3a5ceb4a4"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@player.com"], ["encrypted_password", "$2a$04$0FnS2TVvPDgxRuBtH32wI.jwCbn0SFXuYDkxt1eZP8vD73.UuNCDS"], ["created_at", "2019-10-16 07:12:44.245576"], ["updated_at", "2019-10-16 07:12:44.245576"], ["jti", "feec7164-73b4-4fa0-ad14-0a9858110831"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@player.com"], ["encrypted_password", "$2a$04$9HYNrpgDRAanWmyIT1T8X.z4dwemEUjjrAuzYpMPnafvDFYPtcUke"], ["created_at", "2019-10-16 07:12:44.277263"], ["updated_at", "2019-10-16 07:12:44.277263"], ["jti", "52ef017d-19e8-4dac-ada2-77be2d37ad9d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$h7u2LZVs5ujXmKYqz.MrAudC0Gdgp18ha3TcZSmtevcF/pYqtBpPe"], ["created_at", "2019-10-16 07:12:44.312525"], ["updated_at", "2019-10-16 07:12:44.312525"], ["jti", "cf2ab0b6-3853-4fdd-b868-0f8708c52b1f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$my3skUhX9WPQtO2AVuhWLeYAtYkIl/Z49fm7TP41Ei1sMej482CMq"], ["created_at", "2019-10-21 11:18:23.409346"], ["updated_at", "2019-10-21 11:18:23.409346"], ["jti", "a813c6ab-4332-4474-8f95-9215fedec0af"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil", "owner_id"=>"nil"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$jFfJiUpw./g39EJD0grK3OtuKnlsYwS261Mqp/sgF.d6NM6S/riuS"], ["created_at", "2019-10-21 11:18:23.428300"], ["updated_at", "2019-10-21 11:18:23.428300"], ["jti", "d5c8f26f-b2ae-45c9-93bf-309f1f2a08b5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.7ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil", "owner_id"=>"nil"}}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$/hDO72Bn4ks2qNeVhRraveKlikQCtgu3yP2a34fpe1vP8E2nS2ZlG"], ["created_at", "2019-10-21 11:18:23.450800"], ["updated_at", "2019-10-21 11:18:23.450800"], ["jti", "6ef114f8-a6a7-430b-9a2d-3c6f5074081d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ef114f8-a6a7-430b-9a2d-3c6f5074081d"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$4/e3b92t6KlsSRYTean4N.bzJQ9kyvYvB5KmWQ369Trv9PA5fSzP."], ["created_at", "2019-10-21 11:18:23.471369"], ["updated_at", "2019-10-21 11:18:23.471369"], ["jti", "6fb7f2ce-a176-48b4-a372-58e5e6c89bab"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6fb7f2ce-a176-48b4-a372-58e5e6c89bab"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@player.com"], ["encrypted_password", "$2a$04$kfXzmA0RbP64MjAqwWArHOI/FEiHRFJThQ.aJa7cyyJDSN0ccWDZ2"], ["created_at", "2019-10-21 11:18:23.488512"], ["updated_at", "2019-10-21 11:18:23.488512"], ["jti", "ade6d191-1f44-4e80-b7d8-c815ace5ed0e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test5@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test5@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ade6d191-1f44-4e80-b7d8-c815ace5ed0e"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@player.com"], ["encrypted_password", "$2a$04$O7L2YNMKIObnkUJeSIOr6efhUSYcE8WulcyDVYvU34YkED15wE6JW"], ["created_at", "2019-10-21 11:18:23.507526"], ["updated_at", "2019-10-21 11:18:23.507526"], ["jti", "f0155751-747f-4b6c-9a34-3a7eaed360f3"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f0155751-747f-4b6c-9a34-3a7eaed360f3"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@player.com"], ["encrypted_password", "$2a$04$A1fQGGBp8UEQxvnklTFQJOUJibideDq0Ol/d6l961OEn.zRiM2Ja2"], ["created_at", "2019-10-21 11:18:23.525091"], ["updated_at", "2019-10-21 11:18:23.525091"], ["jti", "da9f7ce9-c0e5-45e5-a136-598577b30d3e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$riC7Om1TIwKScBVnaNdYbux6JdwtBhorzFRT9CLUiJLT8UNddbkXK"], ["created_at", "2019-10-21 11:18:23.545759"], ["updated_at", "2019-10-21 11:18:23.545759"], ["jti", "0bc43350-17c4-4e6e-a664-74cef742f9a0"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$mhHwVw.h6ynj4Q.DPHYF2euFkGUAoC.9oX24GjUXsMQ5DEOUEJv02"], ["created_at", "2019-10-21 11:18:23.555035"], ["updated_at", "2019-10-21 11:18:23.555035"], ["jti", "9e4ac842-8572-4f57-83cf-38c8de4cfe21"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$t42LhnNmq1TiqprqgMwqV.5rkJZ2d5RdR4nkOa7.lMIoUHQ97ngre"], ["created_at", "2019-10-21 11:18:23.561758"], ["updated_at", "2019-10-21 11:18:23.561758"], ["jti", "e2a8ad75-c7a3-4c1f-9ddc-db00f87e6fd3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10104], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.1ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 10104], ["creator_id", 10106], ["created_at", "2019-10-21 11:18:23.571015"], ["updated_at", "2019-10-21 11:18:23.571015"], ["maintainer_id", 10105]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/544" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"544"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@player.com"], ["encrypted_password", "$2a$04$eBeKbRmJmuTD8HXLnyEFduvI9s0XI2/cckPF/TMLn4WZ5ThurRZve"], ["created_at", "2019-10-21 11:18:23.581874"], ["updated_at", "2019-10-21 11:18:23.581874"], ["jti", "4cc74d0e-e858-4674-96d0-6d6d5c250b30"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@coffee_owner.com"], ["encrypted_password", "$2a$04$zEtVc0cwBlxePIAFa1Dt1O37uDE0HP58j9bpftcg1kYlI7aWHzKgC"], ["created_at", "2019-10-21 11:18:23.588731"], ["updated_at", "2019-10-21 11:18:23.588731"], ["jti", "a7464c2e-e914-4fe2-bde9-9a907670eec2"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_expert.com"], ["encrypted_password", "$2a$04$MztJU5saFW.6YLoiFmXPruzsQDjJD6TPKqwGfdPaKHlJ8RwY4a5iK"], ["created_at", "2019-10-21 11:18:23.594614"], ["updated_at", "2019-10-21 11:18:23.594614"], ["jti", "d9dfbd76-08cc-4e56-9ea2-6df225df8c1a"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_admin.com"], ["encrypted_password", "$2a$04$W2gBQieVUSWzCN6WMvDLNOJnjxOV9MWYgErzfSfF.sCrCGUFN/YB2"], ["created_at", "2019-10-21 11:18:23.599817"], ["updated_at", "2019-10-21 11:18:23.599817"], ["jti", "89a9b8ec-ba1c-499b-a811-02c25b7cac9a"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName2"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10108], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName2"], ["address", "CoffeeShopAddress2"], ["owner_id", 10108], ["creator_id", 10110], ["created_at", "2019-10-21 11:18:23.605956"], ["updated_at", "2019-10-21 11:18:23.605956"], ["maintainer_id", 10109]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
Started PUT "/api/coffee_shops/545" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"545"}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@player.com"], ["encrypted_password", "$2a$04$LhrSzLWaRkQ5BYCn39wtDuMz0uh2YNKEzoy79CcTgBD7ASm/PrAuu"], ["created_at", "2019-10-21 11:18:23.643716"], ["updated_at", "2019-10-21 11:18:23.643716"], ["jti", "91e902ec-5e59-4d7f-bfae-8b2a71195db5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@coffee_owner.com"], ["encrypted_password", "$2a$04$HF6APEBSioxHpNgvmJRwo.mjrOaC4y4koX9Ia249B4k5Cf3OAB.hm"], ["created_at", "2019-10-21 11:18:23.654873"], ["updated_at", "2019-10-21 11:18:23.654873"], ["jti", "c49aef48-a185-4d78-8848-b7b5f94a2cd9"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$oKMzfdb/dFvZeFiEIWxL/eQsNBh.cGxEHGyZ.DdwNUMXi70OOU9VG"], ["created_at", "2019-10-21 11:18:23.659597"], ["updated_at", "2019-10-21 11:18:23.659597"], ["jti", "26260ec7-6307-45de-ad0c-3fb8bc1b8b49"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_admin.com"], ["encrypted_password", "$2a$04$i24tUyX28xrx/vSsoz9xA.p7PX6Pw83xi6ZN4W/ahVwkpB8chP9lG"], ["created_at", "2019-10-21 11:18:23.664386"], ["updated_at", "2019-10-21 11:18:23.664386"], ["jti", "48a878b9-802e-481f-a772-794ab4442d23"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName3"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10112], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName3"], ["address", "CoffeeShopAddress3"], ["owner_id", 10112], ["creator_id", 10114], ["created_at", "2019-10-21 11:18:23.669346"], ["updated_at", "2019-10-21 11:18:23.669346"], ["maintainer_id", 10113]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/546" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"id"=>"546"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "91e902ec-5e59-4d7f-bfae-8b2a71195db5"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@player.com"], ["encrypted_password", "$2a$04$IWdeWDIYluk5Qsn5swo40elI6i4a5vJzMD4y..sqiXq3Wy.b24qxm"], ["created_at", "2019-10-21 11:18:23.685703"], ["updated_at", "2019-10-21 11:18:23.685703"], ["jti", "12229240-750e-49e6-869e-365e14a1d36d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@coffee_owner.com"], ["encrypted_password", "$2a$04$cHLH6WGmun62aOi3NsoMR.6hbuLpwa/371xqPEN5UxIUWWJbP4ZFq"], ["created_at", "2019-10-21 11:18:23.701579"], ["updated_at", "2019-10-21 11:18:23.701579"], ["jti", "9f13d306-8990-400c-bc98-459e5dbbcd92"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_expert.com"], ["encrypted_password", "$2a$04$14OLjQho9lWJcvO9e5VkV.yFrjnA8lzBQuXhG6htmf02N0mknoo1C"], ["created_at", "2019-10-21 11:18:23.707127"], ["updated_at", "2019-10-21 11:18:23.707127"], ["jti", "94223839-2b46-4385-9fdd-2237b163c32f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$4RWfWEQVuNwqMK1itxniqufYXNXjLLTAfsjt0edJvE/MGQ88rgkZ."], ["created_at", "2019-10-21 11:18:23.712623"], ["updated_at", "2019-10-21 11:18:23.712623"], ["jti", "22a79212-fa8c-441c-ba92-074a508bcd75"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10116], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName4"], ["address", "CoffeeShopAddress4"], ["owner_id", 10116], ["creator_id", 10118], ["created_at", "2019-10-21 11:18:23.717728"], ["updated_at", "2019-10-21 11:18:23.717728"], ["maintainer_id", 10117]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/547" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"test"=>"test"}, "id"=>"547"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "12229240-750e-49e6-869e-365e14a1d36d"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@player.com"], ["encrypted_password", "$2a$04$KHIkNSieAsG5rUo53O.RheO2SBAHl5e4jYtL2JLCNpgiQkAYIL9iu"], ["created_at", "2019-10-21 11:18:23.727909"], ["updated_at", "2019-10-21 11:18:23.727909"], ["jti", "9d313ea4-b7b1-4d4d-b77b-9f5c69480b27"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@coffee_owner.com"], ["encrypted_password", "$2a$04$II5HkFoGPdys7FvhnxO9muJUWtLAZ2BP64RyZagEJUV8NUCzwRw7e"], ["created_at", "2019-10-21 11:18:23.741691"], ["updated_at", "2019-10-21 11:18:23.741691"], ["jti", "19e863e7-60d5-4de8-aa7f-6d5e2385b64c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$kEKWyzR/1vun.ov8EJ2JOOKGsF4sMFWxTp9fZAr8M7kW7SFWbxPCu"], ["created_at", "2019-10-21 11:18:23.748083"], ["updated_at", "2019-10-21 11:18:23.748083"], ["jti", "1f844761-59a1-46e3-9013-dd9e0a8c9824"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_admin.com"], ["encrypted_password", "$2a$04$iae.fklz8LD0B5vC/4cIBe9v3IJPhCqAU93HDJcdAlm0OnCxsOQU6"], ["created_at", "2019-10-21 11:18:23.753414"], ["updated_at", "2019-10-21 11:18:23.753414"], ["jti", "9f777dfc-e53e-41f4-97da-ea134c668798"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10120], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName5"], ["address", "CoffeeShopAddress5"], ["owner_id", 10120], ["creator_id", 10122], ["created_at", "2019-10-21 11:18:23.758009"], ["updated_at", "2019-10-21 11:18:23.758009"], ["maintainer_id", 10121]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/548" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil"}, "id"=>"548"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9d313ea4-b7b1-4d4d-b77b-9f5c69480b27"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@player.com"], ["encrypted_password", "$2a$04$X9IswlJkYBZQ1.C.HNj5bemHYg2qVL1.gD7zAPNTBQAwBNkWMfI1y"], ["created_at", "2019-10-21 11:18:23.769908"], ["updated_at", "2019-10-21 11:18:23.769908"], ["jti", "fe4e69f0-d7a9-4ad2-bd1a-86319bce9f49"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@coffee_owner.com"], ["encrypted_password", "$2a$04$uvqId7n3UrrCdt8sRPimr.0XvTgBk1n8lTiOwPRpIjul.i2LFzq/a"], ["created_at", "2019-10-21 11:18:23.782062"], ["updated_at", "2019-10-21 11:18:23.782062"], ["jti", "53289fe0-360b-4185-b175-7b8c420d3703"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_expert.com"], ["encrypted_password", "$2a$04$mVYg4iIkZWoLbtMkdknFAuxzm4KbWfwp0hmf.pxqhbQDwzG1SrHnS"], ["created_at", "2019-10-21 11:18:23.787898"], ["updated_at", "2019-10-21 11:18:23.787898"], ["jti", "de97df65-8a5f-4a75-b208-874ea5d5fecb"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$ABOLGwaFYTeHTZoapjOHQ.IWae91V.3JSIZavh91MTUnVDOoQvxoW"], ["created_at", "2019-10-21 11:18:23.793591"], ["updated_at", "2019-10-21 11:18:23.793591"], ["jti", "62b0e6a0-780d-424b-a5ed-a556cd3c6286"], ["role", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10124], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName6"], ["address", "CoffeeShopAddress6"], ["owner_id", 10124], ["creator_id", 10126], ["created_at", "2019-10-21 11:18:23.800275"], ["updated_at", "2019-10-21 11:18:23.800275"], ["maintainer_id", 10125]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/549" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil"}, "id"=>"549"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fe4e69f0-d7a9-4ad2-bd1a-86319bce9f49"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@player.com"], ["encrypted_password", "$2a$04$9CpCGaDTjwpk0bpgdUL9cOcVp.n7qApf0hHxjLzjUFi3eTDE6ROCW"], ["created_at", "2019-10-21 11:18:23.813190"], ["updated_at", "2019-10-21 11:18:23.813190"], ["jti", "51d3e21b-0a60-4469-9397-dc99d0ca2cc2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@coffee_owner.com"], ["encrypted_password", "$2a$04$S1CuP6ygdn.dlazCBai8ju09dHTYHXXCCIpZdR826vak9kG6iOaES"], ["created_at", "2019-10-21 11:18:23.819311"], ["updated_at", "2019-10-21 11:18:23.819311"], ["jti", "b3c81fb4-c2a5-4fce-b8e5-80ea440e891f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$0RrIfUm6L7KV2HjWUGuCVe2bF4pkF5o39Ta7NeYWpfFsQIombA2nm"], ["created_at", "2019-10-21 11:18:23.824686"], ["updated_at", "2019-10-21 11:18:23.824686"], ["jti", "675713a3-08f5-43d3-8876-5258447a86d8"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$zhZkOy7.FFaXAG7kiqFCKegdDEu4LSgEb9FOlC8Fqapo0kXdt4tKK"], ["created_at", "2019-10-21 11:18:23.830545"], ["updated_at", "2019-10-21 11:18:23.830545"], ["jti", "0f7f2382-d1a8-4c5a-8be7-248c7be6af28"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName7"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10128], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName7"], ["address", "CoffeeShopAddress7"], ["owner_id", 10128], ["creator_id", 10130], ["created_at", "2019-10-21 11:18:23.835808"], ["updated_at", "2019-10-21 11:18:23.835808"], ["maintainer_id", 10129]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/550" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"550"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@player.com"], ["encrypted_password", "$2a$04$gpC4gd02PfOhLjcZbRzJouLMRfXl6Mj9aCpp6i1.st4HeWGwGueNi"], ["created_at", "2019-10-21 11:18:23.845457"], ["updated_at", "2019-10-21 11:18:23.845457"], ["jti", "c65b1710-cca4-4a37-8406-8f2f1497404d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@coffee_owner.com"], ["encrypted_password", "$2a$04$/LVF9j9lrkG2TMPSid7VWuor7oPQT03DnYJ.s5YRuTYULBy/VhHBi"], ["created_at", "2019-10-21 11:18:23.850706"], ["updated_at", "2019-10-21 11:18:23.850706"], ["jti", "c040f7fa-280c-4e29-a56d-b6cb16e506bd"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_expert.com"], ["encrypted_password", "$2a$04$bCi323DE6kDvi2q5uYcWZukBMIIcgi8EqJp9LLKRxXz3aseD9HPWy"], ["created_at", "2019-10-21 11:18:23.856055"], ["updated_at", "2019-10-21 11:18:23.856055"], ["jti", "7f71d3d3-df13-4e27-9c38-b7b72cbe817e"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_admin.com"], ["encrypted_password", "$2a$04$Vfozu70h.dy9k0ZCSOC7q.FqIz20bz4EiMzT4B6FJ6JMcZnjYvJKm"], ["created_at", "2019-10-21 11:18:23.861020"], ["updated_at", "2019-10-21 11:18:23.861020"], ["jti", "a7135dd6-8d11-4abe-ac9f-4466b44470df"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName8"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10132], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName8"], ["address", "CoffeeShopAddress8"], ["owner_id", 10132], ["creator_id", 10134], ["created_at", "2019-10-21 11:18:23.867749"], ["updated_at", "2019-10-21 11:18:23.867749"], ["maintainer_id", 10133]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/coffee_shops/551" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"551"}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@coffee_owner.com"], ["encrypted_password", "$2a$04$xD7h6jghBcrRjzG1oPXDrep.ACEGmelw1HDxaa/UbaF5QFVTKUk9G"], ["created_at", "2019-10-21 11:18:23.887218"], ["updated_at", "2019-10-21 11:18:23.887218"], ["jti", "bc1a20f6-09ff-41f1-82f1-764c7c46b7d6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1", "maintainer_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bc1a20f6-09ff-41f1-82f1-764c7c46b7d6"], ["LIMIT", 1]]
Unpermitted parameters: :name, :address, :owner_id, :maintainer_id
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@coffee_owner.com"], ["encrypted_password", "$2a$04$/x.cG3qBOz0WqI2aamrctOr.07pOqcqkAFrebVknBnYPUmeKk40XC"], ["created_at", "2019-10-21 11:18:23.911998"], ["updated_at", "2019-10-21 11:18:23.911998"], ["jti", "f91881c2-3b12-4ef5-8771-e3a3e35a3c99"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_expert.com"], ["encrypted_password", "$2a$04$YfDIMAnd0QagsvzMRbSPM.6jgk6NxccOOcMSNeHOAuUqEm1BHQl2."], ["created_at", "2019-10-21 11:18:23.924369"], ["updated_at", "2019-10-21 11:18:23.924369"], ["jti", "ca9a42a5-59a3-41fe-bc70-7916d3b3c02e"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_admin.com"], ["encrypted_password", "$2a$04$mTcRgJxoRc3R9pxRFqWFFeFoeBr5mMQRq7TLfg1WTO7iRB7ur5ikm"], ["created_at", "2019-10-21 11:18:23.929833"], ["updated_at", "2019-10-21 11:18:23.929833"], ["jti", "b4dab08d-f81a-45c2-80c2-93beafa4a52b"], ["role", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName9"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10136], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName9"], ["address", "CoffeeShopAddress9"], ["owner_id", 10136], ["creator_id", 10138], ["created_at", "2019-10-21 11:18:23.937365"], ["updated_at", "2019-10-21 11:18:23.937365"], ["maintainer_id", 10137]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/552" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"552"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f91881c2-3b12-4ef5-8771-e3a3e35a3c99"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 552], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :maintainer_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10138], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10137], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10136], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 552], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10136], ["id", 552], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-21 11:18:23.953172"], ["id", 552]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 552], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10136], ["id", 552], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 20ms (Views: 1.7ms | ActiveRecord: 6.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@coffee_owner.com"], ["encrypted_password", "$2a$04$WjVGKjqvljXYDpaMyaG4jeLiZOjEIW0tgzPBueg3pib8mczNWshDy"], ["created_at", "2019-10-21 11:18:23.967709"], ["updated_at", "2019-10-21 11:18:23.967709"], ["jti", "a9c5f281-6624-486b-930a-b43ab44af40c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@coffee_owner.com"], ["encrypted_password", "$2a$04$FB9uY9/DVatzBVllKvgaKuFIu8TNLSRfNDx45Azr3qYxI3p5yJRf6"], ["created_at", "2019-10-21 11:18:23.974487"], ["updated_at", "2019-10-21 11:18:23.974487"], ["jti", "2c7a6abd-fa29-4745-90e3-a25d52b11c5c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:23 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_expert.com"], ["encrypted_password", "$2a$04$.8zp7KkYWV2m32svSh/Ijej1rWTpAjFWCzsZzrfrzU/XjYJcKcOUW"], ["created_at", "2019-10-21 11:18:23.987568"], ["updated_at", "2019-10-21 11:18:23.987568"], ["jti", "128db40f-8d06-4799-8170-1a877c62afc3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_admin.com"], ["encrypted_password", "$2a$04$r5aC0qFFXB5OAyHMRPb1H.HBTFWjOsJjGRJOMYwWhno4s4edA/CD."], ["created_at", "2019-10-21 11:18:23.992741"], ["updated_at", "2019-10-21 11:18:23.992741"], ["jti", "bcfc7fa6-cca9-478b-b2e1-fee5b26bbbac"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName10"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10140], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName10"], ["address", "CoffeeShopAddress10"], ["owner_id", 10140], ["creator_id", 10142], ["created_at", "2019-10-21 11:18:24.000499"], ["updated_at", "2019-10-21 11:18:24.000499"], ["maintainer_id", 10141]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/553" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"553"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9c5f281-6624-486b-930a-b43ab44af40c"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 553], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@coffee_owner.com"], ["encrypted_password", "$2a$04$cxP4/IXREgtjQXRdZ4DcJ.LqBrvg6V0hyv8S42.ICx5r.Ki4AB7dm"], ["created_at", "2019-10-21 11:18:24.025144"], ["updated_at", "2019-10-21 11:18:24.025144"], ["jti", "62b2d8b6-ba10-48fc-bbee-7e30e63226ce"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_expert.com"], ["encrypted_password", "$2a$04$wF/4GT/z17qH2r2.3smzU.HUOR0XjpaepwwmnhDfmezm.lp/eHcbK"], ["created_at", "2019-10-21 11:18:24.037832"], ["updated_at", "2019-10-21 11:18:24.037832"], ["jti", "f9255b1d-1d92-4fb9-bf5f-e7d44ee3bce1"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_admin.com"], ["encrypted_password", "$2a$04$5JMrRSoB.WmBD2dT61mwjuGWX5RcPcIBJANWv.kDBvKxU.5oUqDTu"], ["created_at", "2019-10-21 11:18:24.043288"], ["updated_at", "2019-10-21 11:18:24.043288"], ["jti", "df1ca030-ff78-45d7-ab4c-0c98b9ab788e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName11"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10143], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName11"], ["address", "CoffeeShopAddress11"], ["owner_id", 10143], ["creator_id", 10145], ["created_at", "2019-10-21 11:18:24.050524"], ["updated_at", "2019-10-21 11:18:24.050524"], ["maintainer_id", 10144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@coffee_owner.com"], ["encrypted_password", "$2a$04$bFPQtwTElyv9pAzo5EWZ4eKCwGWb.xYAFE7YVZcqERrhkJiyXVaRO"], ["created_at", "2019-10-21 11:18:24.056225"], ["updated_at", "2019-10-21 11:18:24.056225"], ["jti", "14c4b122-7ec2-40dc-b8f9-f9a64d8057a4"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_expert.com"], ["encrypted_password", "$2a$04$ZpA48Ybb0F2dRNce2adQSuYZ/yT5cqYIw9ze7MY3FdM6TeHU5CxvG"], ["created_at", "2019-10-21 11:18:24.062306"], ["updated_at", "2019-10-21 11:18:24.062306"], ["jti", "2dbd374d-5fcb-495a-bad1-e78d79b58be9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_admin.com"], ["encrypted_password", "$2a$04$jClK3rp6XnzZ2tsGO5xbBOthjqyz8/x.01VoYcWFaGSciG5bhGgnG"], ["created_at", "2019-10-21 11:18:24.068196"], ["updated_at", "2019-10-21 11:18:24.068196"], ["jti", "3dd1bd7c-1d5c-4bd6-9bb1-65c1fbccb0b8"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/554" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"10146", "maintainer_id"=>"#<ApiUser:0x000056420c877950>", "creator_id"=>"10148"}, "id"=>"554"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "62b2d8b6-ba10-48fc-bbee-7e30e63226ce"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 554], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :maintainer_id, :creator_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10145], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10144], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10143], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 554], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10143], ["id", 554], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-21 11:18:24.082955"], ["id", 554]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 554], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10143], ["id", 554], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 21ms (Views: 1.2ms | ActiveRecord: 6.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@coffee_owner.com"], ["encrypted_password", "$2a$04$ESd4wl3UyDJTWrk35Bbs8uRl1osGtvvl2lXQmFyTBKiyyMYu5mcfO"], ["created_at", "2019-10-21 11:18:24.100040"], ["updated_at", "2019-10-21 11:18:24.100040"], ["jti", "8eac2a0a-6cde-4079-8470-54bb0f719eb7"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_expert.com"], ["encrypted_password", "$2a$04$vRmuGvRu1sOCcGfB5ZCUbOEhm57QNfNWGLHdlqJZlQRhARKnrOkOe"], ["created_at", "2019-10-21 11:18:24.112749"], ["updated_at", "2019-10-21 11:18:24.112749"], ["jti", "c0cdd4df-a211-494f-bfde-31700688baf7"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_admin.com"], ["encrypted_password", "$2a$04$M0XTUrYYYx6ya7tPISbfQOk9zhEde/LLTul4WTMxDsq0YB08i/OCu"], ["created_at", "2019-10-21 11:18:24.118064"], ["updated_at", "2019-10-21 11:18:24.118064"], ["jti", "50151355-fe9c-488a-924b-e15a2af87d96"], ["role", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName12"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10149], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName12"], ["address", "CoffeeShopAddress12"], ["owner_id", 10149], ["creator_id", 10151], ["created_at", "2019-10-21 11:18:24.126359"], ["updated_at", "2019-10-21 11:18:24.126359"], ["maintainer_id", 10150]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/555" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"555"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8eac2a0a-6cde-4079-8470-54bb0f719eb7"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 555], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Update (0.5ms)[0m  [1m[33mUPDATE "coffee_shops" SET "deleted_at" = $1, "updated_at" = $2 WHERE "coffee_shops"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:24.132503"], ["updated_at", "2019-10-21 11:18:24.133002"], ["id", 555]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 1.3ms)
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 555], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@coffee_owner.com"], ["encrypted_password", "$2a$04$aYcH.NhF8m.F2Mw0syfh8evrEGiBBToQpHKkAO.W4/YCwJNYaHO9u"], ["created_at", "2019-10-21 11:18:24.141440"], ["updated_at", "2019-10-21 11:18:24.141440"], ["jti", "1ffaa8f5-feda-4c20-9601-40b7c4e35f06"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@coffee_owner.com"], ["encrypted_password", "$2a$04$ER2im.d.n0Ims8SkfXPNUe7s3DaBzL4uudJ2Zv35.Z4PKY3o7Zuji"], ["created_at", "2019-10-21 11:18:24.146294"], ["updated_at", "2019-10-21 11:18:24.146294"], ["jti", "6067f667-3db1-4493-a955-ce75f2def838"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_expert.com"], ["encrypted_password", "$2a$04$gAS11B/qqlFZMT3fUlIclO4PZewdWOa.EqAmlOtfAtVqm4YB/jpGa"], ["created_at", "2019-10-21 11:18:24.158107"], ["updated_at", "2019-10-21 11:18:24.158107"], ["jti", "da6008ec-04ba-4047-a696-4f40db8660ca"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_admin.com"], ["encrypted_password", "$2a$04$fMQenMOStjCfJWPOTkXwAu/kYm.FV4YpkdIQQHQIB8Q28250GrHYC"], ["created_at", "2019-10-21 11:18:24.163313"], ["updated_at", "2019-10-21 11:18:24.163313"], ["jti", "33aa8044-7e7a-4aed-9906-3aa70e48b4d6"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName13"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10153], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName13"], ["address", "CoffeeShopAddress13"], ["owner_id", 10153], ["creator_id", 10155], ["created_at", "2019-10-21 11:18:24.168368"], ["updated_at", "2019-10-21 11:18:24.168368"], ["maintainer_id", 10154]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/556" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"556"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ffaa8f5-feda-4c20-9601-40b7c4e35f06"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.4ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 556], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@player.com"], ["encrypted_password", "$2a$04$w0lceWbWNNyLfhqpx1Bn/ucSGCcRmgRbhN/iRrSsYwfwwGVXAbzgS"], ["created_at", "2019-10-21 11:18:24.181548"], ["updated_at", "2019-10-21 11:18:24.181548"], ["jti", "fb2d766d-b324-46a9-87e3-da8227634d77"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1", "maintainer_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fb2d766d-b324-46a9-87e3-da8227634d77"], ["LIMIT", 1]]
Unpermitted parameters: :name, :address, :owner_id, :maintainer_id
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@player.com"], ["encrypted_password", "$2a$04$TeqqecT9W2PC4buQzgNSR.rK29m379/q90f7auC607k.vhF84k71S"], ["created_at", "2019-10-21 11:18:24.204855"], ["updated_at", "2019-10-21 11:18:24.204855"], ["jti", "be5ffee9-d5a3-4460-badd-75110731b2e4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@coffee_owner.com"], ["encrypted_password", "$2a$04$aSrwDZBT/2vBUxMIYbLyu.DXVdUwit/WWcYyxKYDVhXZbgKeHTpo6"], ["created_at", "2019-10-21 11:18:24.219106"], ["updated_at", "2019-10-21 11:18:24.219106"], ["jti", "7b208900-cd73-4424-8dd8-de895eb09652"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_expert.com"], ["encrypted_password", "$2a$04$Vlb9Woan0ylirL.LjWHAI.7vVL2.G72hkTuz37DehVr2n6sAc.N.G"], ["created_at", "2019-10-21 11:18:24.227485"], ["updated_at", "2019-10-21 11:18:24.227485"], ["jti", "2f3c14c6-bebf-4afc-abe3-3d47c8e2f295"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_admin.com"], ["encrypted_password", "$2a$04$le7mjaklqr3bckC4x8SCY.0toMBxi90aMN78alxTXnvu/SNN96hoy"], ["created_at", "2019-10-21 11:18:24.234777"], ["updated_at", "2019-10-21 11:18:24.234777"], ["jti", "de966d85-9a9d-4507-9a15-6b7352d7ac14"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName14"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10158], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName14"], ["address", "CoffeeShopAddress14"], ["owner_id", 10158], ["creator_id", 10160], ["created_at", "2019-10-21 11:18:24.240884"], ["updated_at", "2019-10-21 11:18:24.240884"], ["maintainer_id", 10159]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/557" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"557"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "be5ffee9-d5a3-4460-badd-75110731b2e4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 557], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@player.com"], ["encrypted_password", "$2a$04$1r2j4hDiuNv7LMs8Cyncaers.Bkxs5gdP82n7JsF/QDPmPcpLN9eS"], ["created_at", "2019-10-21 11:18:24.253857"], ["updated_at", "2019-10-21 11:18:24.253857"], ["jti", "d5b5b510-0a5e-4a22-bb98-c14c076440e6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@coffee_owner.com"], ["encrypted_password", "$2a$04$vrpAklhJFh6a4Z1hRfqiCeAHC3pdbQfDUQDBgyKJJBu9YzeUzwv3m"], ["created_at", "2019-10-21 11:18:24.266966"], ["updated_at", "2019-10-21 11:18:24.266966"], ["jti", "12d39f61-f4fe-4022-89d2-256f004ae163"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_expert.com"], ["encrypted_password", "$2a$04$VJOd1v11p6L95VmGkibl9uuRj/ak6bEUieckJ3retO1HbT3sqk872"], ["created_at", "2019-10-21 11:18:24.271909"], ["updated_at", "2019-10-21 11:18:24.271909"], ["jti", "6a0b5fb7-3aac-4da2-9cea-f94e8b063253"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_admin.com"], ["encrypted_password", "$2a$04$RB2FEpcFKLjNtXif5fKA4ecRMCrv3/uDYcZt6C14GUZcGi7bNcPjG"], ["created_at", "2019-10-21 11:18:24.276828"], ["updated_at", "2019-10-21 11:18:24.276828"], ["jti", "a9b4c4d8-8d96-4a73-b2ee-125cfe85b82b"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName15"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10162], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName15"], ["address", "CoffeeShopAddress15"], ["owner_id", 10162], ["creator_id", 10164], ["created_at", "2019-10-21 11:18:24.283472"], ["updated_at", "2019-10-21 11:18:24.283472"], ["maintainer_id", 10163]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/558" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"558"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d5b5b510-0a5e-4a22-bb98-c14c076440e6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 558], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_admin.com"], ["encrypted_password", "$2a$04$4eA0NPEhhBcS09RgK0DQkOSTIeeNvYaqRenT1l5ZFjVxxDttKTB3G"], ["created_at", "2019-10-21 11:18:24.296049"], ["updated_at", "2019-10-21 11:18:24.296049"], ["jti", "61c887d0-7718-43bb-8ba5-eaf57e668010"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_expert.com"], ["encrypted_password", "$2a$04$0znT/Hcm7PgoUDUyo1Vln.N6r2UNJDlH66noR2xgNpM6K1kxwubn."], ["created_at", "2019-10-21 11:18:24.301777"], ["updated_at", "2019-10-21 11:18:24.301777"], ["jti", "f61ed643-8cb0-4611-be33-fd9c991d0feb"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@coffee_owner.com"], ["encrypted_password", "$2a$04$hX07lgnfD7Y5vqbn1YP5OOEB3a/Mksbyh4Gfyz8RJJ2aaMft3aF3."], ["created_at", "2019-10-21 11:18:24.307344"], ["updated_at", "2019-10-21 11:18:24.307344"], ["jti", "ec5809e4-ccaf-49dc-8700-7b197668d8d8"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"coffeeShopName", "address"=>"coffeeShopAddress", "owner_id"=>"10167", "maintainer_id"=>"10166"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "61c887d0-7718-43bb-8ba5-eaf57e668010"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10166], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10167], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "coffeeShopName"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10167], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "coffeeShopName"], ["address", "coffeeShopAddress"], ["owner_id", 10167], ["creator_id", 10165], ["created_at", "2019-10-21 11:18:24.323975"], ["updated_at", "2019-10-21 11:18:24.323975"], ["maintainer_id", 10166]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 3.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_admin.com"], ["encrypted_password", "$2a$04$JiwCTe84kFlUk0leF4NriueYFcNLotFZZySej7xEs15r7jXFAERz2"], ["created_at", "2019-10-21 11:18:24.333722"], ["updated_at", "2019-10-21 11:18:24.333722"], ["jti", "33a10aaf-5b6b-4630-bac2-1cf1e9ae213e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_expert.com"], ["encrypted_password", "$2a$04$qQXrk0mqXOsb2oNTXxCX1O435vBNHZMSflHcWSSUlZPGlulkilcqq"], ["created_at", "2019-10-21 11:18:24.346487"], ["updated_at", "2019-10-21 11:18:24.346487"], ["jti", "d49f4c98-0204-48b8-91e5-9101a6c74e32"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@coffee_owner.com"], ["encrypted_password", "$2a$04$bih8FN0KP5NGn5ekn3ARW.TIsQx8hEQmsjdwKM0abUFbkYJJZa7E6"], ["created_at", "2019-10-21 11:18:24.353084"], ["updated_at", "2019-10-21 11:18:24.353084"], ["jti", "16730beb-83ef-4c96-8093-4a54a43bc569"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@coffee_owner.com"], ["encrypted_password", "$2a$04$H1.VTk0gdqjjVnVo.I2BOeeTaO5XtsWCqXfQoS98D5B.wj579p98i"], ["created_at", "2019-10-21 11:18:24.359164"], ["updated_at", "2019-10-21 11:18:24.359164"], ["jti", "e7f22241-85fd-47a8-9539-3cecbefcd60f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_expert.com"], ["encrypted_password", "$2a$04$KfSB2tO7dfNJUyOtpukXZ.s1M9PE/WN8PKFLc0xSfwuETut2sf04u"], ["created_at", "2019-10-21 11:18:24.372892"], ["updated_at", "2019-10-21 11:18:24.372892"], ["jti", "7e2e9643-532e-4036-b4a7-7e047852ebf1"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName16"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10171], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName16"], ["address", "CoffeeShopAddress16"], ["owner_id", 10171], ["creator_id", 10168], ["created_at", "2019-10-21 11:18:24.378747"], ["updated_at", "2019-10-21 11:18:24.378747"], ["maintainer_id", 10172]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/560" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"10170", "maintainer_id"=>"10169"}, "id"=>"560"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "33a10aaf-5b6b-4630-bac2-1cf1e9ae213e"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 560], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10168], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10169], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10170], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 560], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10170], ["id", 560], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.7ms)[0m  [1m[33mUPDATE "coffee_shops" SET "owner_id" = $1, "maintainer_id" = $2, "name" = $3, "address" = $4, "updated_at" = $5 WHERE "coffee_shops"."id" = $6[0m  [["owner_id", 10170], ["maintainer_id", 10169], ["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-21 11:18:24.392170"], ["id", 560]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 560], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10170], ["id", 560], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 1.7ms | ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_admin.com"], ["encrypted_password", "$2a$04$Og0kmP3sXJkh0JKEiYX5UOsjtHziAYtYgu.uLfLI4ghYHgF5bk2Zi"], ["created_at", "2019-10-21 11:18:24.405528"], ["updated_at", "2019-10-21 11:18:24.405528"], ["jti", "d59e0e6f-ac0e-43c6-9928-bae68a45b75b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@coffee_owner.com"], ["encrypted_password", "$2a$04$9RzUnfb5pfNxH54nw1/hD.jAww10HBs0Jtn9qWrm2LFDs8tnd2zBi"], ["created_at", "2019-10-21 11:18:24.417369"], ["updated_at", "2019-10-21 11:18:24.417369"], ["jti", "4c6522da-7266-4443-9607-d8f1c98f6c13"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_expert.com"], ["encrypted_password", "$2a$04$sM4yLuVVFYRxIC6HYZrBfuAog6Mrf6HbTvMEea85OzIDI4GncgXxK"], ["created_at", "2019-10-21 11:18:24.422483"], ["updated_at", "2019-10-21 11:18:24.422483"], ["jti", "26ea8b2c-ae83-4d98-986b-a99a413e90cd"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_admin.com"], ["encrypted_password", "$2a$04$A1IMfBLZjeMgsq27dBmzT.lFD1bkBHe58YeXzXvWME84ZY/Eo0LfO"], ["created_at", "2019-10-21 11:18:24.427890"], ["updated_at", "2019-10-21 11:18:24.427890"], ["jti", "2c4a94bc-853b-4341-a402-6c1cf1889c34"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName17"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10174], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName17"], ["address", "CoffeeShopAddress17"], ["owner_id", 10174], ["creator_id", 10176], ["created_at", "2019-10-21 11:18:24.434743"], ["updated_at", "2019-10-21 11:18:24.434743"], ["maintainer_id", 10175]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/561" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"561"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d59e0e6f-ac0e-43c6-9928-bae68a45b75b"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 561], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "deleted_at" = $1, "updated_at" = $2 WHERE "coffee_shops"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:24.440297"], ["updated_at", "2019-10-21 11:18:24.440774"], ["id", 561]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 1.5ms)
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 561], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_expert.com"], ["encrypted_password", "$2a$04$YhE.iSxLR/wMvFLh1QxX/eBw1lY8y3RvX36zhaPGvmXNWpikXqxOC"], ["created_at", "2019-10-21 11:18:24.451784"], ["updated_at", "2019-10-21 11:18:24.451784"], ["jti", "8e5fea3e-6725-4f40-a1c7-bab5f312c22f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8e5fea3e-6725-4f40-a1c7-bab5f312c22f"], ["LIMIT", 1]]
Unpermitted parameters: :name, :address, :owner_id
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_expert.com"], ["encrypted_password", "$2a$04$L.RqnMvJBiE.s69GgeAoSuDICx9Vbk3lc2ntpPNxo5BRAKy5Gnj52"], ["created_at", "2019-10-21 11:18:24.470536"], ["updated_at", "2019-10-21 11:18:24.470536"], ["jti", "2a8025db-25e8-4098-9e3a-32849d558117"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@coffee_owner.com"], ["encrypted_password", "$2a$04$Wz55nredRksyvl9sN6nJZuy6g6tNxpeeYuH9.rwpDGfBq60EzK/Pe"], ["created_at", "2019-10-21 11:18:24.481461"], ["updated_at", "2019-10-21 11:18:24.481461"], ["jti", "30c97736-f313-45e3-9a7e-662c2ee8bd01"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_admin.com"], ["encrypted_password", "$2a$04$ib6aIOOY31xif/pg94VfkOokLopJ2gGQs/IBiHmV.cG/oDifHsdJm"], ["created_at", "2019-10-21 11:18:24.486172"], ["updated_at", "2019-10-21 11:18:24.486172"], ["jti", "24731652-6aa8-4abc-afd1-08255c5371bb"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName18"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10179], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName18"], ["address", "CoffeeShopAddress18"], ["owner_id", 10179], ["creator_id", 10180], ["created_at", "2019-10-21 11:18:24.492241"], ["updated_at", "2019-10-21 11:18:24.492241"], ["maintainer_id", 10178]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/562" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"562"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2a8025db-25e8-4098-9e3a-32849d558117"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 562], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :maintainer_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10180], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10178], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10179], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 562], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10179], ["id", 562], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.4ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-21 11:18:24.508520"], ["id", 562]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 562], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10179], ["id", 562], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 19ms (Views: 1.3ms | ActiveRecord: 5.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@coffee_owner.com"], ["encrypted_password", "$2a$04$Ci84O6uLJGFjLSsILgVhFunpV0azyzp6puottD6WAstvQgNciXsti"], ["created_at", "2019-10-21 11:18:24.523279"], ["updated_at", "2019-10-21 11:18:24.523279"], ["jti", "0bb028a8-6ca2-4c6f-8e3c-f7b7be52ce65"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@coffee_owner.com"], ["encrypted_password", "$2a$04$4hAR93sBpFcnJ1EtFV0Nu.SFs6SKXqaEut8NIDdfxYUaQFDpegL7K"], ["created_at", "2019-10-21 11:18:24.529605"], ["updated_at", "2019-10-21 11:18:24.529605"], ["jti", "5dee92ea-3385-4707-81b7-2c217315f412"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_expert.com"], ["encrypted_password", "$2a$04$Dni03Qy9q4tJ99MVpHj86./v9hoM7iULT3KWailGBAxcd9MFB6/Qe"], ["created_at", "2019-10-21 11:18:24.541964"], ["updated_at", "2019-10-21 11:18:24.541964"], ["jti", "0b245458-afdc-4eb0-9020-1af39afe509f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_admin.com"], ["encrypted_password", "$2a$04$BKgk7KwQUk5roGaKY4w8xOv1w6GFzQIDJ0izoxBUc.Nj4m44rHqrm"], ["created_at", "2019-10-21 11:18:24.547713"], ["updated_at", "2019-10-21 11:18:24.547713"], ["jti", "bfee2c70-bfae-4f7b-88a7-30f5c717685b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName19"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10182], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName19"], ["address", "CoffeeShopAddress19"], ["owner_id", 10182], ["creator_id", 10184], ["created_at", "2019-10-21 11:18:24.553299"], ["updated_at", "2019-10-21 11:18:24.553299"], ["maintainer_id", 10183]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/563" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"563"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0bb028a8-6ca2-4c6f-8e3c-f7b7be52ce65"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 563], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_expert.com"], ["encrypted_password", "$2a$04$78k3cW3AypU28Z/B6Mmyx.nCjZpMnibtR4GInjSTJY7YqmSVwjrfW"], ["created_at", "2019-10-21 11:18:24.563787"], ["updated_at", "2019-10-21 11:18:24.563787"], ["jti", "1c8504d1-0735-4041-9d27-d68c691dbfcc"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@coffee_owner.com"], ["encrypted_password", "$2a$04$9r6wqJb2qFlaT.V9uk7Y2eePquNHVTFpUhAhtTHW./OuGr/qItaj6"], ["created_at", "2019-10-21 11:18:24.575546"], ["updated_at", "2019-10-21 11:18:24.575546"], ["jti", "f5918eeb-3aec-4c14-9389-7867e7da4a62"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_admin.com"], ["encrypted_password", "$2a$04$11LkIwapcbOySgxYpc.oMOKpHsZ/wEUd0MHO0mc3F3O00006xevMa"], ["created_at", "2019-10-21 11:18:24.581290"], ["updated_at", "2019-10-21 11:18:24.581290"], ["jti", "6d679506-3219-4880-857e-2ac3f15c7986"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName20"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10186], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName20"], ["address", "CoffeeShopAddress20"], ["owner_id", 10186], ["creator_id", 10187], ["created_at", "2019-10-21 11:18:24.587455"], ["updated_at", "2019-10-21 11:18:24.587455"], ["maintainer_id", 10185]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@coffee_owner.com"], ["encrypted_password", "$2a$04$vKc14iTPrpE1g4A.SP0wwOee.PxV4Y0uQEihCTxDmMgrCxN.W57ZW"], ["created_at", "2019-10-21 11:18:24.595170"], ["updated_at", "2019-10-21 11:18:24.595170"], ["jti", "3c48d6c0-8eb0-45f6-b950-1bfe6d193877"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_expert.com"], ["encrypted_password", "$2a$04$eJ.dvI5QCxiy.dCkVVULEeTM/TP04/kOohiCNtPBcrodBiYqB4vgi"], ["created_at", "2019-10-21 11:18:24.603075"], ["updated_at", "2019-10-21 11:18:24.603075"], ["jti", "9801bfaa-b35f-4621-992b-a8c89eadbd74"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_admin.com"], ["encrypted_password", "$2a$04$Eh68tBkzLWENxThpRB.lYuyhkoWTfzYeXWXDycVCjRdP0obyZUkqK"], ["created_at", "2019-10-21 11:18:24.608797"], ["updated_at", "2019-10-21 11:18:24.608797"], ["jti", "0545e1b3-463c-4dfd-8f7b-1aedfbd9fabf"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/564" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"10188", "creator_id"=>"10190", "maintainer_id"=>"10189"}, "id"=>"564"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1c8504d1-0735-4041-9d27-d68c691dbfcc"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 564], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :creator_id, :maintainer_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10187], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10185], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10186], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 564], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10186], ["id", 564], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.5ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-21 11:18:24.622048"], ["id", 564]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 564], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10186], ["id", 564], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 1.1ms | ActiveRecord: 5.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_expert.com"], ["encrypted_password", "$2a$04$p3o8/bpSUZEhYrzsBlvCu.C.yI6fmF6wGOeCMJZlpsPKSlqvC.M6S"], ["created_at", "2019-10-21 11:18:24.636067"], ["updated_at", "2019-10-21 11:18:24.636067"], ["jti", "731edf74-406c-4e6f-a364-31b3838693a6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@coffee_owner.com"], ["encrypted_password", "$2a$04$gonRg9KbDPx.mHCxEw5uZum2vXuPKDZF3IrAbzcDriziS1cPxRhy6"], ["created_at", "2019-10-21 11:18:24.651157"], ["updated_at", "2019-10-21 11:18:24.651157"], ["jti", "092d9507-a955-434b-b6bc-b3dd95010e05"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_expert.com"], ["encrypted_password", "$2a$04$a72K6Ibz7TrwDnvR8MOQoOxqUNDeT8/FO/PzQNXEpgHLaosvowISu"], ["created_at", "2019-10-21 11:18:24.657405"], ["updated_at", "2019-10-21 11:18:24.657405"], ["jti", "5dad3286-5c30-4e35-8e07-5d650cac5f1d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_admin.com"], ["encrypted_password", "$2a$04$Ex.bPM10l/aIU.34bRroRei0AepoVo0Fp4UfNPtAT9YTQqqnHHvci"], ["created_at", "2019-10-21 11:18:24.662290"], ["updated_at", "2019-10-21 11:18:24.662290"], ["jti", "dfbcc771-51aa-42fb-8257-69316061e111"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName21"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10192], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName21"], ["address", "CoffeeShopAddress21"], ["owner_id", 10192], ["creator_id", 10194], ["created_at", "2019-10-21 11:18:24.668645"], ["updated_at", "2019-10-21 11:18:24.668645"], ["maintainer_id", 10193]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/565" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"565"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "731edf74-406c-4e6f-a364-31b3838693a6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 565], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$V6w50SsQySiJwjJus2.zEeRDlFv6vnrEu8cX6BJ41IUQHIYd2.sQS"], ["created_at", "2019-10-21 11:18:24.681058"], ["updated_at", "2019-10-21 11:18:24.681058"], ["jti", "6140877c-0ae2-41c4-9780-52642f1ef159"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_expert.com"], ["encrypted_password", "$2a$04$x70uzlBbJmhGWNu0Vg5JFuG4HWbDLoQIMreCutgoQeyBaXWvoR4Ta"], ["created_at", "2019-10-21 11:18:24.687938"], ["updated_at", "2019-10-21 11:18:24.687938"], ["jti", "0e73dc4a-344b-46a2-b32c-b01e5ce63db3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@coffee_owner.com"], ["encrypted_password", "$2a$04$NdWUW253kn5NVnaHVJnk2.lVYMg89qszDaDYyR1x56kJuKEv81HXe"], ["created_at", "2019-10-21 11:18:24.692901"], ["updated_at", "2019-10-21 11:18:24.692901"], ["jti", "f9337e0f-11a9-4bce-a4c0-4d9011403c5d"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"coffeeShopName", "address"=>"coffeeShopAddress", "owner_id"=>"10197", "maintainer_id"=>"10196"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6140877c-0ae2-41c4-9780-52642f1ef159"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10196], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10197], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "coffeeShopName"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10197], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "coffeeShopName"], ["address", "coffeeShopAddress"], ["owner_id", 10197], ["creator_id", 10195], ["created_at", "2019-10-21 11:18:24.719612"], ["updated_at", "2019-10-21 11:18:24.719612"], ["maintainer_id", 10196]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 4.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_master.com"], ["encrypted_password", "$2a$04$4h1abzOwCoLxZDKeuYnggOxhZ3itR5KZPSgxhOEEj/E.A9VeNb/lK"], ["created_at", "2019-10-21 11:18:24.729872"], ["updated_at", "2019-10-21 11:18:24.729872"], ["jti", "1fc90381-52dc-4488-a295-5c466191da83"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_expert.com"], ["encrypted_password", "$2a$04$jBhhAfs8JUwR96k2m1AaUOktV/OXA0ufF/gkP00m/zM9WAbamw31a"], ["created_at", "2019-10-21 11:18:24.742047"], ["updated_at", "2019-10-21 11:18:24.742047"], ["jti", "b4bfaffe-71dd-4e4f-b229-82d599ee5b97"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@coffee_owner.com"], ["encrypted_password", "$2a$04$NeWOJzfIZVAYOcdPG3svWeRafLoqmEkE8gJDidAm6KvQaRAQKSGbG"], ["created_at", "2019-10-21 11:18:24.749194"], ["updated_at", "2019-10-21 11:18:24.749194"], ["jti", "5150a224-dfc9-45dc-bd4d-4733dec4c485"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@coffee_owner.com"], ["encrypted_password", "$2a$04$s8uhV4emiSvpkUG5zMc9Xe7N3Va6y92858n5SkVDdWty7FdKZPiIm"], ["created_at", "2019-10-21 11:18:24.754847"], ["updated_at", "2019-10-21 11:18:24.754847"], ["jti", "3855c4e2-ed22-40e8-b9c5-85f5f5461b65"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_expert.com"], ["encrypted_password", "$2a$04$9uBYr74fkgbibFzp.kmUgORnJy4olce1Z0z4obg5SzuCr0pYWjvTa"], ["created_at", "2019-10-21 11:18:24.760656"], ["updated_at", "2019-10-21 11:18:24.760656"], ["jti", "13fd376f-8287-4a2f-a2d8-7a016c365291"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName22"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10201], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName22"], ["address", "CoffeeShopAddress22"], ["owner_id", 10201], ["creator_id", 10198], ["created_at", "2019-10-21 11:18:24.766887"], ["updated_at", "2019-10-21 11:18:24.766887"], ["maintainer_id", 10202]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/567" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"10200", "maintainer_id"=>"10199"}, "id"=>"567"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1fc90381-52dc-4488-a295-5c466191da83"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 567], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10198], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10199], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10200], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 567], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10200], ["id", 567], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.8ms)[0m  [1m[33mUPDATE "coffee_shops" SET "owner_id" = $1, "maintainer_id" = $2, "name" = $3, "address" = $4, "updated_at" = $5 WHERE "coffee_shops"."id" = $6[0m  [["owner_id", 10200], ["maintainer_id", 10199], ["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-21 11:18:24.778527"], ["id", 567]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 567], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10200], ["id", 567], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 1.1ms | ActiveRecord: 6.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_master.com"], ["encrypted_password", "$2a$04$9g7DIyGv3NWoTbDQVgfxWe5cy5Trs0m1dCcn91iUQ45dLgckNCYUO"], ["created_at", "2019-10-21 11:18:24.792303"], ["updated_at", "2019-10-21 11:18:24.792303"], ["jti", "2bbe9502-0835-4577-bd7f-347de11e4f87"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@coffee_owner.com"], ["encrypted_password", "$2a$04$Osd8Atzd7Y0hrIzbJgu9n.W2yFjxSqxzrjH3NSRNTLNuqbdQ158z."], ["created_at", "2019-10-21 11:18:24.805090"], ["updated_at", "2019-10-21 11:18:24.805090"], ["jti", "47c73ad1-2c8e-4385-b09a-b411b7499206"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_expert.com"], ["encrypted_password", "$2a$04$7fUcYGS0S2.DaKndRDFpCePg.8Ifju/evO1/pZeOAAig/3sXNzevm"], ["created_at", "2019-10-21 11:18:24.810459"], ["updated_at", "2019-10-21 11:18:24.810459"], ["jti", "be2237e9-89ef-4b08-a40d-11c38ec4644b"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_admin.com"], ["encrypted_password", "$2a$04$6zJ/PWJcoIf.DfX4MVQfrODZf2mycalekrxSVbOT0.2hMcgrC1CYi"], ["created_at", "2019-10-21 11:18:24.816997"], ["updated_at", "2019-10-21 11:18:24.816997"], ["jti", "a3bcf549-c931-4283-acf1-68f9270e7ecd"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName23"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10204], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName23"], ["address", "CoffeeShopAddress23"], ["owner_id", 10204], ["creator_id", 10206], ["created_at", "2019-10-21 11:18:24.822934"], ["updated_at", "2019-10-21 11:18:24.822934"], ["maintainer_id", 10205]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/568" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"568"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2bbe9502-0835-4577-bd7f-347de11e4f87"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 568], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Update (0.4ms)[0m  [1m[33mUPDATE "coffee_shops" SET "deleted_at" = $1, "updated_at" = $2 WHERE "coffee_shops"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:24.828217"], ["updated_at", "2019-10-21 11:18:24.828862"], ["id", 568]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 1.1ms)
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 568], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@player.com"], ["encrypted_password", "$2a$04$uQkWvDkc3wk05hM9aaqOluygOovtoTQYxV1MMvrgPI.lc.KdvQYOm"], ["created_at", "2019-10-21 11:18:24.853449"], ["updated_at", "2019-10-21 11:18:24.853449"], ["jti", "ffc8789d-4115-4699-b7fd-0c0ee0ccab9d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@player.com"], ["encrypted_password", "$2a$04$Y/av5bMvTwr8vziS4AB0IuK404Tw1AF1H3B.P5r32SyQqewK9ufXy"], ["created_at", "2019-10-21 11:18:24.865667"], ["updated_at", "2019-10-21 11:18:24.865667"], ["jti", "e821a71b-7232-4f48-86da-e7098267b3da"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (4.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@player.com"], ["encrypted_password", "$2a$04$7AE6pvEQDipNA27zpD0k7u/RnjsLq4Ri/XXjVo30RX8F86PIrYrMm"], ["created_at", "2019-10-21 11:18:24.884492"], ["updated_at", "2019-10-21 11:18:24.884492"], ["jti", "5e6cdf38-04be-4ab3-8ce7-15cd31a559a5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@coffee_owner.com"], ["encrypted_password", "$2a$04$nMpF5NibRCtxQ0HzOzgM/u8eJV5gPURMzLR2pRWYQ7EG9QXA2jb36"], ["created_at", "2019-10-21 11:18:24.900175"], ["updated_at", "2019-10-21 11:18:24.900175"], ["jti", "59c6654c-6648-48cb-8f20-bd0cb2c56695"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_expert.com"], ["encrypted_password", "$2a$04$8aV1XYV2.SVKeZ4Wv3n.ju6R8LMcReSt5kPUgb/xFw4FJVtORgA3O"], ["created_at", "2019-10-21 11:18:24.914610"], ["updated_at", "2019-10-21 11:18:24.914610"], ["jti", "3f1825ff-210d-4cc6-b69c-ab95599b3c33"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_admin.com"], ["encrypted_password", "$2a$04$qpo9BW33y0B4tkgVy7apbuoEuPvP8Sc7cYJbkzhvow36xAiM0WUHm"], ["created_at", "2019-10-21 11:18:24.928854"], ["updated_at", "2019-10-21 11:18:24.928854"], ["jti", "8cae3376-3774-4fb1-8b55-6f2c7082ba3d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_master.com"], ["encrypted_password", "$2a$04$hikPoM4wX/02gR9H1C5uT.GHUBM.bnsnOXtE5GdxgE3GE8fDxPKiW"], ["created_at", "2019-10-21 11:18:24.944103"], ["updated_at", "2019-10-21 11:18:24.944103"], ["jti", "3b70c20f-c911-498a-9297-e4d1837358d4"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@player.com"], ["encrypted_password", "$2a$04$zQopemTYcPfzu1AIIYb58.ZBn2wZ9CSQ/fx/FfYBwkK2aJ5m3WRGK"], ["created_at", "2019-10-21 11:18:24.965319"], ["updated_at", "2019-10-21 11:18:24.965319"], ["jti", "ecba3347-409c-49c5-937c-b3b399b7a512"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ecba3347-409c-49c5-937c-b3b399b7a512"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ecba3347-409c-49c5-937c-b3b399b7a512"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e43687dc-0c2a-4b46-afb6-0ace2995bae8"], ["id", 10214]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10214], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "0899f52c-9160-405b-b3a3-da6120c8daef"], ["id", 10214]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@coffee_owner.com"], ["encrypted_password", "$2a$04$dSE/wk/2D7pEAPAdujAJVes5QD/YAHgDW5Uo2ZrcX0M57BbkPACFG"], ["created_at", "2019-10-21 11:18:24.987403"], ["updated_at", "2019-10-21 11:18:24.987403"], ["jti", "c7d2d420-7e51-42f1-92d0-44495dd77117"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:24 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c7d2d420-7e51-42f1-92d0-44495dd77117"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$LJP5SVIJZNmiJzuKC5A7we2Xet4r.CJY9xgfcfqkeQJjlCnUb.znK"], ["created_at", "2019-10-21 11:18:25.005514"], ["updated_at", "2019-10-21 11:18:25.005514"], ["jti", "643445a9-02a4-40ef-b8c4-f6fcaf542af3"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 2.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@coffee_owner.com"], ["encrypted_password", "$2a$04$xbS7yaDaYbEKNLV/s0D/leg0bOanRrYPvKs7IRh0iuBp4xbRY4p5S"], ["created_at", "2019-10-21 11:18:25.023714"], ["updated_at", "2019-10-21 11:18:25.023714"], ["jti", "4f2a3975-5973-4baa-9380-5d0280fa15a2"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4f2a3975-5973-4baa-9380-5d0280fa15a2"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$N/CEp9OzJUBB7eR9vbZvTOueEE1jF/De8cb9FFaDdpJXxENjn7wZu"], ["created_at", "2019-10-21 11:18:25.039758"], ["updated_at", "2019-10-21 11:18:25.039758"], ["jti", "6ff05da8-ae80-485d-abbe-ccbc80689b2e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@coffee_owner.com"], ["encrypted_password", "$2a$04$1B.mrdF/49ZVUdg8ItZcJeQYtjMxlKt0ROnimVwnh0SzkA8IeUjLq"], ["created_at", "2019-10-21 11:18:25.049858"], ["updated_at", "2019-10-21 11:18:25.049858"], ["jti", "d211ffab-9317-48ca-bb01-012cd253bc6c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d211ffab-9317-48ca-bb01-012cd253bc6c"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$vfOAtb8Lt1Y.2BMEdeXHueI2nlu1iSvuz07LYnhMaMtKz.5eEY8NO"], ["created_at", "2019-10-21 11:18:25.067628"], ["updated_at", "2019-10-21 11:18:25.067628"], ["jti", "a8512eba-7912-4fe5-acfb-50795f9ecfe7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@coffee_owner.com"], ["encrypted_password", "$2a$04$qD3XQS5kgT243Efvr2UbNOX9M5nZrPMj781ArMzGuFiMoMtk8jm2."], ["created_at", "2019-10-21 11:18:25.076642"], ["updated_at", "2019-10-21 11:18:25.076642"], ["jti", "669e050b-8c25-40eb-aa25-c9d905e9eba5"], ["role", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "669e050b-8c25-40eb-aa25-c9d905e9eba5"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$tzezbj9FnWMKYKvNmkaDKOISB3WAFxuViVVDsjDfzOD0VihfrCns6"], ["created_at", "2019-10-21 11:18:25.091381"], ["updated_at", "2019-10-21 11:18:25.091381"], ["jti", "529f5da9-1113-4d56-be4e-60d0438c49f6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@coffee_owner.com"], ["encrypted_password", "$2a$04$oanu7uIJSkaDB3UgwcEE...DWH8shmAa1bO1ggV.IhClxRf1bg5ou"], ["created_at", "2019-10-21 11:18:25.101842"], ["updated_at", "2019-10-21 11:18:25.101842"], ["jti", "5a6d56d2-a3c7-45e7-af9e-32ce9ab039fc"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5a6d56d2-a3c7-45e7-af9e-32ce9ab039fc"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$EP4GNZvSSLz8w63vx7.R0.EQqBjOpHOwhEN8wbRdjyI/i5CfHALMC"], ["created_at", "2019-10-21 11:18:25.117799"], ["updated_at", "2019-10-21 11:18:25.117799"], ["jti", "63551fca-4a5b-48a1-83f4-cfe95d850aa5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@coffee_owner.com"], ["encrypted_password", "$2a$04$Cnc8aBCCcnYr1jWw8iaNPO2lhQQ6OjmC7uJn5PC.DPBRgqLzjj6U6"], ["created_at", "2019-10-21 11:18:25.127938"], ["updated_at", "2019-10-21 11:18:25.127938"], ["jti", "753efbe0-cee6-4ef4-9d45-e4ccb7ae71e5"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10225" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10225"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "753efbe0-cee6-4ef4-9d45-e4ccb7ae71e5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10225], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10225], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$imy/ZO.5a4HyKMvFPD3ITO7.wsiqoShwpux4GFBMMNLa2ewiHlO0a"], ["role", 4], ["updated_at", "2019-10-21 11:18:25.145084"], ["id", 10225]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "753efbe0-cee6-4ef4-9d45-e4ccb7ae71e5"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "753efbe0-cee6-4ef4-9d45-e4ccb7ae71e5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4a0d8d79-7af1-4892-b970-f86d359f0a01"], ["id", 10225]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10225], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "db877166-15c0-4d84-b3ac-bdbccb7a87b3"], ["id", 10225]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10225], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10225], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10225], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@coffee_owner.com"], ["encrypted_password", "$2a$04$/laogMFY4N1CSHutxd1XXeJd9Dg4fQFW.UdoBPdIb7DTgZB1Y5dBa"], ["created_at", "2019-10-21 11:18:25.173898"], ["updated_at", "2019-10-21 11:18:25.173898"], ["jti", "1fecf693-06dc-464b-beef-ab4c029c1d40"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10226" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10226"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1fecf693-06dc-464b-beef-ab4c029c1d40"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10226], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10226], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$jgqtA2Ca.WyD.ofKZl/Lx.aGlBoPUh3iYNz23GvDsG1HarT8ZADCi"], ["updated_at", "2019-10-21 11:18:25.192750"], ["id", 10226]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 3.1ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1fecf693-06dc-464b-beef-ab4c029c1d40"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1fecf693-06dc-464b-beef-ab4c029c1d40"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6a35a5c3-d6f2-4fdb-81f8-caa59d57abb4"], ["id", 10226]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10226], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "308a6371-b11a-412e-af79-70dc05559da4"], ["id", 10226]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10226], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10226], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@coffee_owner.com"], ["encrypted_password", "$2a$04$gN7QHJZaUv0Ew1wxsnWaPOt05.JK/vnHoCDlbh8WxAUc4IXQfdi.C"], ["created_at", "2019-10-21 11:18:25.219266"], ["updated_at", "2019-10-21 11:18:25.219266"], ["jti", "397c6e04-6581-4edc-ae6a-c74e74fe9b3a"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10227" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10227"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "397c6e04-6581-4edc-ae6a-c74e74fe9b3a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10227], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10227], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$DAlZzvpN3cjt7YRC/sZQy.ILW69R6pozGili/y.66xO2BNBqC5nly"], ["updated_at", "2019-10-21 11:18:25.239600"], ["id", 10227]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "397c6e04-6581-4edc-ae6a-c74e74fe9b3a"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "397c6e04-6581-4edc-ae6a-c74e74fe9b3a"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "909294f9-466c-4dc9-9124-2ee02758e875"], ["id", 10227]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10227], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "cce1695c-dc80-4117-832d-4436225c741c"], ["id", 10227]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10227], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10227], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10227], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@coffee_owner.com"], ["encrypted_password", "$2a$04$pCthPKgkWfq1HWxZoICb8ejhMNbiOJuDz65y218Ocqx9lw7xqBAGq"], ["created_at", "2019-10-21 11:18:25.266573"], ["updated_at", "2019-10-21 11:18:25.266573"], ["jti", "a9e91e9f-9a95-42de-881d-6a96d8c9d776"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@player.com"], ["encrypted_password", "$2a$04$0SX988.3.NURW4hJqkqPPOCIdSfBTPzyNdjU02zJcaXpVll61XrCa"], ["created_at", "2019-10-21 11:18:25.271496"], ["updated_at", "2019-10-21 11:18:25.271496"], ["jti", "920fd5bf-add7-4cdf-b944-6ce7432c1e8d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10229" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10229"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9e91e9f-9a95-42de-881d-6a96d8c9d776"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10229], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10229], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$UendeYVh9xu2WBkjI2llXeabgFfbOOEsuYjB/sBulT7hVvpxeTGWS"], ["updated_at", "2019-10-21 11:18:25.286678"], ["id", 10229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10229], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@coffee_owner.com"], ["encrypted_password", "$2a$04$UmTdvkMGSz/5JJmxoFa8buu0e380D7UWDPMW1/lhJwfMfPIxRCKz2"], ["created_at", "2019-10-21 11:18:25.296906"], ["updated_at", "2019-10-21 11:18:25.296906"], ["jti", "94d566b0-af93-4888-91ee-9a9c201eddc2"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@player.com"], ["encrypted_password", "$2a$04$WK.DEgVqUvYkGSQovCjUcuwuDrG9AhHixgEOKD3HQAa5G2oNEGoVG"], ["created_at", "2019-10-21 11:18:25.303218"], ["updated_at", "2019-10-21 11:18:25.303218"], ["jti", "cfb82c06-a661-4791-be1b-a29456a469fb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10231" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10231"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "94d566b0-af93-4888-91ee-9a9c201eddc2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10231], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10231], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$y23Wf8maK0rAteHweZffK.wOggfz3QmzIW0RzF5qYkDYivQiMR7OG"], ["updated_at", "2019-10-21 11:18:25.322362"], ["id", 10231]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10231], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@coffee_owner.com"], ["encrypted_password", "$2a$04$6uQDueooQV44fgODRHmTg.pDY1rWiD3sT7yf8QiJwGvzXDZ3rDCdW"], ["created_at", "2019-10-21 11:18:25.339947"], ["updated_at", "2019-10-21 11:18:25.339947"], ["jti", "34428f87-bb55-46af-b289-7f920b23ccdc"], ["role", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@coffee_owner.com"], ["encrypted_password", "$2a$04$JeemQm0GOeFkMGPUzDx3IOImnARdQrqpZkCQnhE4yMrsf51zYspT."], ["created_at", "2019-10-21 11:18:25.346941"], ["updated_at", "2019-10-21 11:18:25.346941"], ["jti", "41f18214-0ba4-4bd4-b0f8-fd7d4a222796"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10233" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10233"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "34428f87-bb55-46af-b289-7f920b23ccdc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10233], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10233], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@coffee_owner.com"], ["encrypted_password", "$2a$04$Z3rh0aSG9tx5Ekv0Uk2bu.bl2fdbLawMmVl/ypEj.B3b.BcMdDwoe"], ["created_at", "2019-10-21 11:18:25.369014"], ["updated_at", "2019-10-21 11:18:25.369014"], ["jti", "69f488cb-a5c6-437b-a8bb-8018e5b3d64e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_expert.com"], ["encrypted_password", "$2a$04$gevUf7zreahWW6Q1ENunE.Zp3bVrEsBmfAsLLIaOgggv2xoNxdfU6"], ["created_at", "2019-10-21 11:18:25.376571"], ["updated_at", "2019-10-21 11:18:25.376571"], ["jti", "83595347-6ee1-4648-ac63-55fb25af0302"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10235" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10235"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "69f488cb-a5c6-437b-a8bb-8018e5b3d64e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10235], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10235], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@coffee_owner.com"], ["encrypted_password", "$2a$04$oL6S2CXHDfFZRLovxagQZuvJ/7qs90fXmMiGM1MiPWxm/xfdivTSG"], ["created_at", "2019-10-21 11:18:25.397080"], ["updated_at", "2019-10-21 11:18:25.397080"], ["jti", "dc81776b-5a8c-40b4-b508-e5db69bc3f1b"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_admin.com"], ["encrypted_password", "$2a$04$dFCe1.2fTlCA4fcLLfOtK.xMjq0GOOTdmg2oelxzG8Q1vjMJoBlhe"], ["created_at", "2019-10-21 11:18:25.402740"], ["updated_at", "2019-10-21 11:18:25.402740"], ["jti", "2ffcf271-fd68-4797-b4e3-51020d243ab6"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10237" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10237"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dc81776b-5a8c-40b4-b508-e5db69bc3f1b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10237], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10237], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@coffee_owner.com"], ["encrypted_password", "$2a$04$QmV3PiSjrhG9DK64sJTVcOFwUOCB2XNbTJ5UaFVCQ8PsWSi.ZtjDa"], ["created_at", "2019-10-21 11:18:25.425688"], ["updated_at", "2019-10-21 11:18:25.425688"], ["jti", "e181eebd-7536-42b8-8360-f925c2975a5c"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_master.com"], ["encrypted_password", "$2a$04$U5NY.IFGyOt3EP40Qn5MDucPwvtF9AUjKzN6vQMEPtWjhXNvsM2Uy"], ["created_at", "2019-10-21 11:18:25.430348"], ["updated_at", "2019-10-21 11:18:25.430348"], ["jti", "a44b6cc3-345a-45c2-a60f-5791e84d5377"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10239" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10239"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e181eebd-7536-42b8-8360-f925c2975a5c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10239], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10239], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@coffee_owner.com"], ["encrypted_password", "$2a$04$tbK2tpJQ7Hywl0oPskpDUuMQlxFnyUtooG66M4ODMgNp1A8KtaVSK"], ["created_at", "2019-10-21 11:18:25.449798"], ["updated_at", "2019-10-21 11:18:25.449798"], ["jti", "2fa557fb-997d-4f6d-9505-72b5a21d58ca"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/10240" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10240"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2fa557fb-997d-4f6d-9505-72b5a21d58ca"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10240], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:25.461843"], ["updated_at", "2019-10-21 11:18:25.462475"], ["id", 10240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 1.2ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@coffee_owner.com"], ["encrypted_password", "$2a$04$t/xDWYGJIeFgc8s3hWK1lOyyVNU9w1rYfMasb.sKdSBLiJlxu3DCO"], ["created_at", "2019-10-21 11:18:25.478120"], ["updated_at", "2019-10-21 11:18:25.478120"], ["jti", "632764c4-53ab-4663-9a7c-effbae06626c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@player.com"], ["encrypted_password", "$2a$04$Kxy3M8MHn1MzUWSt3v5cEecyWSkr3nIlbXB3bdOWo01tCuuD4.2dW"], ["created_at", "2019-10-21 11:18:25.484074"], ["updated_at", "2019-10-21 11:18:25.484074"], ["jti", "44e46b78-be54-4df0-b60a-a2de934e6d7f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10242" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10242"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "632764c4-53ab-4663-9a7c-effbae06626c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10242], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:25.495498"], ["updated_at", "2019-10-21 11:18:25.496074"], ["id", 10242]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.8ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@coffee_owner.com"], ["encrypted_password", "$2a$04$FYginCstnRf4L.T4KPGV9.UKFkBwbvG7qIC2BnjVccoWVUwTnyfeG"], ["created_at", "2019-10-21 11:18:25.512485"], ["updated_at", "2019-10-21 11:18:25.512485"], ["jti", "b7440242-4078-43a2-8fbf-f435877ad6d8"], ["role", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@coffee_owner.com"], ["encrypted_password", "$2a$04$mioJF.3r27rkBLU.hFNCFuVc910O.HIkd..2kHb4M.XuCQxC.1kX2"], ["created_at", "2019-10-21 11:18:25.518659"], ["updated_at", "2019-10-21 11:18:25.518659"], ["jti", "437e2f99-0acf-4826-ab5e-890550bf0f3b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test52@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test52@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10244" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10244"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b7440242-4078-43a2-8fbf-f435877ad6d8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10244], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@coffee_owner.com"], ["encrypted_password", "$2a$04$UcG5pwUPvBDmjX8chm8nM.V8QAzxQbuJe6IW/6xiyL/qIkEKl0BYu"], ["created_at", "2019-10-21 11:18:25.537698"], ["updated_at", "2019-10-21 11:18:25.537698"], ["jti", "711cce81-db85-4dc3-ace3-3aa77de2fc3f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_expert.com"], ["encrypted_password", "$2a$04$mtybYPiKNk1zEcq61yL0F.vbtWqasfPWGzlAEUTmdOgxg/zLd/nJC"], ["created_at", "2019-10-21 11:18:25.542448"], ["updated_at", "2019-10-21 11:18:25.542448"], ["jti", "ab5a8df2-97d6-40c2-b1e3-e9730d17c0b0"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test54@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test54@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10246" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10246"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "711cce81-db85-4dc3-ace3-3aa77de2fc3f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10246], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@coffee_owner.com"], ["encrypted_password", "$2a$04$Mk7qA7d9s0p6p.QFat8niOZXoiZg7NQGn1F8T9cLDavfHVbplfWPO"], ["created_at", "2019-10-21 11:18:25.562751"], ["updated_at", "2019-10-21 11:18:25.562751"], ["jti", "a423b403-9de3-42d5-a502-9d100c46a42b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_admin.com"], ["encrypted_password", "$2a$04$b/OVYthhkuHkiw4bLtHZxO1/eWkx3SZl1UoWFEn4JLuDP99KI9nRi"], ["created_at", "2019-10-21 11:18:25.568869"], ["updated_at", "2019-10-21 11:18:25.568869"], ["jti", "22c3ad8f-b3b7-481f-abff-548e74f2054c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10248" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10248"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a423b403-9de3-42d5-a502-9d100c46a42b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10248], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@coffee_owner.com"], ["encrypted_password", "$2a$04$lbkM4hcmlg.ye.Ry6f7yqeHVTxdr2WhiFPGdTq.Y9RlJTeBuh5Tw."], ["created_at", "2019-10-21 11:18:25.586635"], ["updated_at", "2019-10-21 11:18:25.586635"], ["jti", "cf1a5202-a81a-4168-ae09-a6230fd4969b"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_master.com"], ["encrypted_password", "$2a$04$c5eCbsYmxZC/3YxHsCtG4uUdEB5Nav1adv3q0dWkU.X5J6jFEBOlS"], ["created_at", "2019-10-21 11:18:25.592412"], ["updated_at", "2019-10-21 11:18:25.592412"], ["jti", "4a4beda0-81f7-4c06-820e-1640c1246783"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/10250" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10250"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cf1a5202-a81a-4168-ae09-a6230fd4969b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10250], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@player.com"], ["encrypted_password", "$2a$04$ZSjLwIp3zAwXqSRNRxxkJOtf9PB3VDBMinKn2wmg.BFVD/EMNYkYu"], ["created_at", "2019-10-21 11:18:25.612269"], ["updated_at", "2019-10-21 11:18:25.612269"], ["jti", "e89b11d1-4318-47be-a811-0dc034ea4f4d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e89b11d1-4318-47be-a811-0dc034ea4f4d"], ["LIMIT", 1]]
Unpermitted parameter: :role
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@player.com"], ["encrypted_password", "$2a$04$2DvG2SvsoK7xJNicCI.Ujeq6K2fuJgsOxpijOCzDMwmRhipIm6JKG"], ["created_at", "2019-10-21 11:18:25.635963"], ["updated_at", "2019-10-21 11:18:25.635963"], ["jti", "ad671b6a-377a-4f9e-ad8c-c9286c4aceb8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10252" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10252"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ad671b6a-377a-4f9e-ad8c-c9286c4aceb8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10252], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10252], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$bYe2d5JRkGjT2krv9ycdkesCHxQ1SWk5LBhxQjgVGkY.QfdL6UnIG"], ["updated_at", "2019-10-21 11:18:25.660235"], ["id", 10252]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 1.1ms | ActiveRecord: 3.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ad671b6a-377a-4f9e-ad8c-c9286c4aceb8"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ad671b6a-377a-4f9e-ad8c-c9286c4aceb8"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "b33ca06e-6371-4378-b95a-8bf6d2aef8ae"], ["id", 10252]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10252], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "5cbcc574-5bee-4808-9cc5-48b5a86777b3"], ["id", 10252]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10252], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10252], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10252], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@player.com"], ["encrypted_password", "$2a$04$Y8f3ZnGp1pDSK0SECyTw5.PeA7jpFybf5s9SNmb9tUGezyeEqEWoK"], ["created_at", "2019-10-21 11:18:25.686357"], ["updated_at", "2019-10-21 11:18:25.686357"], ["jti", "9a86695a-3ee3-4c75-ac47-37460e058345"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10253" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10253"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9a86695a-3ee3-4c75-ac47-37460e058345"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10253], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10253], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$oQufncQI4ShxRDma45euMOroyTlF8woJnH3A8BVasjcl2E4udrfSO"], ["updated_at", "2019-10-21 11:18:25.703782"], ["id", 10253]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.3ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9a86695a-3ee3-4c75-ac47-37460e058345"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9a86695a-3ee3-4c75-ac47-37460e058345"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "b543bff9-3670-4cff-ab56-b472e426f6a1"], ["id", 10253]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10253], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "ed9cbb48-5761-4f1d-a810-ba55754c18e6"], ["id", 10253]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10253], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10253], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10253], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@player.com"], ["encrypted_password", "$2a$04$atXNaZbyP7VNDSv3DB6kQu7detO8IkCQxXYq6Ujb5mOAaLCF6voI."], ["created_at", "2019-10-21 11:18:25.732531"], ["updated_at", "2019-10-21 11:18:25.732531"], ["jti", "81364e17-febc-4343-b4e5-ea7eab599b45"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@player.com"], ["encrypted_password", "$2a$04$qfvOJjqlXhIbQ4.WjcI.5.PF3xOz1ybZUmnQ9fFabfFY452nxCnxK"], ["created_at", "2019-10-21 11:18:25.738449"], ["updated_at", "2019-10-21 11:18:25.738449"], ["jti", "1c4fbc5a-a714-46fe-a8c7-121449d3e489"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10255" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10255"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "81364e17-febc-4343-b4e5-ea7eab599b45"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10255], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10255], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@player.com"], ["encrypted_password", "$2a$04$QToaWuM4pF3m06GcOLVtx.SKsGrDHUexvv6p2I81sk0M.6B5WFG8y"], ["created_at", "2019-10-21 11:18:25.759578"], ["updated_at", "2019-10-21 11:18:25.759578"], ["jti", "bd3ebd76-cb9d-467b-ac48-5a16fbd67a76"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@coffee_owner.com"], ["encrypted_password", "$2a$04$IMuGvhoGzMY2dG3FcsQt6ONH2z7MMNa20rpZQg7nyUZ.p0rnbnone"], ["created_at", "2019-10-21 11:18:25.765139"], ["updated_at", "2019-10-21 11:18:25.765139"], ["jti", "49e11ee8-fef3-4e03-aace-a0547b72fb3c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10257" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10257"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bd3ebd76-cb9d-467b-ac48-5a16fbd67a76"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10257], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10257], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@player.com"], ["encrypted_password", "$2a$04$l5esYIhItxCDwTdXDAO97OroA6PZ.F2JQ/nr3dH98EkLZrsD396C6"], ["created_at", "2019-10-21 11:18:25.787371"], ["updated_at", "2019-10-21 11:18:25.787371"], ["jti", "41033cc5-7f15-47bf-9bd2-166834373359"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (4.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_expert.com"], ["encrypted_password", "$2a$04$4xSEeOHxgyget3k0gs8X9.ZGM.EHH.TVT9Wu7h5FyxJ1FK9kagMAO"], ["created_at", "2019-10-21 11:18:25.794129"], ["updated_at", "2019-10-21 11:18:25.794129"], ["jti", "a80593f9-8649-459d-a0f6-f00e4da831ea"], ["role", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10259" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10259"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "41033cc5-7f15-47bf-9bd2-166834373359"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10259], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10259], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@player.com"], ["encrypted_password", "$2a$04$AhadK3hs.lIYJK/E.5xaJeFLbX5GBu2csTY6rYsc5EsEM3aeK7uTy"], ["created_at", "2019-10-21 11:18:25.822594"], ["updated_at", "2019-10-21 11:18:25.822594"], ["jti", "f0155b52-b17d-46be-a5d2-ec3ff35442fc"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_admin.com"], ["encrypted_password", "$2a$04$xQfeK82s0f9J7IDC0RuW3epgbx6o.hqDwEP24NtPuvZvsRTXy1sF6"], ["created_at", "2019-10-21 11:18:25.829481"], ["updated_at", "2019-10-21 11:18:25.829481"], ["jti", "39ad7222-d4ed-4e44-b86c-63f6ecf55deb"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10261" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10261"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f0155b52-b17d-46be-a5d2-ec3ff35442fc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10261], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10261], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@player.com"], ["encrypted_password", "$2a$04$vXwQ3iEvKBz11XXMPKtPEu.4sYZZl7MEPFDX3bfUSZTABNyaSIwbK"], ["created_at", "2019-10-21 11:18:25.860762"], ["updated_at", "2019-10-21 11:18:25.860762"], ["jti", "ba9f3afd-c409-43ba-8da7-d154850447bb"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_master.com"], ["encrypted_password", "$2a$04$aNN6qyW9u1tKwmhBVzoVru3kCpAU9QlW0LxjTitTzuuUShchZK0Lu"], ["created_at", "2019-10-21 11:18:25.868102"], ["updated_at", "2019-10-21 11:18:25.868102"], ["jti", "5fe7a510-1af5-449c-b7ea-b115af67bbc2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@player.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10263" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10263"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ba9f3afd-c409-43ba-8da7-d154850447bb"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10263], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10263], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@player.com"], ["encrypted_password", "$2a$04$AL7yIJ62AL82ZCzZU5bAFuFCBt3mYWqxRI6nJUxtSmPQgJ6MHt8C2"], ["created_at", "2019-10-21 11:18:25.896383"], ["updated_at", "2019-10-21 11:18:25.896383"], ["jti", "f29cb6e2-eded-4114-a59e-8120b98d5f9a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10264" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10264"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f29cb6e2-eded-4114-a59e-8120b98d5f9a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10264], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:25.911555"], ["updated_at", "2019-10-21 11:18:25.913091"], ["id", 10264]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@player.com"], ["encrypted_password", "$2a$04$An7LbrJryyqIzA0wbhQd6Oqa3HbTmrZGKrC4zCpi5MzHmPeuxvp7q"], ["created_at", "2019-10-21 11:18:25.935730"], ["updated_at", "2019-10-21 11:18:25.935730"], ["jti", "3e8b591d-6faa-4c14-a265-f03db297c878"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@player.com"], ["encrypted_password", "$2a$04$vw2AQRJgrUkMO4JqqDqxYO7bKgysiOObnBKYcOOwl6Z5nEW2MW6R6"], ["created_at", "2019-10-21 11:18:25.943798"], ["updated_at", "2019-10-21 11:18:25.943798"], ["jti", "9fe36085-739e-4a6c-9636-bc280b23cc34"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10266" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10266"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3e8b591d-6faa-4c14-a265-f03db297c878"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10266], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@player.com"], ["encrypted_password", "$2a$04$MamZaX7AiyOhUQsz97i7mO8cCpwYf5.NvneFnG0qGgWa.wtwVBJTi"], ["created_at", "2019-10-21 11:18:25.967870"], ["updated_at", "2019-10-21 11:18:25.967870"], ["jti", "dbaec546-07e7-414d-9ef2-ad87ee5d807b"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@coffee_owner.com"], ["encrypted_password", "$2a$04$twSQYXjJVO4mTfwhn4UO..Inmh0oKO.W/Txhk0cgYcolRlAk6BpPi"], ["created_at", "2019-10-21 11:18:25.975332"], ["updated_at", "2019-10-21 11:18:25.975332"], ["jti", "05bec982-7e16-429d-b96b-91d738ba15ac"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10268" for 127.0.0.1 at 2019-10-21 14:48:25 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10268"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dbaec546-07e7-414d-9ef2-ad87ee5d807b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10268], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@player.com"], ["encrypted_password", "$2a$04$5/DYTo/CL81.CogVKfFzy.PiuP31ryXG1wAi8S6LbddthiCMBIfUW"], ["created_at", "2019-10-21 11:18:26.002222"], ["updated_at", "2019-10-21 11:18:26.002222"], ["jti", "2c99b274-ad33-492b-8549-28b20acfc757"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_expert.com"], ["encrypted_password", "$2a$04$U4eYxzB2EQB3aDdArCT9/OycmkDTJOKfSccmpaUFuh0wd8p/w02ZW"], ["created_at", "2019-10-21 11:18:26.010970"], ["updated_at", "2019-10-21 11:18:26.010970"], ["jti", "bbc9dbb3-2509-4d65-a499-db89f24620e9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10270" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10270"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2c99b274-ad33-492b-8549-28b20acfc757"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10270], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@player.com"], ["encrypted_password", "$2a$04$4UVTHFLhhFzEYaikrrmpIuU1qnLxm8mG7Xz1.mkFo7R2MhMcm6ojy"], ["created_at", "2019-10-21 11:18:26.050790"], ["updated_at", "2019-10-21 11:18:26.050790"], ["jti", "bb82309d-ecc8-473c-83ba-47811b0c9140"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_admin.com"], ["encrypted_password", "$2a$04$RKhCCzwQbb7ZuNg08JXOOu3XcB2TX7bPMf/MKIeKI9Cm6zLREU1pW"], ["created_at", "2019-10-21 11:18:26.056059"], ["updated_at", "2019-10-21 11:18:26.056059"], ["jti", "8c86857a-a80e-4b83-84d9-d312b67f2d4c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10272" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10272"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bb82309d-ecc8-473c-83ba-47811b0c9140"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10272], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@player.com"], ["encrypted_password", "$2a$04$wJvfNKbObOz4Ahf3w1/APujLGA3nT.I2ylTJ5bcltyCDnwOwgmH0O"], ["created_at", "2019-10-21 11:18:26.076677"], ["updated_at", "2019-10-21 11:18:26.076677"], ["jti", "8e97cbd0-f93b-43d2-bcf0-79868728d961"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_master.com"], ["encrypted_password", "$2a$04$jc2IQaCZmaYvSXaQD2Cs7OeU/rGdHhpc6p2NulXo349dtC3dchft2"], ["created_at", "2019-10-21 11:18:26.081930"], ["updated_at", "2019-10-21 11:18:26.081930"], ["jti", "fadf0961-0667-4511-bec2-d2d4e17e8cda"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10274" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10274"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8e97cbd0-f93b-43d2-bcf0-79868728d961"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10274], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_admin.com"], ["encrypted_password", "$2a$04$eQf83Ri.GAyuBmPKfRCHtevlg.a3KHN5UEovlV1P79ogiuhjqYw9i"], ["created_at", "2019-10-21 11:18:26.098625"], ["updated_at", "2019-10-21 11:18:26.098625"], ["jti", "cc60f7aa-ede0-422f-a212-4ccdfda5893d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cc60f7aa-ede0-422f-a212-4ccdfda5893d"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$pRfDVZMe8S8euF8FEByg6OECmZKuUSUvT3XT1kEJdXnKfxxgmi6hK"], ["created_at", "2019-10-21 11:18:26.114354"], ["updated_at", "2019-10-21 11:18:26.114354"], ["jti", "b9f9ea44-fd67-433d-8cfa-7e869156c6cd"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_admin.com"], ["encrypted_password", "$2a$04$qv/ose3bez6NIQY6mMNmEOBoNhZprtNYNiXopE9ttxCUgazjxkzSi"], ["created_at", "2019-10-21 11:18:26.124839"], ["updated_at", "2019-10-21 11:18:26.124839"], ["jti", "4df7f484-9fdd-4808-92bf-0d5d32abb59e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4df7f484-9fdd-4808-92bf-0d5d32abb59e"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$f91TvS8WWJOvDH74fR6o7eQ85gWXdAMbQlMVeskdQPwI.9xR2ltIy"], ["created_at", "2019-10-21 11:18:26.143422"], ["updated_at", "2019-10-21 11:18:26.143422"], ["jti", "06560ec1-2d1a-4b1c-a3d4-a5e5a1744ca4"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_admin.com"], ["encrypted_password", "$2a$04$OcKnwCDECUc65JgohUIqjegYqITid9kOYfAYZQS5Ez0kkf8u8CT4a"], ["created_at", "2019-10-21 11:18:26.152671"], ["updated_at", "2019-10-21 11:18:26.152671"], ["jti", "00c0051b-b888-4b99-b4bf-bef78abe2a24"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "00c0051b-b888-4b99-b4bf-bef78abe2a24"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$nwHfjmWZM7l6rf9q6MDzXeozczO8k34rPXi1dXExYsPtL.gp.fx2u"], ["created_at", "2019-10-21 11:18:26.166934"], ["updated_at", "2019-10-21 11:18:26.166934"], ["jti", "aaf7dc32-a59d-4983-aa98-ba63a7eee012"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_admin.com"], ["encrypted_password", "$2a$04$.ZXtUwUM1bswAG.U4VPcUOBm4J68rOUGOxe1yiFFuRqYvV/eEngji"], ["created_at", "2019-10-21 11:18:26.177353"], ["updated_at", "2019-10-21 11:18:26.177353"], ["jti", "2574866b-2226-45a0-917d-e0f710c2ce38"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2574866b-2226-45a0-917d-e0f710c2ce38"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$7I1uOPw52ExuGPFC2hgodebFXhNWJme3iXhdmJ7if5h5Fy3iDQRH6"], ["created_at", "2019-10-21 11:18:26.193415"], ["updated_at", "2019-10-21 11:18:26.193415"], ["jti", "56b09e19-feee-4569-aa24-8b5d1c9fb5e4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_admin.com"], ["encrypted_password", "$2a$04$iEGAZBPTLI.yPBN0R3MJ9eDN8nKVGMRUgAn6Pi/0v7vCq7rK33S.6"], ["created_at", "2019-10-21 11:18:26.204913"], ["updated_at", "2019-10-21 11:18:26.204913"], ["jti", "eaf7af66-7b09-42d9-a05d-d6484c96e5b0"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "eaf7af66-7b09-42d9-a05d-d6484c96e5b0"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$7K7.ep9//Azo6u3eVGnfN.hXc/RdqxXhCgPX46hh0U2WtvPzI/dbK"], ["created_at", "2019-10-21 11:18:26.221224"], ["updated_at", "2019-10-21 11:18:26.221224"], ["jti", "0efa29d1-8312-4bb3-bc4c-f271a41d9654"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_admin.com"], ["encrypted_password", "$2a$04$JtBXOSDwt4TDh4Q5eKC0PuE/G2O1HGy85n/1F.YPFP9L3iONEPiHW"], ["created_at", "2019-10-21 11:18:26.230317"], ["updated_at", "2019-10-21 11:18:26.230317"], ["jti", "57b53dde-ad72-4de7-9158-537e56380d53"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10285" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10285"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57b53dde-ad72-4de7-9158-537e56380d53"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10285], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10285], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$HsKWHZ5Nh2cKr3oDTwmwI.x/nPyl84atYzBMMO4UuJ/XboCmPD9nm"], ["role", 4], ["updated_at", "2019-10-21 11:18:26.248172"], ["id", 10285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57b53dde-ad72-4de7-9158-537e56380d53"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57b53dde-ad72-4de7-9158-537e56380d53"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "713332d3-fcf5-4603-af65-68b3c5586417"], ["id", 10285]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10285], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "ef15a712-02c0-4d19-a1bb-7a7a1d05fb85"], ["id", 10285]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10285], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10285], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10285], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_admin.com"], ["encrypted_password", "$2a$04$46.fL8yDbAYAQQbLZKuCS.f.DoeXiYUai61MyjaeaEGA.viDXOBvG"], ["created_at", "2019-10-21 11:18:26.273874"], ["updated_at", "2019-10-21 11:18:26.273874"], ["jti", "32c75274-ec7f-4be6-84ed-c1523332c792"], ["role", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10286" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10286"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "32c75274-ec7f-4be6-84ed-c1523332c792"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10286], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10286], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$wZh6qxnIlym0aXpwca1pMegnuhVALM66Etim0mVza7I.ZVjrxV87W"], ["role", 3], ["updated_at", "2019-10-21 11:18:26.293858"], ["id", 10286]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 2.0ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "32c75274-ec7f-4be6-84ed-c1523332c792"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "32c75274-ec7f-4be6-84ed-c1523332c792"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "69b8f49c-486e-419c-8377-e8bf4e97ca37"], ["id", 10286]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10286], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "cbe16124-b0a8-4c23-bcb3-1e4cebba9d97"], ["id", 10286]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10286], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10286], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10286], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_admin.com"], ["encrypted_password", "$2a$04$6HQBcllt9Pm0jv7ERHDf/uEL5Z/4a2SUUAXiAwa7uEcnm1pSi4ZlK"], ["created_at", "2019-10-21 11:18:26.322686"], ["updated_at", "2019-10-21 11:18:26.322686"], ["jti", "90a00d72-8f90-4c7e-9bdd-01bcefc45944"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10287" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10287"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "90a00d72-8f90-4c7e-9bdd-01bcefc45944"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10287], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10287], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$dfTw9KXzn5TYqIM0oNy0Qe3i5M6eBgUKBIMhQrGm.WjY.LWLGJAeO"], ["role", 2], ["updated_at", "2019-10-21 11:18:26.338673"], ["id", 10287]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "90a00d72-8f90-4c7e-9bdd-01bcefc45944"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "90a00d72-8f90-4c7e-9bdd-01bcefc45944"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "2153d2c4-bb3f-4039-ac45-2821c98f185a"], ["id", 10287]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10287], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "d1da63cd-99dc-4c39-ae10-e1b942d409c4"], ["id", 10287]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10287], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10287], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10287], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_admin.com"], ["encrypted_password", "$2a$04$iqn6a9J4B5SWn7zXrqzps.cidCpa6t7G4uk5fikdczs8w6BFDOM7O"], ["created_at", "2019-10-21 11:18:26.373324"], ["updated_at", "2019-10-21 11:18:26.373324"], ["jti", "e1689b83-86f4-4804-871e-40c644ce2550"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10288" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10288"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e1689b83-86f4-4804-871e-40c644ce2550"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10288], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10288], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$qWOsTRMvyg.vwNs0XKcQXupafOMyu1J/a5dyMJ8/w9roHHC/qs0mS"], ["updated_at", "2019-10-21 11:18:26.387530"], ["id", 10288]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e1689b83-86f4-4804-871e-40c644ce2550"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e1689b83-86f4-4804-871e-40c644ce2550"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "5e29507c-72b4-4e33-af8a-52caa579be74"], ["id", 10288]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10288], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "fbd8b916-9736-44c1-ac08-b05323398a0f"], ["id", 10288]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10288], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10288], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10288], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_admin.com"], ["encrypted_password", "$2a$04$DKEdxp34trgmE5Ab6pM/yuVxGvOxOdenIBYF.D1hEdIFkfOJkjPBC"], ["created_at", "2019-10-21 11:18:26.413824"], ["updated_at", "2019-10-21 11:18:26.413824"], ["jti", "009d5479-4204-457c-b424-ff931dc01756"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10289" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10289"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "009d5479-4204-457c-b424-ff931dc01756"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10289], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10289], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$8wCwXqI64j08pzEdPb7NpuyhrVuLxaIoPaE9dQ5vpoTYim9NbyYEu"], ["updated_at", "2019-10-21 11:18:26.428933"], ["id", 10289]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "009d5479-4204-457c-b424-ff931dc01756"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "009d5479-4204-457c-b424-ff931dc01756"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "11492097-8862-4796-ae51-1064f38016d6"], ["id", 10289]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10289], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "caefc3b9-9e5a-4479-8480-d034a921d119"], ["id", 10289]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10289], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10289], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10289], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_admin.com"], ["encrypted_password", "$2a$04$sn.KbQcz5NGcfhBXU8e6ue.UqA9cHLsTP/68CjfVMej6Gym.OUp.O"], ["created_at", "2019-10-21 11:18:26.458640"], ["updated_at", "2019-10-21 11:18:26.458640"], ["jti", "bbb80e34-d4a6-48ea-9624-5f2e7fd54815"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@player.com"], ["encrypted_password", "$2a$04$NDvdmhnSNqZobfgwmwaLXexWHrC.9MR8t53T505CRnqofuQjmuHGa"], ["created_at", "2019-10-21 11:18:26.464454"], ["updated_at", "2019-10-21 11:18:26.464454"], ["jti", "8ffd03a3-d152-42f0-9357-a49788416695"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10291" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10291"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bbb80e34-d4a6-48ea-9624-5f2e7fd54815"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10291], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10291], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Q3./ssZ350UQpvDQDP2dZuIVNuZvnLhy7Prrxhzqizs7xLztGc6ki"], ["updated_at", "2019-10-21 11:18:26.480888"], ["id", 10291]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10291], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_admin.com"], ["encrypted_password", "$2a$04$SdJtXVdeqSrtvn77RZC6P.kNZQNTd824KSUd1T2GzAnFxU/jqydpq"], ["created_at", "2019-10-21 11:18:26.491863"], ["updated_at", "2019-10-21 11:18:26.491863"], ["jti", "4f645ff5-d79d-48a3-abff-864571a12f11"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@player.com"], ["encrypted_password", "$2a$04$dTBt6/HEllKY2EdoZGS.YOrA1NI5NOdp0s8m2PDq.4BF18F.G2.2q"], ["created_at", "2019-10-21 11:18:26.498049"], ["updated_at", "2019-10-21 11:18:26.498049"], ["jti", "97c8b4c4-9ced-4a4e-b406-c2a1fd18c216"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10293" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10293"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4f645ff5-d79d-48a3-abff-864571a12f11"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10293], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10293], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$NQyE42Uv7SpTpdTjKj5oeuXAEm9CYLuY/dFa3OD5qd8JzovNU.JNC"], ["updated_at", "2019-10-21 11:18:26.513307"], ["id", 10293]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10293], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_admin.com"], ["encrypted_password", "$2a$04$ghDYuQV1OqAucyUopE02NemhQKlc9Glgtp7Hg9BPZNaIhjmrwesb6"], ["created_at", "2019-10-21 11:18:26.523220"], ["updated_at", "2019-10-21 11:18:26.523220"], ["jti", "2877df18-f1d4-4d81-88e1-0918de820b0f"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@player.com"], ["encrypted_password", "$2a$04$YTYYQpiYFKLvH20BypOKDuetpDQcrsjdd4Oq16wR52HQXYK0A8m.i"], ["created_at", "2019-10-21 11:18:26.527684"], ["updated_at", "2019-10-21 11:18:26.527684"], ["jti", "2de5eb78-e9c6-4123-8e74-7bbe5c7b3549"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10295" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10295"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2877df18-f1d4-4d81-88e1-0918de820b0f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10295], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10295], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$TDrJ3kxrHg/mb3azbNsEcOZ0RezCW7xU8Y.z2BDon3whl8FbW9HAW"], ["updated_at", "2019-10-21 11:18:26.541829"], ["id", 10295]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10295], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_admin.com"], ["encrypted_password", "$2a$04$vQnvshu8y7u8KLGEcVxjU.TD35uvt0MZ/SdZlUDSAihogn9KNRc/i"], ["created_at", "2019-10-21 11:18:26.551783"], ["updated_at", "2019-10-21 11:18:26.551783"], ["jti", "4277d65c-8e48-42c1-805e-51ad06677d88"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@player.com"], ["encrypted_password", "$2a$04$Wk3FrduFeicAPCi0Lo3PduvM07IJ2v1JQVaoyrUQx9pnRzBehP8qW"], ["created_at", "2019-10-21 11:18:26.556423"], ["updated_at", "2019-10-21 11:18:26.556423"], ["jti", "11ba16d2-e9ab-43e3-832d-c9d7a09effed"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10297" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10297"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4277d65c-8e48-42c1-805e-51ad06677d88"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10297], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10297], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$M6EN42gt.IK/Bv7iwZxV0.weKZsvfjGBsc5AnDB8duofBAGKsWOgi"], ["updated_at", "2019-10-21 11:18:26.570146"], ["id", 10297]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10297], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_admin.com"], ["encrypted_password", "$2a$04$XPn/QMlg2dtHCNP7YUtc.uW6BxxgQzL4U8acslLHsYDC/FZDAmZh2"], ["created_at", "2019-10-21 11:18:26.578999"], ["updated_at", "2019-10-21 11:18:26.578999"], ["jti", "cf692d89-77fa-44e6-917d-01afd16fda58"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@coffee_owner.com"], ["encrypted_password", "$2a$04$3K6mhD0itlo6/2h2U0DoFe36vimk1OZohfsdaZ.M6XDViZBdhfOPa"], ["created_at", "2019-10-21 11:18:26.584286"], ["updated_at", "2019-10-21 11:18:26.584286"], ["jti", "dce11d76-635a-4434-9fe3-a4cf6381650b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10299" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10299"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cf692d89-77fa-44e6-917d-01afd16fda58"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10299], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10299], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$rdXUvoczY6PNxV/3V4GbYOzs.lBrOXl3WA/7iZqGpx1PYUk3iLVje"], ["updated_at", "2019-10-21 11:18:26.599851"], ["id", 10299]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10299], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_admin.com"], ["encrypted_password", "$2a$04$2uEBj4Zhx4eXAje3e1fBLuMtte7zACCE1JC3RSNOtDtfRH77gDOJm"], ["created_at", "2019-10-21 11:18:26.609315"], ["updated_at", "2019-10-21 11:18:26.609315"], ["jti", "006f4a80-9be5-487a-962d-7fd4fa3b1d20"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@coffee_owner.com"], ["encrypted_password", "$2a$04$wfFaLL3gND6exgVQg9sANeLC6MN8bdpUkQ1lBV3tMkbrS7/XldppS"], ["created_at", "2019-10-21 11:18:26.615662"], ["updated_at", "2019-10-21 11:18:26.615662"], ["jti", "18271593-26f8-4a53-831f-42511fb4c9bd"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10301" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10301"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "006f4a80-9be5-487a-962d-7fd4fa3b1d20"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10301], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10301], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$j9eJjn8c3hpEU4h6wvN6Mu7HdXPICE6h9DzTSifEbzdurjb9O..vC"], ["updated_at", "2019-10-21 11:18:26.631038"], ["id", 10301]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10301], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_admin.com"], ["encrypted_password", "$2a$04$GMx7NBNRm6tW/b/taljXf.9IMoaJ55GKib3MIBYqzcoTwEzdjCrnC"], ["created_at", "2019-10-21 11:18:26.639987"], ["updated_at", "2019-10-21 11:18:26.639987"], ["jti", "b76337e7-9699-4811-b4ee-8a5b14350488"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@coffee_owner.com"], ["encrypted_password", "$2a$04$t3V5P1rJu2A6J86iS3wLTuNHSNP7tonJ7JVPBB5vwnI7GPBIY9226"], ["created_at", "2019-10-21 11:18:26.653303"], ["updated_at", "2019-10-21 11:18:26.653303"], ["jti", "4c97c271-ef39-4ffa-a20f-6b49dd817430"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10303" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10303"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b76337e7-9699-4811-b4ee-8a5b14350488"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10303], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10303], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$ONTddIBzMkhIyV7ThPnHYO8VcDy4h/QRDW1pDxEfTPmdAvQhC9UJW"], ["updated_at", "2019-10-21 11:18:26.667456"], ["id", 10303]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10303], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_expert.com"], ["encrypted_password", "$2a$04$hywXxha690J/SIpHVwTBi.Cz.gCSA6ETIFe5gyMRAfHShyGtBK8x6"], ["created_at", "2019-10-21 11:18:26.678746"], ["updated_at", "2019-10-21 11:18:26.678746"], ["jti", "05b18bfa-8365-431a-a075-26f09ff331ba"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@coffee_owner.com"], ["encrypted_password", "$2a$04$yOThHrCiYGYeXkuXp8mg5eaJxczrCThxC40IELFUUuEmAF.IYlezG"], ["created_at", "2019-10-21 11:18:26.685675"], ["updated_at", "2019-10-21 11:18:26.685675"], ["jti", "5dc7626e-2e4d-4001-b2ab-47b9d49442b4"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10305" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10305"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "05b18bfa-8365-431a-a075-26f09ff331ba"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10305], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10305], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$wrHW9.RLL0Zem7ge6DiuXuTLtDPksZtNmgU.FraB.1/UQ6ELwy.fK"], ["updated_at", "2019-10-21 11:18:26.703306"], ["id", 10305]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10305], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@sys_admin.com"], ["encrypted_password", "$2a$04$xp2FV.es2ePGe7XV0H22f.BSPFFLGf/w17kayEwxLVfFapzjdooPC"], ["created_at", "2019-10-21 11:18:26.711978"], ["updated_at", "2019-10-21 11:18:26.711978"], ["jti", "983a34dc-d88f-47e1-9d84-a69dd03801b1"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_expert.com"], ["encrypted_password", "$2a$04$ODVrVi1chFOJTxw6s2rjDOXYdgaK/7s2rvKlI4MtR0j/kpW241b7."], ["created_at", "2019-10-21 11:18:26.718088"], ["updated_at", "2019-10-21 11:18:26.718088"], ["jti", "8a7c4ef3-b20a-4707-ad2d-0a6e82393de1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10307" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10307"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "983a34dc-d88f-47e1-9d84-a69dd03801b1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10307], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10307], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$FA.aqtAElWW7GuK247ohhuroHK.ocqnJOytVek5AhpaTUodypQlre"], ["updated_at", "2019-10-21 11:18:26.736303"], ["id", 10307]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10307], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@sys_admin.com"], ["encrypted_password", "$2a$04$nFfhzjKdXpw9iTCTu4vsdOJZkiOk/zGo.9FJrc.3xw3y25swhrCuG"], ["created_at", "2019-10-21 11:18:26.745736"], ["updated_at", "2019-10-21 11:18:26.745736"], ["jti", "845563c8-8e08-4ce2-9b25-ca696d5dbe4d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_expert.com"], ["encrypted_password", "$2a$04$KznOUWcG1PIsWDQkPeYOMeWrPwnm4GKENPW7Y6WmhSjG3AzG0hSS2"], ["created_at", "2019-10-21 11:18:26.751324"], ["updated_at", "2019-10-21 11:18:26.751324"], ["jti", "01d80fa5-264c-4582-b3c1-259e5e89fb92"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10309" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10309"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "845563c8-8e08-4ce2-9b25-ca696d5dbe4d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10309], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10309], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$5rZaJVnjEDyR0/xhW0bFz.xzHepnBDqD4Oh2sFR9gaBNRL4tLlrra"], ["updated_at", "2019-10-21 11:18:26.768022"], ["id", 10309]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10309], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@sys_admin.com"], ["encrypted_password", "$2a$04$A5aIfO9Cja2.VhPiWaIqp.vvcOMAq0V/l8uXJNIVQGSmSkc3cwypW"], ["created_at", "2019-10-21 11:18:26.776546"], ["updated_at", "2019-10-21 11:18:26.776546"], ["jti", "ef0c7891-dc4a-4788-9640-1573f323e4ba"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_expert.com"], ["encrypted_password", "$2a$04$43Ts3t9Lk9rOqzcOh8TgYeLvdm1cJnEGKbgyHs765pA8oO6KfVCfm"], ["created_at", "2019-10-21 11:18:26.781369"], ["updated_at", "2019-10-21 11:18:26.781369"], ["jti", "e842f3f3-5034-44f5-9170-2e90cba1d59f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10311" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10311"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ef0c7891-dc4a-4788-9640-1573f323e4ba"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10311], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10311], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$yWrh4Uft0Ubg9rbGj6dLtehq6e50ErWSqRFZnAr1M4S5yAP3skprm"], ["updated_at", "2019-10-21 11:18:26.798820"], ["id", 10311]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10311], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@sys_admin.com"], ["encrypted_password", "$2a$04$AFAT.zrX.O0oq.fapwHR/.9PvMqEaF/1wYFSAfGAhnfWpJPc//pKe"], ["created_at", "2019-10-21 11:18:26.809807"], ["updated_at", "2019-10-21 11:18:26.809807"], ["jti", "399ed89c-6141-4644-9af3-81fc82687beb"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_expert.com"], ["encrypted_password", "$2a$04$x4YuAOiJLWgq/oM3El62Pech357eHgahHnmR2MXenJMe8Eopb.XfG"], ["created_at", "2019-10-21 11:18:26.816026"], ["updated_at", "2019-10-21 11:18:26.816026"], ["jti", "d9d467cf-4265-48c2-98c9-aba0195c7cdd"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test52@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test52@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10313" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10313"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "399ed89c-6141-4644-9af3-81fc82687beb"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10313], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10313], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$fpmAg9hp0PAz/z1aHk8hN.Fl/.H5ijGI2VK2GQwIn/7UipG6UDc7q"], ["updated_at", "2019-10-21 11:18:26.832529"], ["id", 10313]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10313], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@sys_admin.com"], ["encrypted_password", "$2a$04$SL7JwMp4ob1ok.trAyJ3J.xh0QVdTAZD/SL/kPJBRH/6YBZPrbtZu"], ["created_at", "2019-10-21 11:18:26.843297"], ["updated_at", "2019-10-21 11:18:26.843297"], ["jti", "84ba86e8-ce46-4712-8a3a-2005999b87bf"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@sys_admin.com"], ["encrypted_password", "$2a$04$A5Pn9oCoPlr2z/7pYC.Eoubkzd5xHSKMfKY4eJDjNdkWIBu6cXenK"], ["created_at", "2019-10-21 11:18:26.848923"], ["updated_at", "2019-10-21 11:18:26.848923"], ["jti", "d0c643e0-44a0-496f-875d-cc4751a81c87"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test53@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test53@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10315" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10315"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "84ba86e8-ce46-4712-8a3a-2005999b87bf"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10315], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10315], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@sys_admin.com"], ["encrypted_password", "$2a$04$Lxa0iVRVBcDD5rD8v2./t.TWN2.CQtHhuLeVQAauJE94yOVYzXoHK"], ["created_at", "2019-10-21 11:18:26.874147"], ["updated_at", "2019-10-21 11:18:26.874147"], ["jti", "0c98be61-6fb8-4c51-8193-3f479857c903"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_master.com"], ["encrypted_password", "$2a$04$R.6RjSOACia.VuCQctb5J.ZlBnLa9aOkahFvg5VAxFsQTar7VXHEq"], ["created_at", "2019-10-21 11:18:26.879703"], ["updated_at", "2019-10-21 11:18:26.879703"], ["jti", "d641367c-90a1-4eff-a7a1-35c6f3ac0beb"], ["role", 0]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10317" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10317"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0c98be61-6fb8-4c51-8193-3f479857c903"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10317], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10317], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@sys_admin.com"], ["encrypted_password", "$2a$04$W2YPMdtRt/jmIAslbp2mQ.QEjcMRNdw5bxIWuUvoAceYdNDykSE3."], ["created_at", "2019-10-21 11:18:26.899164"], ["updated_at", "2019-10-21 11:18:26.899164"], ["jti", "a26c1cab-a862-43eb-9cdf-d11659cbfdc8"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10318" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10318"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a26c1cab-a862-43eb-9cdf-d11659cbfdc8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10318], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:26.912580"], ["updated_at", "2019-10-21 11:18:26.913277"], ["id", 10318]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@sys_admin.com"], ["encrypted_password", "$2a$04$YnwA8pJrKTG99TqGNfmfOOERue6lLC9jwh0JQycNGMqHUfFI5z6LG"], ["created_at", "2019-10-21 11:18:26.930588"], ["updated_at", "2019-10-21 11:18:26.930588"], ["jti", "3e82caad-ac64-4141-ab32-4d67f9721375"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@player.com"], ["encrypted_password", "$2a$04$Ep4uEuzdIau3uoraEEx8TOAz9YyYKMVzptVxEc0AA6tcbchin7zyu"], ["created_at", "2019-10-21 11:18:26.937296"], ["updated_at", "2019-10-21 11:18:26.937296"], ["jti", "d11f34ac-972b-42f7-a2bb-5711f1f4b349"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test57@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test57@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10320" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10320"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3e82caad-ac64-4141-ab32-4d67f9721375"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10320], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:26.950244"], ["updated_at", "2019-10-21 11:18:26.950892"], ["id", 10320]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 1.6ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@sys_admin.com"], ["encrypted_password", "$2a$04$ZhPmJXIFVpDAVITAGUmDweDDPX/wJ/AX8NAQSMkk.WGwtRpS9wBBm"], ["created_at", "2019-10-21 11:18:26.972189"], ["updated_at", "2019-10-21 11:18:26.972189"], ["jti", "39b8dc81-ebbf-4078-9ced-89862351492c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@coffee_owner.com"], ["encrypted_password", "$2a$04$j3u/VC4WgX8fkU0TEh.gj.rGZpL2SdECm4oqgPTvEVIKlUCp0TM.G"], ["created_at", "2019-10-21 11:18:26.978283"], ["updated_at", "2019-10-21 11:18:26.978283"], ["jti", "68330961-e53e-4c47-823c-1c7ed7b15195"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test58@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test58@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10322" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10322"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "39b8dc81-ebbf-4078-9ced-89862351492c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10322], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:26.990662"], ["updated_at", "2019-10-21 11:18:26.991133"], ["id", 10322]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.1ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:26 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test63@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test63@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@sys_admin.com"], ["encrypted_password", "$2a$04$Y6ClPfgNjuSy5t4Q4ZWop.yVMBVxVoz0F0dDnkJxibHreHpMIPLHu"], ["created_at", "2019-10-21 11:18:27.004383"], ["updated_at", "2019-10-21 11:18:27.004383"], ["jti", "20f87a09-c7fa-4709-b477-8db7d30fc5a0"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_expert.com"], ["encrypted_password", "$2a$04$VFeiKZykGDnqDRKLGquvZ.uhIrWGMwVT1T7x7UzuDk9IyVN7vGj.6"], ["created_at", "2019-10-21 11:18:27.009729"], ["updated_at", "2019-10-21 11:18:27.009729"], ["jti", "bc561b8d-51e3-4367-9108-f2d84c6451f3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test59@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test59@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10324" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10324"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "20f87a09-c7fa-4709-b477-8db7d30fc5a0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10324], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:27.021653"], ["updated_at", "2019-10-21 11:18:27.022405"], ["id", 10324]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@sys_admin.com"], ["encrypted_password", "$2a$04$FYQ7pmk2b0.xQ4q4z1Aod.YrSuzko0ugR0TTw3w0KMlPhnU6IVANW"], ["created_at", "2019-10-21 11:18:27.038265"], ["updated_at", "2019-10-21 11:18:27.038265"], ["jti", "09f4c38d-f203-4260-a3cc-7488b0c6eae5"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@sys_admin.com"], ["encrypted_password", "$2a$04$yZQA9eSXXMd3oiwMTBafvOUiY69Cx8hkTlL88dav3Br.84FOmjqVW"], ["created_at", "2019-10-21 11:18:27.044581"], ["updated_at", "2019-10-21 11:18:27.044581"], ["jti", "83a06042-ce02-4eb8-a750-de5e107ddb23"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test60@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test60@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10326" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10326"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09f4c38d-f203-4260-a3cc-7488b0c6eae5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10326], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@sys_admin.com"], ["encrypted_password", "$2a$04$mJ4tpeoLfNxyH2had7hwJu/NFdrnCS64X4FijcqqbLW9WjiFEgQeC"], ["created_at", "2019-10-21 11:18:27.061273"], ["updated_at", "2019-10-21 11:18:27.061273"], ["jti", "2e9db013-d512-4c34-86bc-b6e7559116af"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_master.com"], ["encrypted_password", "$2a$04$BWwJaLaTus9yKbP8ccWn0ehn6lKEdTinCkRO.JbSPEMO1b26/0dxK"], ["created_at", "2019-10-21 11:18:27.066054"], ["updated_at", "2019-10-21 11:18:27.066054"], ["jti", "0aa1576d-7f36-49f4-be86-d6f1333bc169"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10328" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10328"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2e9db013-d512-4c34-86bc-b6e7559116af"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10328], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_expert.com"], ["encrypted_password", "$2a$04$dVB87NSgxzmDTRTpVBBIq.lkQEdjWTupnm9hgo16SwpPvqxlfkxhK"], ["created_at", "2019-10-21 11:18:27.084069"], ["updated_at", "2019-10-21 11:18:27.084069"], ["jti", "9b46b466-4b86-4bce-81ee-487eb355a694"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9b46b466-4b86-4bce-81ee-487eb355a694"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$l4rvJknAJI7sKPGgY662ZuNRLtNHlSvI3ALDwoawdGhxo5573Gyri"], ["created_at", "2019-10-21 11:18:27.098451"], ["updated_at", "2019-10-21 11:18:27.098451"], ["jti", "f69c506b-9b81-4f36-9d63-d7885baae3bf"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_expert.com"], ["encrypted_password", "$2a$04$BmNzt7s/w30u2M1ZdpH6bu8TxiEPaN51NDQR3IBTlq4VpNKDz.BBS"], ["created_at", "2019-10-21 11:18:27.108013"], ["updated_at", "2019-10-21 11:18:27.108013"], ["jti", "45f1ce4d-99d6-4622-963d-8599408706b1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "45f1ce4d-99d6-4622-963d-8599408706b1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$x2DvkCG/V0O.xRq59x6iM.WESwmtS8gkbsZ8YQ.FaAGSSCYzYwy3i"], ["created_at", "2019-10-21 11:18:27.126347"], ["updated_at", "2019-10-21 11:18:27.126347"], ["jti", "0c7bb7cb-6865-4dc4-88a6-50bda9468dce"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_expert.com"], ["encrypted_password", "$2a$04$yCkHL9DZ/3lH9mkrfOh0jeh8pLs1IAoapw7e13QqtEJh9LcFwSVNm"], ["created_at", "2019-10-21 11:18:27.138151"], ["updated_at", "2019-10-21 11:18:27.138151"], ["jti", "8d406eb4-5f76-4550-82d5-68de02b8569c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8d406eb4-5f76-4550-82d5-68de02b8569c"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$0hUh23Lxr0cvsCr60xxc3OK2jwD1mBPV7X4kG0FwzlCAWpPKKU1/C"], ["created_at", "2019-10-21 11:18:27.153831"], ["updated_at", "2019-10-21 11:18:27.153831"], ["jti", "195e1177-b0a5-4d48-81b8-f4b74846d94a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_expert.com"], ["encrypted_password", "$2a$04$NvNwAa77Qe3hUVMzLhv7Se7a5b5TmixXbEZ7.H8aK9db4kOObnTPq"], ["created_at", "2019-10-21 11:18:27.165193"], ["updated_at", "2019-10-21 11:18:27.165193"], ["jti", "3fb35814-db7b-46c9-b764-621a37a0cd35"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3fb35814-db7b-46c9-b764-621a37a0cd35"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$aCl8UnZsa50KEcDjRGT.LeWfv/ivZpRsU9kkpq4pY/appDPsqdJT."], ["created_at", "2019-10-21 11:18:27.183993"], ["updated_at", "2019-10-21 11:18:27.183993"], ["jti", "573626cb-de72-42d9-a866-707a7179a0b2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_expert.com"], ["encrypted_password", "$2a$04$H2HebslbwF/bzS1PhKZYzePgzbSZjCa3IeCm4DpXN5JIIa8tdgIRy"], ["created_at", "2019-10-21 11:18:27.193888"], ["updated_at", "2019-10-21 11:18:27.193888"], ["jti", "7d239e5b-8ca8-4d22-a672-7a58b01414ad"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7d239e5b-8ca8-4d22-a672-7a58b01414ad"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$6germFOMKsOI2ye4q/05Eey9ycOBY/4RUdE3cxKt038hDpYPpxP/S"], ["created_at", "2019-10-21 11:18:27.210893"], ["updated_at", "2019-10-21 11:18:27.210893"], ["jti", "6c02abd8-5a79-4f6e-a18a-dae2e4868da2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_expert.com"], ["encrypted_password", "$2a$04$7.3q7wYYaVRcd5Pn7oT1OuUMSrgp.X/QaRNRRiY2kFazPhOVGZcde"], ["created_at", "2019-10-21 11:18:27.222288"], ["updated_at", "2019-10-21 11:18:27.222288"], ["jti", "a50e46ce-ee2d-4bf2-b4d8-e1c651f79d10"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10339" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10339"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a50e46ce-ee2d-4bf2-b4d8-e1c651f79d10"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10339], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10339], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$eoVAFPVLtInteRsUxZL5B.FjaiiGgLAmfa8rcl.PleRg84EJJWL3G"], ["role", 4], ["updated_at", "2019-10-21 11:18:27.239622"], ["id", 10339]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.0ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a50e46ce-ee2d-4bf2-b4d8-e1c651f79d10"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a50e46ce-ee2d-4bf2-b4d8-e1c651f79d10"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "dfb806ee-4507-4f58-85ab-32d01cf5ef9b"], ["id", 10339]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10339], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "59c0546d-7e36-48ff-a50f-63b5604e34e2"], ["id", 10339]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10339], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10339], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10339], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@sys_expert.com"], ["encrypted_password", "$2a$04$zexmgRlF13qslJ4sYkn3XOmcFO8Q.9/iEC5rD5vcxLjG4FURQPk8q"], ["created_at", "2019-10-21 11:18:27.267563"], ["updated_at", "2019-10-21 11:18:27.267563"], ["jti", "a93d02a4-2d56-431a-8430-ad05e7859d14"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
Started PUT "/api/users/10340" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10340"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93d02a4-2d56-431a-8430-ad05e7859d14"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10340], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10340], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$4wt8P2d1I30qLiYEKoQo0Or2.lvxRrev8yiPrGUnNsNyf6FEImb1O"], ["role", 3], ["updated_at", "2019-10-21 11:18:27.293211"], ["id", 10340]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93d02a4-2d56-431a-8430-ad05e7859d14"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93d02a4-2d56-431a-8430-ad05e7859d14"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "c751b3c3-9124-4136-b91c-7638c1dfe000"], ["id", 10340]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10340], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "5056d2bc-4ca9-48fc-848e-2a58aa4ca9de"], ["id", 10340]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10340], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10340], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10340], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@sys_expert.com"], ["encrypted_password", "$2a$04$dIA//64GpVedqvTNvR6eIupw.ELfaAR8V6JVaSnBwQg17K65hlCPC"], ["created_at", "2019-10-21 11:18:27.320732"], ["updated_at", "2019-10-21 11:18:27.320732"], ["jti", "0bd3ec3e-48c5-4b76-aedf-904df5233078"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10341" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10341"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0bd3ec3e-48c5-4b76-aedf-904df5233078"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10341], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10341], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$090fMpo0nlLbuJur18l7vOSnVSlfL9JLDlcOjzwyBFeGj/OhfoOsS"], ["updated_at", "2019-10-21 11:18:27.339617"], ["id", 10341]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0bd3ec3e-48c5-4b76-aedf-904df5233078"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0bd3ec3e-48c5-4b76-aedf-904df5233078"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "484043fa-15ce-4f77-b106-c361e804965d"], ["id", 10341]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10341], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "5a6f70aa-c162-40df-8cb9-c4a3ad965334"], ["id", 10341]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10341], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10341], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10341], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@sys_expert.com"], ["encrypted_password", "$2a$04$WOTtRMkfJKuX1PfRpouxl.EeDKYVqe16BghsyMf7siabKLWmoUWIm"], ["created_at", "2019-10-21 11:18:27.366875"], ["updated_at", "2019-10-21 11:18:27.366875"], ["jti", "5e5ba595-9d2f-4811-b74d-b1e90f7d7631"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10342" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10342"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5e5ba595-9d2f-4811-b74d-b1e90f7d7631"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10342], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10342], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$HMX65kz6YNSbTyY9NAcLC.8m3Bdqx5iEdInzcYSKjlOnFdbzfVj3S"], ["updated_at", "2019-10-21 11:18:27.383483"], ["id", 10342]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.6ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5e5ba595-9d2f-4811-b74d-b1e90f7d7631"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5e5ba595-9d2f-4811-b74d-b1e90f7d7631"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "94018187-954f-442c-aa32-8236d66a2ea3"], ["id", 10342]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10342], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "59a83947-18f4-4bd0-b27f-bdffcfe2b88f"], ["id", 10342]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10342], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10342], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10342], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@sys_expert.com"], ["encrypted_password", "$2a$04$B1lF4pa0x5.lD544pnXx1u9lE0v8kP1piNIGuLpBe7cdV6oogqlxu"], ["created_at", "2019-10-21 11:18:27.409641"], ["updated_at", "2019-10-21 11:18:27.409641"], ["jti", "06b1aa93-1f56-45b8-b2e5-bfac31a5d4de"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@player.com"], ["encrypted_password", "$2a$04$5T9YV/4BUC0Bjg2cM/XC2.SO0tKbZObVxqmUhY3DwYZMqeUgR7B36"], ["created_at", "2019-10-21 11:18:27.415404"], ["updated_at", "2019-10-21 11:18:27.415404"], ["jti", "30f5b4a1-eb5e-4e10-b7d8-6353d9049db1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test52@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test52@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10344" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10344"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "06b1aa93-1f56-45b8-b2e5-bfac31a5d4de"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10344], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10344], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$ecsPot.SLz.T5N7ZbhdW8uZM/pBE6eqqkeX/ZLK1iSWTE8LB5Vj1W"], ["updated_at", "2019-10-21 11:18:27.432044"], ["id", 10344]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10344], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@sys_expert.com"], ["encrypted_password", "$2a$04$6QPh5ckkUdnmF1F28j4r0.HW8vrGK7zYOOfa3hEOcD3rgWSKn.NTy"], ["created_at", "2019-10-21 11:18:27.443014"], ["updated_at", "2019-10-21 11:18:27.443014"], ["jti", "7d1e064f-fdb4-4574-b65b-48933564b35d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@player.com"], ["encrypted_password", "$2a$04$Kr23OP4NmhfzlwZ9SeV2zuqs54XFA5IisKVIqtxYHhwoopKU0q3I6"], ["created_at", "2019-10-21 11:18:27.449602"], ["updated_at", "2019-10-21 11:18:27.449602"], ["jti", "4e7f4509-a69a-43fe-bf3f-69f7ff9e314e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test53@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test53@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10346" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10346"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7d1e064f-fdb4-4574-b65b-48933564b35d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10346], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10346], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$sSWuAWiPjK9m0t6x4qLEv.YB4AZtppnjdX8333Zvv5jCplmws8uHW"], ["updated_at", "2019-10-21 11:18:27.466527"], ["id", 10346]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10346], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@sys_expert.com"], ["encrypted_password", "$2a$04$MtQIzfLd1H1AELnJ7aOJg.w5e1f32Z/kcaTtUYbqECxo/m5wNU.I."], ["created_at", "2019-10-21 11:18:27.476322"], ["updated_at", "2019-10-21 11:18:27.476322"], ["jti", "dffaacc3-f048-4cda-812c-d553d4b0b302"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@player.com"], ["encrypted_password", "$2a$04$nRiZFJTrNu0gmWNH6otWpOz1sjlXKd2AZ9H8hJY6y9aFSnxdy46ay"], ["created_at", "2019-10-21 11:18:27.482594"], ["updated_at", "2019-10-21 11:18:27.482594"], ["jti", "54c40e48-58fe-403c-b68c-9ecdb94e7922"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test54@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test54@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10348" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10348"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dffaacc3-f048-4cda-812c-d553d4b0b302"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10348], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10348], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$qavQnyl5qdm3WSeFgZvbLuiEpEZj0FYv4b5lJxxqxALW588tIP9BG"], ["updated_at", "2019-10-21 11:18:27.497881"], ["id", 10348]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10348], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@sys_expert.com"], ["encrypted_password", "$2a$04$AsIvdAD3zC9gz82pyr9umectfR2EK8aOysgSHvG24gUhjncyGKILq"], ["created_at", "2019-10-21 11:18:27.505996"], ["updated_at", "2019-10-21 11:18:27.505996"], ["jti", "e02237a6-97a8-431c-8aba-637367ebef71"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@coffee_owner.com"], ["encrypted_password", "$2a$04$XAg210JXvRXUsHlTdhz9U.Px7z74TjMtMnuOdAFB1mevHlNtETNBK"], ["created_at", "2019-10-21 11:18:27.511950"], ["updated_at", "2019-10-21 11:18:27.511950"], ["jti", "0ee3c499-0b9b-48ec-a42b-de736176798f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10350" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10350"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e02237a6-97a8-431c-8aba-637367ebef71"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10350], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10350], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$A00gZ7f2pXo8CoSpYqiNJ.20AcwEh9.DBCpyb6NkgW2WQqzzKxRpe"], ["updated_at", "2019-10-21 11:18:27.527147"], ["id", 10350]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10350], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@sys_expert.com"], ["encrypted_password", "$2a$04$UH18X3dbc8goZueE9nO19uXcXIrhFptDEcPIQOJqdUYk2ejO6rsbe"], ["created_at", "2019-10-21 11:18:27.535868"], ["updated_at", "2019-10-21 11:18:27.535868"], ["jti", "c26dc83e-c00b-43a5-b0ed-2a5b469b8b73"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@coffee_owner.com"], ["encrypted_password", "$2a$04$l0Vgy/02Mb89A9TnTZiGUO9fG8iuxRiVB3rXuMNPnN7ZTqehXG9Xe"], ["created_at", "2019-10-21 11:18:27.540785"], ["updated_at", "2019-10-21 11:18:27.540785"], ["jti", "a28b7b18-e56e-4f99-9969-d461121b0a48"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10352" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10352"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c26dc83e-c00b-43a5-b0ed-2a5b469b8b73"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10352], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10352], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$z3PnY2hGxZwd6Ii5tbtB6uVDNzx0gon4tBAnEZR1UTa4.Nqos8nBy"], ["updated_at", "2019-10-21 11:18:27.556096"], ["id", 10352]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10352], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@sys_expert.com"], ["encrypted_password", "$2a$04$SCAdqn7THsy6DWaKRSPzge7Icp/syEmEuI27unXQ6cYJHnlEBv1V."], ["created_at", "2019-10-21 11:18:27.565407"], ["updated_at", "2019-10-21 11:18:27.565407"], ["jti", "b8fadcce-90af-46ea-9857-890a52b79d69"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@coffee_owner.com"], ["encrypted_password", "$2a$04$CgORF7ThZ9cct/aoUqaKF.51F.lK/UWj6vdTAuuXJLq0lDgvF6Oy2"], ["created_at", "2019-10-21 11:18:27.570097"], ["updated_at", "2019-10-21 11:18:27.570097"], ["jti", "794b8a53-9d2d-4e0c-bf05-d1c54fb3c0ef"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test57@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test57@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started PUT "/api/users/10354" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10354"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b8fadcce-90af-46ea-9857-890a52b79d69"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10354], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10354], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$KzoLkNWPKiw/enntrSTjBuoL.tYhr7wFBojhXrxtNgD/OI7mHdkj2"], ["updated_at", "2019-10-21 11:18:27.593292"], ["id", 10354]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10354], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@sys_expert.com"], ["encrypted_password", "$2a$04$Yur6wq5Wcz65iBWi2r81i.sJoaRhQCB/qTTElwwipmb73mNFbFqJu"], ["created_at", "2019-10-21 11:18:27.601734"], ["updated_at", "2019-10-21 11:18:27.601734"], ["jti", "7625eca2-e935-4e50-89b4-e9de8e2215ad"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@sys_expert.com"], ["encrypted_password", "$2a$04$Wnw6HQ6ZJ.DWNY39UC4Iw.c4o3szIQJ3kLNkORWmGteA2kJzaDMyG"], ["created_at", "2019-10-21 11:18:27.607814"], ["updated_at", "2019-10-21 11:18:27.607814"], ["jti", "8a3a83ae-ec6b-4354-aa41-c3049e89504c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test58@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test58@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10356" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10356"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7625eca2-e935-4e50-89b4-e9de8e2215ad"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10356], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10356], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@sys_expert.com"], ["encrypted_password", "$2a$04$I24mrXdHsPhfNpAQnPuDuOIM5tabbfeXgr0IVCowRR6WZRLI4A6Ey"], ["created_at", "2019-10-21 11:18:27.627142"], ["updated_at", "2019-10-21 11:18:27.627142"], ["jti", "29e745b7-3baa-40d6-b594-70072a7b6955"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@sys_admin.com"], ["encrypted_password", "$2a$04$Gom/DmlwTdkUutJzT62MUudkiQQnMO/DiV/9yaqPAufIVeTpgUjb2"], ["created_at", "2019-10-21 11:18:27.632932"], ["updated_at", "2019-10-21 11:18:27.632932"], ["jti", "f2681bad-a260-463d-946b-9d4beae107e6"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test60@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test60@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10358" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10358"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "29e745b7-3baa-40d6-b594-70072a7b6955"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10358], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10358], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@sys_expert.com"], ["encrypted_password", "$2a$04$N3rA4YnP2oWRbxwvGm7f8esK8ZLGT0uDjo6BzuwUVZIbfeRaOiAtC"], ["created_at", "2019-10-21 11:18:27.653161"], ["updated_at", "2019-10-21 11:18:27.653161"], ["jti", "0bd31b0a-3887-4a48-9bb0-fdef28345643"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_master.com"], ["encrypted_password", "$2a$04$g1qGuohsTKZ19G7LoAto.e0UZ0jZ9ny65XPgV6b.ZbLhv5uE.tYSy"], ["created_at", "2019-10-21 11:18:27.658476"], ["updated_at", "2019-10-21 11:18:27.658476"], ["jti", "cefeff0f-888a-44db-bf39-6cd3c3dfd29e"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test61@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test61@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10360" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10360"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0bd31b0a-3887-4a48-9bb0-fdef28345643"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10360], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10360], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@sys_expert.com"], ["encrypted_password", "$2a$04$o8jbRKbJ3yXAOlua.W6jLOZ8ZXjw7BxV2tLtNIUR3HvIofQzyW1xG"], ["created_at", "2019-10-21 11:18:27.677678"], ["updated_at", "2019-10-21 11:18:27.677678"], ["jti", "e034bb54-6ded-46ed-a0b7-eeb0ea2a6e2d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10361" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10361"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e034bb54-6ded-46ed-a0b7-eeb0ea2a6e2d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10361], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:27.689131"], ["updated_at", "2019-10-21 11:18:27.689580"], ["id", 10361]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 1.1ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@sys_expert.com"], ["encrypted_password", "$2a$04$0K904FUHHr4zYSzFsFaGPO39SqDx86rNgQnJlIMRWRyZi/95dPZWC"], ["created_at", "2019-10-21 11:18:27.704254"], ["updated_at", "2019-10-21 11:18:27.704254"], ["jti", "fdb32e7c-35d3-43d4-a689-97f7f6cded17"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@player.com"], ["encrypted_password", "$2a$04$Wh3Hv5SGerro5yvbZknsDubyu.DWcRSpPVimA2tW/xydh0cFd6fa6"], ["created_at", "2019-10-21 11:18:27.709806"], ["updated_at", "2019-10-21 11:18:27.709806"], ["jti", "50679b63-164b-40ba-b574-01d0ba2d7fa2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test63@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test63@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10363" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10363"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fdb32e7c-35d3-43d4-a689-97f7f6cded17"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10363], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:27.721216"], ["updated_at", "2019-10-21 11:18:27.721745"], ["id", 10363]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@sys_expert.com"], ["encrypted_password", "$2a$04$O/BjxfsG8Ukh689fHqCUkOTbQoUaJxV33fxOz66GfhcV0QeoGdNie"], ["created_at", "2019-10-21 11:18:27.737485"], ["updated_at", "2019-10-21 11:18:27.737485"], ["jti", "e3b7744a-8c8e-4e7f-813b-2c6e6d8683ce"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@coffee_owner.com"], ["encrypted_password", "$2a$04$JjHb6mwZBz7F5ksbqy6/Ruenx0N52UXLEwrgupXj1x834cV.FO8MC"], ["created_at", "2019-10-21 11:18:27.743154"], ["updated_at", "2019-10-21 11:18:27.743154"], ["jti", "a8ee3e9e-50a7-40c1-b03d-056013f4e8b6"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test64@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test64@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/10365" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10365"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e3b7744a-8c8e-4e7f-813b-2c6e6d8683ce"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10365], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:27.755163"], ["updated_at", "2019-10-21 11:18:27.755833"], ["id", 10365]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test67@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test67@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@sys_expert.com"], ["encrypted_password", "$2a$04$c/ooEQyTgKpvPUlh6/CFTe2myABWbaWASaY.73CT2Ci0BJ9A/nkHS"], ["created_at", "2019-10-21 11:18:27.771125"], ["updated_at", "2019-10-21 11:18:27.771125"], ["jti", "3b521ef1-92bc-4691-9e19-8b4a4e646fba"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@sys_expert.com"], ["encrypted_password", "$2a$04$szJvUJng1jPsGwgKbZrpKu/eKfrVELV/81iU9uNIfVogzm9YghCIO"], ["created_at", "2019-10-21 11:18:27.775613"], ["updated_at", "2019-10-21 11:18:27.775613"], ["jti", "6c46d74a-2439-42ed-a18e-0bc3b2051c97"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test65@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test65@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10367" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10367"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3b521ef1-92bc-4691-9e19-8b4a4e646fba"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10367], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@sys_expert.com"], ["encrypted_password", "$2a$04$kBhZH7WLLkSO15bbTaxsLeVCNTrnRS/E7pdnsuLxVZksa1aA4vzJO"], ["created_at", "2019-10-21 11:18:27.791585"], ["updated_at", "2019-10-21 11:18:27.791585"], ["jti", "5c6374bc-4244-4e72-99ff-9fe8ac227b1f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@sys_admin.com"], ["encrypted_password", "$2a$04$iBQh8DvYkeGGCr7UT6HXuei6mi9UhpldNedrme88VpL657jS9hizu"], ["created_at", "2019-10-21 11:18:27.797059"], ["updated_at", "2019-10-21 11:18:27.797059"], ["jti", "c1300224-6357-4a47-9e17-5e0898f14016"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test67@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test67@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10369" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10369"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5c6374bc-4244-4e72-99ff-9fe8ac227b1f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10369], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@sys_expert.com"], ["encrypted_password", "$2a$04$uoL6CpzbEql4PDS2YKNa.u/sMwDa.FyYYGi/YxBPhp7a8spdZGABO"], ["created_at", "2019-10-21 11:18:27.813300"], ["updated_at", "2019-10-21 11:18:27.813300"], ["jti", "fc14f6a3-1223-4329-8bd9-9cb0e392a9d2"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_master.com"], ["encrypted_password", "$2a$04$lWgLouyOMJ1LrQsw8gQxWeqjnDQzT/2LZw315xCNqUzA9TmfiB0we"], ["created_at", "2019-10-21 11:18:27.818193"], ["updated_at", "2019-10-21 11:18:27.818193"], ["jti", "56cc0e6b-093a-41cc-93e7-836c7fc84f5a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test68@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test68@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10371" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10371"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fc14f6a3-1223-4329-8bd9-9cb0e392a9d2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10371], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_master.com"], ["encrypted_password", "$2a$04$8/BNmy2.DzzQibIVbZPlguWDDb/0snHoYatwUxTPZ6d6BNq/hbAfe"], ["created_at", "2019-10-21 11:18:27.837454"], ["updated_at", "2019-10-21 11:18:27.837454"], ["jti", "e912fc6f-499b-449c-a402-1da82b93fc38"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e912fc6f-499b-449c-a402-1da82b93fc38"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$lD/A2VTulWPyxON0uw6kIe.TGf.6bhaduKkUosqVqSrparphIHeXW"], ["created_at", "2019-10-21 11:18:27.856528"], ["updated_at", "2019-10-21 11:18:27.856528"], ["jti", "70602fd7-5541-4a3e-bdee-62e5fbc38371"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_master.com"], ["encrypted_password", "$2a$04$BLDiPBZkbzyLg7MDha7Lmup28P1MLdnWbpzr6qjQlNa53KSla4YZ."], ["created_at", "2019-10-21 11:18:27.879099"], ["updated_at", "2019-10-21 11:18:27.879099"], ["jti", "82095c21-bd2b-4b03-a21f-f09a3e88e756"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "82095c21-bd2b-4b03-a21f-f09a3e88e756"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$KtGHciE2J1nSG.fChfhl1O5oDqdOR3Wl8RnW7YGxKtFB5vwNgmHt."], ["created_at", "2019-10-21 11:18:27.894942"], ["updated_at", "2019-10-21 11:18:27.894942"], ["jti", "81dc9d4b-5b0c-4e8e-b3e7-1dfcad75ab0f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_master.com"], ["encrypted_password", "$2a$04$UVtjZMzCqjlF/GHzjzoAsOojjwAIpOn8/cXGwyyEVshxVLUPj.keG"], ["created_at", "2019-10-21 11:18:27.905310"], ["updated_at", "2019-10-21 11:18:27.905310"], ["jti", "2290e18e-fe70-4dd7-bde8-3e2cd93dfdb2"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2290e18e-fe70-4dd7-bde8-3e2cd93dfdb2"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$p.ydhQHVBrxY6v79pHY3aebFOCKADLi9A3KAhSiHhX0vutl.teHPu"], ["created_at", "2019-10-21 11:18:27.921918"], ["updated_at", "2019-10-21 11:18:27.921918"], ["jti", "edfc009c-f4c1-4d60-a9ff-48e6c3678cd5"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_master.com"], ["encrypted_password", "$2a$04$PCVThI0ZzubZ.JMXDbYiWuUaAuPA/wGqd2xGdHeWfQObXK9u/rrDC"], ["created_at", "2019-10-21 11:18:27.931945"], ["updated_at", "2019-10-21 11:18:27.931945"], ["jti", "fef9e1bd-660d-49bd-8c1a-0a10c15591c7"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fef9e1bd-660d-49bd-8c1a-0a10c15591c7"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$2akqz.hSfsspe2SanC8nLOJNX5fTo48EEU84iqeDNAjgadm.RuxS."], ["created_at", "2019-10-21 11:18:27.947741"], ["updated_at", "2019-10-21 11:18:27.947741"], ["jti", "368d5579-e25d-4514-9d33-5fb91c93d8bf"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_master.com"], ["encrypted_password", "$2a$04$EwCaOLJhEdUoOmj0kJo1l.ndJyfCGvDNYHEWgP4UmRa8XvOwJXyUy"], ["created_at", "2019-10-21 11:18:27.957624"], ["updated_at", "2019-10-21 11:18:27.957624"], ["jti", "51f6f35e-9e20-4828-88fb-80a9e99560df"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "51f6f35e-9e20-4828-88fb-80a9e99560df"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$KRIiT9GNk3Li0Lz.87mdp.jSWs6W5.GzLYanfMBrkgGKKpy60piAK"], ["created_at", "2019-10-21 11:18:27.971771"], ["updated_at", "2019-10-21 11:18:27.971771"], ["jti", "68644a7a-5426-4d00-b606-cea331b4ba61"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_master.com"], ["encrypted_password", "$2a$04$FyBNDdFH17k7Zqkpz2K6AuxpnZ5iDWE26wKj3jcANCjPYSV0CLRhS"], ["created_at", "2019-10-21 11:18:27.983215"], ["updated_at", "2019-10-21 11:18:27.983215"], ["jti", "02cc00fd-eff5-47dc-8a95-0219999b7c15"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10382" for 127.0.0.1 at 2019-10-21 14:48:27 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10382"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "02cc00fd-eff5-47dc-8a95-0219999b7c15"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10382], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10382], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$k5fP9zNB9Ebxv0oUeYFkyuBKMt/AoqNnonlZQx8ngUaAEgV3pXIFa"], ["role", 4], ["updated_at", "2019-10-21 11:18:28.000984"], ["id", 10382]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "02cc00fd-eff5-47dc-8a95-0219999b7c15"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "02cc00fd-eff5-47dc-8a95-0219999b7c15"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "695da3b6-6956-4c91-b073-04470020adb6"], ["id", 10382]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10382], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "1994c70b-1cf9-4db2-90c4-3377728f6824"], ["id", 10382]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10382], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10382], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10382], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_master.com"], ["encrypted_password", "$2a$04$xfO6wQbJCVJdA6Lfup9BiOeBCw2xeXLw1UP6cCRa1ovz3dibrcGTy"], ["created_at", "2019-10-21 11:18:28.028078"], ["updated_at", "2019-10-21 11:18:28.028078"], ["jti", "8cb3d33e-fcad-454b-bb5e-d127e76f198c"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10383" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10383"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8cb3d33e-fcad-454b-bb5e-d127e76f198c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10383], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10383], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$d71DESJFAuu9sXfy2xTjR.NL2JuFayfZkDBIdvf4y2sJYmbx.nFkG"], ["role", 3], ["updated_at", "2019-10-21 11:18:28.045351"], ["id", 10383]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.8ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8cb3d33e-fcad-454b-bb5e-d127e76f198c"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8cb3d33e-fcad-454b-bb5e-d127e76f198c"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f8cba5a8-4105-48ba-8af7-3fe39e026bc2"], ["id", 10383]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10383], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "271a9506-3f47-4568-bb24-e6ede448f83d"], ["id", 10383]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10383], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10383], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10383], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_master.com"], ["encrypted_password", "$2a$04$RTWa5AxL/JKEhv.IDq7ObuGFnOOg2jxw1W/wLu0dQkzu.KDeLwPOe"], ["created_at", "2019-10-21 11:18:28.071758"], ["updated_at", "2019-10-21 11:18:28.071758"], ["jti", "3bf84ef5-2b80-4246-8d6e-751565c2e449"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10384" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10384"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3bf84ef5-2b80-4246-8d6e-751565c2e449"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10384], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10384], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$/N4rUs73GQZ8KvEFRsH85.pt/66sgYeMnp5g/hqlt8N/CukwSsWsO"], ["role", 2], ["updated_at", "2019-10-21 11:18:28.088424"], ["id", 10384]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3bf84ef5-2b80-4246-8d6e-751565c2e449"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3bf84ef5-2b80-4246-8d6e-751565c2e449"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "04fdc92d-5f50-489d-bc3b-34ef48d8b236"], ["id", 10384]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10384], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "456c87e9-c74f-447a-8007-dee138115d59"], ["id", 10384]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10384], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10384], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10384], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_master.com"], ["encrypted_password", "$2a$04$7r00RzAJS/WzviHodYpAhuh.iK1itJ2S05m76NjM9QRviD6kM0Q/y"], ["created_at", "2019-10-21 11:18:28.114891"], ["updated_at", "2019-10-21 11:18:28.114891"], ["jti", "ba9d0296-3712-4f6c-ae4a-fd191b241908"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10385" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10385"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ba9d0296-3712-4f6c-ae4a-fd191b241908"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10385], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10385], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$EV1GNoz01khSzW.5Ve2a0.EUgXvoryYN0GYDGWb5U3FzOR9qqUTQC"], ["role", 1], ["updated_at", "2019-10-21 11:18:28.130320"], ["id", 10385]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.8ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ba9d0296-3712-4f6c-ae4a-fd191b241908"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ba9d0296-3712-4f6c-ae4a-fd191b241908"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7001ea16-1bb4-42c6-807f-7a7d6a001cf5"], ["id", 10385]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10385], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "535d0906-7999-4611-8f46-921a8b79665b"], ["id", 10385]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10385], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10385], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10385], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_master.com"], ["encrypted_password", "$2a$04$UdAvBnP0/mgZ1JOG.jW4PObEHyLzajVsEIRVxMe7MpA4e5fTznuka"], ["created_at", "2019-10-21 11:18:28.159573"], ["updated_at", "2019-10-21 11:18:28.159573"], ["jti", "129e4826-035b-4c4d-9e44-23688ba54247"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10386" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10386"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "129e4826-035b-4c4d-9e44-23688ba54247"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10386], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10386], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$6s5baQlt19sFq8JyQB3ayeCP1/Vx17GBufz7IaOTjODm0pQoM7Joe"], ["updated_at", "2019-10-21 11:18:28.183638"], ["id", 10386]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "129e4826-035b-4c4d-9e44-23688ba54247"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "129e4826-035b-4c4d-9e44-23688ba54247"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "137d05bd-14b4-43de-a6b8-45e4d6be6c2f"], ["id", 10386]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10386], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f610d7bb-4be3-447c-bb2c-c6506b7c63ab"], ["id", 10386]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10386], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10386], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10386], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_master.com"], ["encrypted_password", "$2a$04$icU.dC/UlDapYY4tmVILReSMFHnt1IavZhJbyp5z1q7fXXzc5gZ16"], ["created_at", "2019-10-21 11:18:28.210983"], ["updated_at", "2019-10-21 11:18:28.210983"], ["jti", "78c97674-e850-4815-84ed-02e172d2dbc4"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@player.com"], ["encrypted_password", "$2a$04$dnFCzpdew6lk28FZdI9nzuuXOMhCADewvQCthMAT4Azau0pbyoGXm"], ["created_at", "2019-10-21 11:18:28.217407"], ["updated_at", "2019-10-21 11:18:28.217407"], ["jti", "521625c4-8b44-40ec-ac18-bbfbb8905cbe"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10388" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10388"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "78c97674-e850-4815-84ed-02e172d2dbc4"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10388], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10388], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$fJFy7KIPK6C7HfmLm9y0F.2UcENa4PcZu5Ei/L2DFA2wvG0.k0TF2"], ["updated_at", "2019-10-21 11:18:28.234066"], ["id", 10388]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10388], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_master.com"], ["encrypted_password", "$2a$04$2mCCShNKkdsPD1Av7pMk5Oaa0eAtSoeXwvokpx1m0gPebOpwHiOB6"], ["created_at", "2019-10-21 11:18:28.244243"], ["updated_at", "2019-10-21 11:18:28.244243"], ["jti", "f43ac64b-fd82-46ec-859c-832afe763ec8"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@player.com"], ["encrypted_password", "$2a$04$zS5rRNT0cDa7ldqZUy4/1O6zfa2o3nhnyNZlrR8sCN5vk.VR7Au6i"], ["created_at", "2019-10-21 11:18:28.250133"], ["updated_at", "2019-10-21 11:18:28.250133"], ["jti", "923ea416-170a-4583-a306-a9482969fb1f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10390" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10390"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f43ac64b-fd82-46ec-859c-832afe763ec8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10390], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10390], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$WkPQS76/JhKf6SWHcjDqzOnnJG1TNph.v22HrTOAcJsT4XPXLr2G2"], ["updated_at", "2019-10-21 11:18:28.267187"], ["id", 10390]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10390], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_master.com"], ["encrypted_password", "$2a$04$Q6i7jKuUadlLDM699Vi3Y.XgsLLDmWGxXg9tM75fC5.m4yo3Qzgly"], ["created_at", "2019-10-21 11:18:28.276945"], ["updated_at", "2019-10-21 11:18:28.276945"], ["jti", "d62fe752-6ea5-4c66-9ecb-77f3956ad3ae"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@player.com"], ["encrypted_password", "$2a$04$87xrWwC1eOaRU48ml8BJY.xGFrCNMsCjEszLuMKssM6XK7VRhXwqm"], ["created_at", "2019-10-21 11:18:28.282940"], ["updated_at", "2019-10-21 11:18:28.282940"], ["jti", "068e9aac-31cf-410a-a6c9-3ca327abeb2a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10392" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10392"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d62fe752-6ea5-4c66-9ecb-77f3956ad3ae"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10392], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10392], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$OYh.YB2parW9jpgG/f0dxOeFO0mBszp2cI8dD6glKX/d112PuSb4m"], ["updated_at", "2019-10-21 11:18:28.299698"], ["id", 10392]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10392], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_master.com"], ["encrypted_password", "$2a$04$Hw9xH9kG5lvvPyMHMkbIiO04VREf4rU0ohkAzgUqkumtp9YYGzGIC"], ["created_at", "2019-10-21 11:18:28.307729"], ["updated_at", "2019-10-21 11:18:28.307729"], ["jti", "da296ab8-ede1-408e-9581-11d24097d7f3"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@player.com"], ["encrypted_password", "$2a$04$uceRn8X6Lon.hl4kDxxdeOvODpjJ5nizJxYxT6N2pTvoe.uGR8wUK"], ["created_at", "2019-10-21 11:18:28.312355"], ["updated_at", "2019-10-21 11:18:28.312355"], ["jti", "1256ab87-b359-440b-80eb-1ec44c1b41ba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10394" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10394"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da296ab8-ede1-408e-9581-11d24097d7f3"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10394], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10394], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$ydHULxI2DHgNUilWuhHPmOEIoktwLoGolwK5CgrbenAMeAxzem9A6"], ["updated_at", "2019-10-21 11:18:28.327133"], ["id", 10394]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10394], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_master.com"], ["encrypted_password", "$2a$04$I.O1mka0pxblUnHMQ3td4eY80HyuuFGYus3SuPQ5BPsDjLFG6.FKK"], ["created_at", "2019-10-21 11:18:28.340347"], ["updated_at", "2019-10-21 11:18:28.340347"], ["jti", "511b4595-44a2-4b7d-8892-5f964c9595e1"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@player.com"], ["encrypted_password", "$2a$04$GkjokrcPgAwUpYyde9vRlewI7qnPUAW8C9SqnnZpi3H53jVTbEMsa"], ["created_at", "2019-10-21 11:18:28.345895"], ["updated_at", "2019-10-21 11:18:28.345895"], ["jti", "6c21bd53-808a-4e7a-b9fa-424e6649fc48"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10396" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10396"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "511b4595-44a2-4b7d-8892-5f964c9595e1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10396], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10396], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$lRJuyNjXR86znUw4puNh2.gNOvfEeSVTVx3cFYqzBR5D99Kejb8Im"], ["updated_at", "2019-10-21 11:18:28.360717"], ["id", 10396]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10396], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_master.com"], ["encrypted_password", "$2a$04$znITDFrHUDUQzt/rKp0Ozu6nzeaKy5VQ.H/IZ9VawFoPK2NuGIrMa"], ["created_at", "2019-10-21 11:18:28.369906"], ["updated_at", "2019-10-21 11:18:28.369906"], ["jti", "f43b0cdb-2441-4231-9c72-ef48d9706813"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@coffee_owner.com"], ["encrypted_password", "$2a$04$bBE.L1i070CF9abI48nttuV3R9otjVu3HJsi15ZS0eRfyOUhnZMAa"], ["created_at", "2019-10-21 11:18:28.375232"], ["updated_at", "2019-10-21 11:18:28.375232"], ["jti", "e3aeeee1-fd26-4ade-a0f8-3e04bb1e1cbc"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10398" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10398"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f43b0cdb-2441-4231-9c72-ef48d9706813"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10398], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10398], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$IgIm/4ZHWqW4Bb6KcJHCaOejL/i/7mUf9.94o03X8VResqt.yqYOa"], ["updated_at", "2019-10-21 11:18:28.390708"], ["id", 10398]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10398], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_master.com"], ["encrypted_password", "$2a$04$aqgVzmkk1d7vNogKEC5MmuUmeo5eCnLBd2xTtFpp57BhMfbbciY5m"], ["created_at", "2019-10-21 11:18:28.400218"], ["updated_at", "2019-10-21 11:18:28.400218"], ["jti", "020187d4-27fc-4c45-ac17-254e52a0addc"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test69@coffee_owner.com"], ["encrypted_password", "$2a$04$WXLyAp2li2mWHhSiQv5yL.A2IDTfepiywDkfpevcW/Txf9gCu2dBG"], ["created_at", "2019-10-21 11:18:28.404836"], ["updated_at", "2019-10-21 11:18:28.404836"], ["jti", "d0721ade-6367-4d6c-9dc9-6900c4360f39"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10400" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10400"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "020187d4-27fc-4c45-ac17-254e52a0addc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10400], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10400], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$mJNCj5EptQPoINWwkBFZ7.tEps6agaxo0xZ/v8ZzV/KXazaMudcya"], ["updated_at", "2019-10-21 11:18:28.424323"], ["id", 10400]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.9ms | ActiveRecord: 5.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10400], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_master.com"], ["encrypted_password", "$2a$04$N9D83q0yMKGD./YGgvesAuBN.MBT2uhzLWTd/NBwyGBXyCfAtx2Ma"], ["created_at", "2019-10-21 11:18:28.434859"], ["updated_at", "2019-10-21 11:18:28.434859"], ["jti", "18a92a72-1de3-4711-97f6-b939eb3b49eb"], ["role", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@coffee_owner.com"], ["encrypted_password", "$2a$04$Sk/5CDeq9D4E8moB5p13HeddNNIMLCSZXFoH/m60cIgVHGFhm0Vgy"], ["created_at", "2019-10-21 11:18:28.441380"], ["updated_at", "2019-10-21 11:18:28.441380"], ["jti", "4a78ec6c-a867-41c2-a242-e010d46c4a70"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10402" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10402"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "18a92a72-1de3-4711-97f6-b939eb3b49eb"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10402], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10402], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$WTThjnugCI4NBJC/fFq9sex./YaESuxdxZBiLTUB9ZwuBio5/0atW"], ["updated_at", "2019-10-21 11:18:28.457847"], ["id", 10402]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10402], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_master.com"], ["encrypted_password", "$2a$04$zGtC856o4zGVboCj8/0cnuvWIX3.ZTx9nP9JUlpv.DNdOmbfPF1Ty"], ["created_at", "2019-10-21 11:18:28.476361"], ["updated_at", "2019-10-21 11:18:28.476361"], ["jti", "815451e7-90c2-41ff-a3ed-9868608447fb"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test71@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test71@coffee_owner.com"], ["encrypted_password", "$2a$04$A2hRDS4q5FHadgeY0YI7zePOV.oefgvKPrgJSht9Xe6A9/vntTbK6"], ["created_at", "2019-10-21 11:18:28.482199"], ["updated_at", "2019-10-21 11:18:28.482199"], ["jti", "3458d191-c34b-4207-87b5-f5ba86b00a2d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10404" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10404"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "815451e7-90c2-41ff-a3ed-9868608447fb"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10404], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10404], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$ORg8ghEBow3eiIpo4Inbge8LhUVBay.sPsxOy1cFm1J0./acp9.F6"], ["updated_at", "2019-10-21 11:18:28.497039"], ["id", 10404]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10404], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_master.com"], ["encrypted_password", "$2a$04$jDWgaV7QAxSyZB5oyHqVz.6CokXHcOsNer3bwAbIyaY3bPQuyewXe"], ["created_at", "2019-10-21 11:18:28.507196"], ["updated_at", "2019-10-21 11:18:28.507196"], ["jti", "e58da536-6105-4ad5-aa7d-6a99b550bdf5"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test72@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test72@coffee_owner.com"], ["encrypted_password", "$2a$04$xpJQ740OehJM.tGUm8a2.u/BqMDJC0AtHAppNFkLDrsgA4iS5Qnqu"], ["created_at", "2019-10-21 11:18:28.513303"], ["updated_at", "2019-10-21 11:18:28.513303"], ["jti", "762090a9-aa0d-4651-aaa1-bdb25a02c296"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10406" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10406"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e58da536-6105-4ad5-aa7d-6a99b550bdf5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10406], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10406], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$uJ7B4wvXc8Wolo3EfV0ksuWxGtEaDHtZ8OM5MLCyBiNZGQZAcRxgm"], ["updated_at", "2019-10-21 11:18:28.529553"], ["id", 10406]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10406], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_master.com"], ["encrypted_password", "$2a$04$2I2571Os.sBssC0ZzLkRwuqoAyn9VNP1tD28cgiKOU8nm8wkw0Ru6"], ["created_at", "2019-10-21 11:18:28.539107"], ["updated_at", "2019-10-21 11:18:28.539107"], ["jti", "12c44da3-b6ba-4874-8d62-809937d94f19"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test69@sys_expert.com"], ["encrypted_password", "$2a$04$GlpKNdErhS/0wJ50.1QXEO2ntqj4dFJ3SgNTd.t8eEp79ls57zWTu"], ["created_at", "2019-10-21 11:18:28.544352"], ["updated_at", "2019-10-21 11:18:28.544352"], ["jti", "ff333ed5-83ca-4916-a3da-9a8b6301624c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10408" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10408"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "12c44da3-b6ba-4874-8d62-809937d94f19"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10408], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10408], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$/Ru1GD/fffplqbGv9TkbleiJDuqupxfHIvuTIRZYru7qBJs9clYXy"], ["updated_at", "2019-10-21 11:18:28.563653"], ["id", 10408]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10408], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_master.com"], ["encrypted_password", "$2a$04$b7NFYTW9Kjb21D10DDFra.vTXLvbu0x4I1XtUhn6ytBGEX9Hw2Eqa"], ["created_at", "2019-10-21 11:18:28.573894"], ["updated_at", "2019-10-21 11:18:28.573894"], ["jti", "987be388-4d8c-4c29-a635-6d9de802ebc0"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@sys_expert.com"], ["encrypted_password", "$2a$04$rNAOzl.DHw3lgqSY3YHnjeUuXf6nx9Gqy7.6vF8rcJZbf1d26lUK."], ["created_at", "2019-10-21 11:18:28.580332"], ["updated_at", "2019-10-21 11:18:28.580332"], ["jti", "1d7701c6-019c-4f29-a1b4-d0ea297699d9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10410" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10410"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "987be388-4d8c-4c29-a635-6d9de802ebc0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10410], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10410], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$pFUqKYRX6wY28/hGH8ubSu1sx.rx9l9Fs8u2RnJk3mNiweItvW7l."], ["updated_at", "2019-10-21 11:18:28.596626"], ["id", 10410]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10410], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_master.com"], ["encrypted_password", "$2a$04$tkKEtUFMnNh2TMjw.UhluOpIP6r53Dzb8IDCO4hoS2ydAig7knrN."], ["created_at", "2019-10-21 11:18:28.607083"], ["updated_at", "2019-10-21 11:18:28.607083"], ["jti", "8a9fa3e7-a7a9-45b6-97d4-bc2472195b2f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test71@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test71@sys_expert.com"], ["encrypted_password", "$2a$04$DNpfDUQxxXoYCP1KOMPch.9L6/6ogf5Vrw066Wzd483L4GbTunMzm"], ["created_at", "2019-10-21 11:18:28.613888"], ["updated_at", "2019-10-21 11:18:28.613888"], ["jti", "99b78ba5-9070-49f1-9ccc-dd01c561c05d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10412" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10412"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8a9fa3e7-a7a9-45b6-97d4-bc2472195b2f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10412], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10412], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$iO9KSWaC8SEPhuzRVMiyNuV67CO/YSz9hO0pMVU82Yw5wida1xGaK"], ["updated_at", "2019-10-21 11:18:28.631301"], ["id", 10412]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10412], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_master.com"], ["encrypted_password", "$2a$04$0OnIDhuBD2tx7G3M657XVuaq.vgoQp0WG6BmjdUjQByFw3fWUI0D."], ["created_at", "2019-10-21 11:18:28.643234"], ["updated_at", "2019-10-21 11:18:28.643234"], ["jti", "b3576fe1-69e7-481c-91a8-5348c22b9e4c"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test72@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test72@sys_expert.com"], ["encrypted_password", "$2a$04$JJP63NwBRHRG5KjFLrlB5.5zVT4G2ryswkTzLlTl5ew12Ys7yMDDa"], ["created_at", "2019-10-21 11:18:28.649153"], ["updated_at", "2019-10-21 11:18:28.649153"], ["jti", "94215338-cb36-4547-a032-8858867ee13e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10414" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10414"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3576fe1-69e7-481c-91a8-5348c22b9e4c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10414], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10414], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$dnswXlLML59.3PNMiU9By.PGXVTl3Pi/K6McHDVUEVUv59j3zIf2y"], ["updated_at", "2019-10-21 11:18:28.664436"], ["id", 10414]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10414], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_master.com"], ["encrypted_password", "$2a$04$rOl478qviCAAOSCEQb5mTunbeZ1.tgvDi5PTGu12J7u1uVOdPGH3G"], ["created_at", "2019-10-21 11:18:28.673797"], ["updated_at", "2019-10-21 11:18:28.673797"], ["jti", "a741e322-e374-43e8-977f-857a99472a5e"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test73@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test73@sys_expert.com"], ["encrypted_password", "$2a$04$g2.VwFup8eoMLCXegKO8HO274FZIIZz9WdHvTNE8ahOzLtp4JRQBO"], ["created_at", "2019-10-21 11:18:28.679692"], ["updated_at", "2019-10-21 11:18:28.679692"], ["jti", "973a99ae-ce74-4f21-b8ca-f7b83e9e75ce"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10416" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10416"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a741e322-e374-43e8-977f-857a99472a5e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10416], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10416], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$XRe4C2MgadflqRWRphQu9.bBv.L.qYysfryD5LWtyv67sTmgZeJSW"], ["updated_at", "2019-10-21 11:18:28.694028"], ["id", 10416]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10416], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_master.com"], ["encrypted_password", "$2a$04$LVN0etDBLBwHgLBPFGBLiuRI6Fi/tkXvBb9Zbth/O5QnUdClIQVny"], ["created_at", "2019-10-21 11:18:28.704773"], ["updated_at", "2019-10-21 11:18:28.704773"], ["jti", "704889df-ecaa-437b-b3c9-8d73d1c4dbf6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@sys_admin.com"], ["encrypted_password", "$2a$04$g72F1Fd8V1y78aJXtaiFHulsx29navI.dLuX7FNWiy5DtfavrGyB6"], ["created_at", "2019-10-21 11:18:28.709790"], ["updated_at", "2019-10-21 11:18:28.709790"], ["jti", "4d6b6ac3-e0a2-4e70-8942-9cdd6891d0bc"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10418" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10418"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "704889df-ecaa-437b-b3c9-8d73d1c4dbf6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10418], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10418], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$3h1WAb18w2IFhF7d3HjiYe.niVpoNWGp4pAl8zujX/8B1bW0lB9/m"], ["updated_at", "2019-10-21 11:18:28.724180"], ["id", 10418]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10418], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_master.com"], ["encrypted_password", "$2a$04$FxUyLkXm9j9BzB6cu9G9AOmdsmde3buowINZciTUUfS..ug2S9vUG"], ["created_at", "2019-10-21 11:18:28.733190"], ["updated_at", "2019-10-21 11:18:28.733190"], ["jti", "4ae05028-6447-4267-b868-23959e19473d"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@sys_admin.com"], ["encrypted_password", "$2a$04$TNiqshdn.bGrINl5OYyOt.ccabSKdIzLWrIPHc6y0m4xo2LCmUOPy"], ["created_at", "2019-10-21 11:18:28.740225"], ["updated_at", "2019-10-21 11:18:28.740225"], ["jti", "31254ce5-510f-43da-aa4d-0601c29ecbe0"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10420" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"10420"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4ae05028-6447-4267-b868-23959e19473d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10420], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10420], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$fe0HvPmMZF6zS7N/hesKLeZbJI.PpSw7VjfUUkq26aqZUPmOOaB2e"], ["updated_at", "2019-10-21 11:18:28.758938"], ["id", 10420]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10420], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_master.com"], ["encrypted_password", "$2a$04$ZyigjzKb8soZvfiImk.13OyJ3v.CRyKkq1DzA7hFt1ah5zJvDYWzW"], ["created_at", "2019-10-21 11:18:28.771606"], ["updated_at", "2019-10-21 11:18:28.771606"], ["jti", "9d355596-510c-4085-b8ef-7fae91448eab"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@sys_admin.com"], ["encrypted_password", "$2a$04$elBffUYwyTe1b8yuZy2Nz.gVDgq.oBEvkEtKLPuYyxYu7Yl3dGGZa"], ["created_at", "2019-10-21 11:18:28.777146"], ["updated_at", "2019-10-21 11:18:28.777146"], ["jti", "0c09dbdf-1566-4a9a-b471-14e162f615b0"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms)
Started PUT "/api/users/10422" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"10422"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9d355596-510c-4085-b8ef-7fae91448eab"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10422], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10422], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$WgMwiKjzq.s4abNdyhAHQeEsjT/WmeYuY05xqmG/Uvm3eXatZMk1."], ["updated_at", "2019-10-21 11:18:28.803232"], ["id", 10422]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10422], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_master.com"], ["encrypted_password", "$2a$04$pr5miDZ3MOWXIv1iUMNtb.CwrWZreaklLA88Y5QFCa1.iqE1bavbG"], ["created_at", "2019-10-21 11:18:28.811969"], ["updated_at", "2019-10-21 11:18:28.811969"], ["jti", "392ae834-2637-4405-b0e7-807c193cb730"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@sys_admin.com"], ["encrypted_password", "$2a$04$Z31bC7Uq5grFiiirieFry.vpyfrwVpq/IkA.QWrhql45VsMtaQMXa"], ["created_at", "2019-10-21 11:18:28.816677"], ["updated_at", "2019-10-21 11:18:28.816677"], ["jti", "9b9d37c5-a150-4627-8d69-aed0eb6bdcaa"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10424" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"10424"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "392ae834-2637-4405-b0e7-807c193cb730"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10424], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$e6qaZ6wWRKsKyUV3llgJCOoideyD8BZMXp.oAhJ5P.B2cVK94.sBm"], ["updated_at", "2019-10-21 11:18:28.833329"], ["id", 10424]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10424], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_master.com"], ["encrypted_password", "$2a$04$vouzQ026W4pMz1Y2ax1zueFPgXsZtkW8j8wUrWkBOfTntYImCgZum"], ["created_at", "2019-10-21 11:18:28.845683"], ["updated_at", "2019-10-21 11:18:28.845683"], ["jti", "e1bff8ae-876e-4bdb-a578-8f3d8d9afa1d"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test69@sys_admin.com"], ["encrypted_password", "$2a$04$cOo4D1pLf68.QVOqCDdIr.t3dUSlLN0Zcl5tFIEZxjT9t87Al4ymu"], ["created_at", "2019-10-21 11:18:28.852360"], ["updated_at", "2019-10-21 11:18:28.852360"], ["jti", "f9a78fc3-e321-41db-b4d7-e765e8bf99dd"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10426" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10426"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e1bff8ae-876e-4bdb-a578-8f3d8d9afa1d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10426], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 10426], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$k7eh5.9jahYQaSg84sy.KO/8N59ayUDzHzIwEgi8AIkc68m1j/sLa"], ["updated_at", "2019-10-21 11:18:28.870997"], ["id", 10426]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10426], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_master.com"], ["encrypted_password", "$2a$04$2pN/UsiJ41ZiFF.1NetZ0O2NebezwS.lfX1Xtshrq68xvW1s8NLWC"], ["created_at", "2019-10-21 11:18:28.880623"], ["updated_at", "2019-10-21 11:18:28.880623"], ["jti", "e2141fa0-0a70-4d2a-a2a7-62ce6aa8922a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_master.com"], ["encrypted_password", "$2a$04$9FeOOqw7zlzvHGNMHxJU2ezYafb3GR0w8C4lMkekA/qAL2hmXSZlK"], ["created_at", "2019-10-21 11:18:28.885361"], ["updated_at", "2019-10-21 11:18:28.885361"], ["jti", "ed2b5302-6332-4684-b542-27f80d04a17f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10428" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"10428"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e2141fa0-0a70-4d2a-a2a7-62ce6aa8922a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10428], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10428], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_master.com"], ["encrypted_password", "$2a$04$3Am9y1.uAMXz00Zk94x6uO/4ag.jqmxLqmKxU/6MxIMNhX/dU2fo2"], ["created_at", "2019-10-21 11:18:28.905259"], ["updated_at", "2019-10-21 11:18:28.905259"], ["jti", "f624deb2-16c8-407a-a238-25591c090586"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10429" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10429"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f624deb2-16c8-407a-a238-25591c090586"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10429], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:28.917369"], ["updated_at", "2019-10-21 11:18:28.917833"], ["id", 10429]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_master.com"], ["encrypted_password", "$2a$04$H47fheOIbsNw/4QwdKaGBOMW39nMGSL3k8KveHpQOkTppP2bhTpQe"], ["created_at", "2019-10-21 11:18:28.936445"], ["updated_at", "2019-10-21 11:18:28.936445"], ["jti", "2bab3e4f-1ed9-47b8-9654-80ba12e06240"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@player.com"], ["encrypted_password", "$2a$04$G2zyiUlQgbIIf3tUaRs//uyhu19J3ho/FjmCpjhaM80aQGwcAi26O"], ["created_at", "2019-10-21 11:18:28.941428"], ["updated_at", "2019-10-21 11:18:28.941428"], ["jti", "a5b1f9f1-9aa8-4bca-a2b1-0b055f16e142"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10431" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10431"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2bab3e4f-1ed9-47b8-9654-80ba12e06240"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10431], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:28.952180"], ["updated_at", "2019-10-21 11:18:28.952979"], ["id", 10431]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.4ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_master.com"], ["encrypted_password", "$2a$04$VcOagppRPEkrgGCp4hSCCe639J3EPBEjYejxsjg47u0LewiwyFygC"], ["created_at", "2019-10-21 11:18:28.969534"], ["updated_at", "2019-10-21 11:18:28.969534"], ["jti", "3f9538bd-68dd-498a-bdb6-7f2aa79730ce"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test73@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test73@coffee_owner.com"], ["encrypted_password", "$2a$04$SORqNyCnRLGSSTLaiN0yAebGqnZnmhHZBu7OG7gRn9rt0AMEOJPlK"], ["created_at", "2019-10-21 11:18:28.976343"], ["updated_at", "2019-10-21 11:18:28.976343"], ["jti", "2f672e29-f183-49ac-96d9-2531fffe61bc"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10433" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10433"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3f9538bd-68dd-498a-bdb6-7f2aa79730ce"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10433], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:28.989097"], ["updated_at", "2019-10-21 11:18:28.989785"], ["id", 10433]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 1.4ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:28 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test73@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test73@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_master.com"], ["encrypted_password", "$2a$04$W8zwqb1ZFWtS9ntaWLhjxeapf3uLRwkpyzsQf0WgwaqwF2TJzExOa"], ["created_at", "2019-10-21 11:18:29.007386"], ["updated_at", "2019-10-21 11:18:29.007386"], ["jti", "a8ccbc98-c77d-4457-9ead-10304e65b367"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test74@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test74@sys_expert.com"], ["encrypted_password", "$2a$04$rSYwuQBlIcdh3NYZdX5SO.jUf8luGCSJW/tuOKp7cGHdBG2VNHE7W"], ["created_at", "2019-10-21 11:18:29.013182"], ["updated_at", "2019-10-21 11:18:29.013182"], ["jti", "912184a6-6ed7-4673-900b-1c4d4dfbb23e"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10435" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10435"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a8ccbc98-c77d-4457-9ead-10304e65b367"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10435], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:29.026043"], ["updated_at", "2019-10-21 11:18:29.026649"], ["id", 10435]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.2ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test74@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test74@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@sys_master.com"], ["encrypted_password", "$2a$04$HKSS5nB7I6lXIF1ELHah0OQzKc5NytrCrR3CQmHfYdB5urUZfb2rS"], ["created_at", "2019-10-21 11:18:29.041634"], ["updated_at", "2019-10-21 11:18:29.041634"], ["jti", "46fba34a-a303-4ecc-80b0-fc918e9718e4"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@sys_admin.com"], ["encrypted_password", "$2a$04$15QVLGHdHOggOh5IQo5Q1.Wa9/jhinmJTOCs38iosbBw9ROtupau2"], ["created_at", "2019-10-21 11:18:29.047204"], ["updated_at", "2019-10-21 11:18:29.047204"], ["jti", "7889accb-3417-4237-af80-740fd6ee4c20"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10437" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10437"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "46fba34a-a303-4ecc-80b0-fc918e9718e4"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10437], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-21 11:18:29.059888"], ["updated_at", "2019-10-21 11:18:29.060479"], ["id", 10437]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test70@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test70@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@sys_master.com"], ["encrypted_password", "$2a$04$atM7/RRmMJLVDf1l9yuG2e/6DNEwQldZpv62h0cLG2Z06VL1.pMXG"], ["created_at", "2019-10-21 11:18:29.075027"], ["updated_at", "2019-10-21 11:18:29.075027"], ["jti", "4c489d78-3a0d-4227-aa57-8f1ba0c5e813"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@sys_master.com"], ["encrypted_password", "$2a$04$rFkvofHDP8/oihIrLknfX.RfOJRQjHzCj9gGBLd44L8BOdvbCTomG"], ["created_at", "2019-10-21 11:18:29.082105"], ["updated_at", "2019-10-21 11:18:29.082105"], ["jti", "c4551d66-9ca2-4866-8eec-03e963f70745"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.4ms)
Started DELETE "/api/users/10439" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10439"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4c489d78-3a0d-4227-aa57-8f1ba0c5e813"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10439], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>""}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 136ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$UwgvEDhCfNjfP5znFjreguTF/CYqMpzwZ5T.AmAVSRAm/qSEZFSwu"], ["created_at", "2019-10-21 11:18:29.280917"], ["updated_at", "2019-10-21 11:18:29.280917"], ["jti", "6d4dcf5a-7703-4643-b99b-d10f27be816e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$kMUmlabXwD4S6h3PnJFIhOaYMWHWAr3vzMlXvrMYPJ9ZjByQ1UNYu"], ["created_at", "2019-10-21 11:18:29.295557"], ["updated_at", "2019-10-21 11:18:29.295557"], ["jti", "99997004-b727-4eaf-b1c1-0eee00436c09"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$4u8MhAKtPzKPZReJZEkZ.OMukb4xK7kyoCthjd5baE.z1ePKClmCK"], ["created_at", "2019-10-21 11:18:29.309649"], ["updated_at", "2019-10-21 11:18:29.309649"], ["jti", "baf11e01-5ae4-4b2e-bb58-e9f65baff896"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$wDx5PeU192Xv8VwRaOFia.E.xG.t1NeirUiPG1yJd1ltLsccl2OuG"], ["created_at", "2019-10-21 11:18:29.323271"], ["updated_at", "2019-10-21 11:18:29.323271"], ["jti", "80a38bff-5752-49ee-802f-db7d40738e03"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$N8kdALhECirnr326pBwii.qF8fKEhoSticV7DRKpnvLLCUIkt98xW"], ["created_at", "2019-10-21 11:18:29.337677"], ["updated_at", "2019-10-21 11:18:29.337677"], ["jti", "72ff5b36-6aa6-4919-b26e-f43ea5958d42"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@player.com"], ["encrypted_password", "$2a$04$NUOGMILB2XZKewZFEsi8c.wp00v68QeAgs2KlKMDt.Z6d5J5FaaUe"], ["created_at", "2019-10-21 11:18:29.347251"], ["updated_at", "2019-10-21 11:18:29.347251"], ["jti", "2fbc1bea-55a5-4ce9-8390-d4183567ba7d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10445" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10445"}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@player.com"], ["encrypted_password", "$2a$04$ktWLsiIKBQOrSugyTPoN2.pno/pZYXHdZ8uoyNzEncbpuWa9itcCG"], ["created_at", "2019-10-21 11:18:29.362239"], ["updated_at", "2019-10-21 11:18:29.362239"], ["jti", "3a97e3c9-e44c-4d31-82ed-aca206b9f660"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test57@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test57@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/10446" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10446"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@player.com"], ["encrypted_password", "$2a$04$7EAN0zGudfyoMh.hELceFOLWKG4BQVXLme8Tp5Z5ce9RrxmsUFJjW"], ["created_at", "2019-10-21 11:18:29.377440"], ["updated_at", "2019-10-21 11:18:29.377440"], ["jti", "ff6ff54e-3eaf-4280-8d8f-3fd1afd0cbd4"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test58@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test58@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10447" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"id"=>"10447"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ff6ff54e-3eaf-4280-8d8f-3fd1afd0cbd4"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@player.com"], ["encrypted_password", "$2a$04$5xmDadQ.IKsu67060UCuSuJd4Q6Hdo66UKLxo8mBFI3SVsmuHPbCK"], ["created_at", "2019-10-21 11:18:29.393261"], ["updated_at", "2019-10-21 11:18:29.393261"], ["jti", "27440ff4-b53a-481a-b850-442c49e5bb43"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test59@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test59@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10448" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"tets"=>"test"}, "id"=>"10448"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "27440ff4-b53a-481a-b850-442c49e5bb43"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@player.com"], ["encrypted_password", "$2a$04$iDqrrRNLywGsec4W5wZV8.61xBwcvGBzToP0rNk8cXzYOlxESMSUy"], ["created_at", "2019-10-21 11:18:29.409631"], ["updated_at", "2019-10-21 11:18:29.409631"], ["jti", "360798f7-978b-4206-9ecf-3cca9b8ce513"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test60@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test60@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10449" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"email"}, "id"=>"10449"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "360798f7-978b-4206-9ecf-3cca9b8ce513"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@player.com"], ["encrypted_password", "$2a$04$J6BrmM62UZNCGDcVpiWyk.uc1.Mza5NjK6NGIVcFqVf32tGPYMUai"], ["created_at", "2019-10-21 11:18:29.428112"], ["updated_at", "2019-10-21 11:18:29.428112"], ["jti", "1df1a7f6-8189-4d5f-94c8-d6cf9716136d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test61@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test61@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10450" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"email", "password"=>"[FILTERED]"}, "id"=>"10450"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1df1a7f6-8189-4d5f-94c8-d6cf9716136d"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@player.com"], ["encrypted_password", "$2a$04$WZZMa0Np5eWfZcy8KTK2juyL3VGIQZFU1X4moN88P2.Oy8izi.AnG"], ["created_at", "2019-10-21 11:18:29.447015"], ["updated_at", "2019-10-21 11:18:29.447015"], ["jti", "0424e1ba-f944-4814-9953-6ab681699220"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/10451" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10451"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0424e1ba-f944-4814-9953-6ab681699220"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10451], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "invalid"], ["id", 10451], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@player.com"], ["encrypted_password", "$2a$04$Bjt/M/P.W.lyALL.zbIWSeW7kq9GvZm0BAKkTwZRsEgUEXlBkzru2"], ["created_at", "2019-10-21 11:18:29.473125"], ["updated_at", "2019-10-21 11:18:29.473125"], ["jti", "84a5c86e-10da-4333-b8f5-f2ebef0bef2d"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test63@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test63@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/10452" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"10452"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "84a5c86e-10da-4333-b8f5-f2ebef0bef2d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10452], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "test@test"], ["id", 10452], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@player.com"], ["encrypted_password", "$2a$04$.wAM8t7Rji93IvL7ZwDzuuuvMdEBn3tywX.tsvV7s4HFhhtqoKuMa"], ["created_at", "2019-10-21 11:18:29.497001"], ["updated_at", "2019-10-21 11:18:29.497001"], ["jti", "4e5df112-b6b3-489d-9afe-24039183044e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test64@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test64@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10453" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10453"}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@player.com"], ["encrypted_password", "$2a$04$jykEZTwo7znEIJeM00wORuDzEQO4pqeqzT.7bATHyZBAiRn/idTH."], ["created_at", "2019-10-21 11:18:29.512605"], ["updated_at", "2019-10-21 11:18:29.512605"], ["jti", "1709e8ab-636d-4adc-ae8a-aedf67054697"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test65@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test65@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/10454" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"10454"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@player.com"], ["encrypted_password", "$2a$04$5RpkzfkkfKMevKUAse7TquIVRnrZOgvJDvhCR6Z1QK2TJwVQwNGsy"], ["created_at", "2019-10-21 11:18:29.529243"], ["updated_at", "2019-10-21 11:18:29.529243"], ["jti", "0c676722-90fd-447f-8a0d-8cfd65b121ac"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test66@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test66@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started GET "/api/profile" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#profile as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0c676722-90fd-447f-8a0d-8cfd65b121ac"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@player.com"], ["encrypted_password", "$2a$04$cc3xaYyW/pF99hr9H4AZAOKKAv6Sv8CWMnsroR7HisgR4GZ7robge"], ["created_at", "2019-10-21 11:18:29.547070"], ["updated_at", "2019-10-21 11:18:29.547070"], ["jti", "057c84b3-4ae0-43b4-8b90-c0a8fcb837da"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test67@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test67@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started GET "/api/profile" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@player.com"], ["encrypted_password", "$2a$04$w/nDHt0nJDbx9DaRwBZgzOn9uvmTnIQyCoMVOcmSvoxcmMYRN5Ikq"], ["created_at", "2019-10-21 11:18:29.563023"], ["updated_at", "2019-10-21 11:18:29.563023"], ["jti", "39197280-8007-4f0e-b8af-faa9389f5dd0"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test68@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test68@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile" for 127.0.0.1 at 2019-10-21 14:48:29 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test74@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test74@coffee_owner.com"], ["encrypted_password", "$2a$04$Xr5KGbtGdys2Fb/1elAdXeWoxd2dzC0HtkCgI287E5KcosPXhtRB6"], ["created_at", "2019-10-21 11:18:29.579397"], ["updated_at", "2019-10-21 11:18:29.579397"], ["jti", "c7272910-b159-44fb-bd94-ae34685fa1db"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test75@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test75@sys_expert.com"], ["encrypted_password", "$2a$04$iDbXUb9KHcoom3TiqhW6seRORU6iugMn4ELvCK/ZQPDvyXizlmtqG"], ["created_at", "2019-10-21 11:18:29.586092"], ["updated_at", "2019-10-21 11:18:29.586092"], ["jti", "10b69c24-e06d-4dd5-ac18-7421c46570b5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test71@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test71@sys_admin.com"], ["encrypted_password", "$2a$04$.YKvR7F0psyK4sTWVQxSbeZI/1MnrLNES06LY7svXhwMaTTnjjBnK"], ["created_at", "2019-10-21 11:18:29.591413"], ["updated_at", "2019-10-21 11:18:29.591413"], ["jti", "b32e8682-5d36-496e-9997-7a4bccbb68df"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName24"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10458], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName24"], ["address", "CoffeeShopAddress24"], ["owner_id", 10458], ["creator_id", 10460], ["created_at", "2019-10-21 11:18:29.597206"], ["updated_at", "2019-10-21 11:18:29.597206"], ["maintainer_id", 10459]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName24"], ["id", 569], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10458], ["id", 569], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test75@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test75@coffee_owner.com"], ["encrypted_password", "$2a$04$O2AFM8XwjQcg3CofaWmcS.4wkYxHCNQiqIfwnMfO6/gOoZFWJ8DBq"], ["created_at", "2019-10-21 11:18:29.633635"], ["updated_at", "2019-10-21 11:18:29.633635"], ["jti", "34d2e560-b20c-4b11-b871-0c0c2262c6a5"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test77@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test77@sys_expert.com"], ["encrypted_password", "$2a$04$DYFSiaHecglKWXWsjbFViODY682/VSvlKY7AqAOIIsm5sjfjhg.O2"], ["created_at", "2019-10-21 11:18:29.640356"], ["updated_at", "2019-10-21 11:18:29.640356"], ["jti", "ac8f7dd0-4a06-4de6-9e6b-ec1d5ff0a2e6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test72@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test72@sys_admin.com"], ["encrypted_password", "$2a$04$BMTT5BkUOItcZ2X9XO89R.gCRmBnfJThaGRJzm6HmXfYFD2dJPhRS"], ["created_at", "2019-10-21 11:18:29.645810"], ["updated_at", "2019-10-21 11:18:29.645810"], ["jti", "70aeac23-7538-49a7-bee6-64105f1b5315"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10461], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name"], ["address", "CoffeeShopAddress25"], ["owner_id", 10461], ["creator_id", 10463], ["created_at", "2019-10-21 11:18:29.651865"], ["updated_at", "2019-10-21 11:18:29.651865"], ["maintainer_id", 10462]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test77@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test77@coffee_owner.com"], ["encrypted_password", "$2a$04$EqQ36.oqGkn9PfX3q6yhWuPDKJVAKRviHJyWDnVPKgTOQkZCJ5zMy"], ["created_at", "2019-10-21 11:18:29.667545"], ["updated_at", "2019-10-21 11:18:29.667545"], ["jti", "3786eb0e-8a4b-424e-a2c3-dc36b7c251de"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test79@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test79@sys_expert.com"], ["encrypted_password", "$2a$04$iVx6bz.tjo.rLEMHhmKxWelCk44BFOAT9QbYJ0FbTa93JUDNhdtS6"], ["created_at", "2019-10-21 11:18:29.672725"], ["updated_at", "2019-10-21 11:18:29.672725"], ["jti", "0eb889aa-885a-42ff-8935-15390854df7b"], ["role", 2]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test74@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test74@sys_admin.com"], ["encrypted_password", "$2a$04$IafyTHTi9E2tT2lb8A/1FeTXQ6XaV04QQg9D3MqxBDWuv3IbYPFV."], ["created_at", "2019-10-21 11:18:29.680800"], ["updated_at", "2019-10-21 11:18:29.680800"], ["jti", "b36fd132-85f8-4708-8c53-55c556594438"], ["role", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName25"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10464], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName25"], ["address", "CoffeeShopAddress27"], ["owner_id", 10464], ["creator_id", 10466], ["created_at", "2019-10-21 11:18:29.689018"], ["updated_at", "2019-10-21 11:18:29.689018"], ["maintainer_id", 10465]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName26"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10464], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test78@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test78@coffee_owner.com"], ["encrypted_password", "$2a$04$JE7wxWL5C3kISXVxv8WuHO7IfjNwLsXxEshFkI3y2CF91NtTdW/zq"], ["created_at", "2019-10-21 11:18:29.707052"], ["updated_at", "2019-10-21 11:18:29.707052"], ["jti", "a4e73dc8-9eec-47ff-9c37-791bff883ef4"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test81@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test81@sys_expert.com"], ["encrypted_password", "$2a$04$rzUNrbIPFO.lZ/mUwnP2d.Yx8GlTCqnaBgMKXQOJXrGmioozxId1W"], ["created_at", "2019-10-21 11:18:29.714142"], ["updated_at", "2019-10-21 11:18:29.714142"], ["jti", "e913f0e4-f8e0-4775-8d32-c68944b5c59c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test76@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test76@sys_admin.com"], ["encrypted_password", "$2a$04$AAeLwYuscnruw4pFsxarJuu/Eh1WX8Yg1r.xv0nwVMlFz/C3DuiFm"], ["created_at", "2019-10-21 11:18:29.721458"], ["updated_at", "2019-10-21 11:18:29.721458"], ["jti", "4a5f3662-d645-4abc-a638-0b644068b903"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName27"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10467], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test79@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test79@coffee_owner.com"], ["encrypted_password", "$2a$04$2iKu3dQ07OPxJ59SkPBsHecrh2ZT64xRccpVlMc928EffCeO2lcva"], ["created_at", "2019-10-21 11:18:29.735644"], ["updated_at", "2019-10-21 11:18:29.735644"], ["jti", "de7b18e2-ecea-4447-9ffc-0cd5360a7710"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test77@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test77@sys_admin.com"], ["encrypted_password", "$2a$04$LsLXWnIQ683V6cM20RFww.RTksLZGKD846rqZIr7PQ5W9CDjSQ4ca"], ["created_at", "2019-10-21 11:18:29.741073"], ["updated_at", "2019-10-21 11:18:29.741073"], ["jti", "63f5a2e1-8420-46a8-b593-381bc99e24a2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test82@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test82@sys_expert.com"], ["encrypted_password", "$2a$04$7t.lsXh02nssNT7nEgz9Y.CzGvpxnqUsUESOEpC3qWmb2IrOcV/6m"], ["created_at", "2019-10-21 11:18:29.746758"], ["updated_at", "2019-10-21 11:18:29.746758"], ["jti", "58c7494b-be20-42c1-af3c-8e9d9509c943"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName28"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10470], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName28"], ["address", "CoffeeShopAddress30"], ["owner_id", 10470], ["creator_id", 10471], ["created_at", "2019-10-21 11:18:29.752346"], ["updated_at", "2019-10-21 11:18:29.752346"], ["maintainer_id", 10472]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName28"], ["id", 572], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10470], ["id", 572], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 572], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10470], ["id", 572], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 572], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 10470], ["id", 572], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test80@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test80@coffee_owner.com"], ["encrypted_password", "$2a$04$hiqrVITmGngxnET2sneQsOqqYj7v/eSWI/OeRyv9JDlxnvVo/jXAq"], ["created_at", "2019-10-21 11:18:29.772654"], ["updated_at", "2019-10-21 11:18:29.772654"], ["jti", "7732c16d-a90a-4168-bd26-2de916174e3e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test83@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test83@sys_expert.com"], ["encrypted_password", "$2a$04$cDbHFyprVfSPnE1bMPjVx.T3zsmCCmHwhkcRte5DaVTmwDwYbji62"], ["created_at", "2019-10-21 11:18:29.777343"], ["updated_at", "2019-10-21 11:18:29.777343"], ["jti", "87a015fb-5900-418c-9d5d-ee40659cdf83"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test78@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test78@sys_admin.com"], ["encrypted_password", "$2a$04$qg4VXgcZ4Fuait206zGy9e7WNiE20KIuK0ZFEhZimj2ClG8vkfS/O"], ["created_at", "2019-10-21 11:18:29.782878"], ["updated_at", "2019-10-21 11:18:29.782878"], ["jti", "6cd8eb16-b0c8-452f-89b4-7c708156b464"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName29"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10473], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName29"], ["address", "CoffeeShopAddress31"], ["owner_id", 10473], ["creator_id", 10475], ["created_at", "2019-10-21 11:18:29.788388"], ["updated_at", "2019-10-21 11:18:29.788388"], ["maintainer_id", 10474]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$URk1MyW1Y/r4WHFTp4BgoeX0LTAoWk5eRB.lREX02RhCjOJISOLuu"], ["created_at", "2019-10-21 11:18:29.819086"], ["updated_at", "2019-10-21 11:18:29.819086"], ["jti", "95a9c9fd-261c-46fc-82dc-708d9317f9e2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@player.com"], ["encrypted_password", "$2a$04$a1FDzUvu.kTYNQ8bNcPjZuYXLe0L27pMknpAEKFzOMk.Gc4/i0Ziu"], ["created_at", "2019-10-21 11:18:29.834190"], ["updated_at", "2019-10-21 11:18:29.834190"], ["jti", "b19b067a-ab16-4602-86e8-e29cfc3f53b5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (40.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (29.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (365.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_board_game_test"[0m
  [1m[35m (1439.1ms)[0m  [1m[35mCREATE DATABASE "cafe_board_game_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "board_games" CASCADE[0m
  [1m[35m (111.2ms)[0m  [1m[35mCREATE TABLE "board_games" ("id" bigserial primary key, "name" character varying NOT NULL, "publisher" character varying NOT NULL, "min_player" integer NOT NULL, "max_player" integer NOT NULL, "play_time" integer NOT NULL, "description" text, "deleted_at" timestamp, "coffee_shop_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (47.6ms)[0m  [1m[35mCREATE  INDEX  "index_board_games_on_coffee_shop_id" ON "board_games"  ("coffee_shop_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "coffee_shops" CASCADE[0m
  [1m[35m (107.7ms)[0m  [1m[35mCREATE TABLE "coffee_shops" ("id" bigserial primary key, "name" character varying NOT NULL, "address" character varying NOT NULL, "owner_id" bigint NOT NULL, "creator_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "deleted_at" timestamp, "maintainer_id" bigint NOT NULL)[0m
  [1m[35m (52.2ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_creator_id" ON "coffee_shops"  ("creator_id")[0m
  [1m[35m (52.8ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_maintainer_id" ON "coffee_shops"  ("maintainer_id")[0m
  [1m[35m (62.0ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_owner_id" ON "coffee_shops"  ("owner_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer, "deleted_at" timestamp)[0m
  [1m[35m (330.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_board_game_test"[0m
  [1m[35m (840.7ms)[0m  [1m[35mCREATE DATABASE "cafe_board_game_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "board_games" CASCADE[0m
  [1m[35m (91.2ms)[0m  [1m[35mCREATE TABLE "board_games" ("id" bigserial primary key, "name" character varying NOT NULL, "publisher" character varying NOT NULL, "min_player" integer NOT NULL, "max_player" integer NOT NULL, "play_time" integer NOT NULL, "description" text, "deleted_at" timestamp, "coffee_shop_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (58.4ms)[0m  [1m[35mCREATE  INDEX  "index_board_games_on_coffee_shop_id" ON "board_games"  ("coffee_shop_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "coffee_shops" CASCADE[0m
  [1m[35m (120.1ms)[0m  [1m[35mCREATE TABLE "coffee_shops" ("id" bigserial primary key, "name" character varying NOT NULL, "address" character varying NOT NULL, "owner_id" bigint NOT NULL, "creator_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "deleted_at" timestamp, "maintainer_id" bigint NOT NULL)[0m
  [1m[35m (62.2ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_creator_id" ON "coffee_shops"  ("creator_id")[0m
  [1m[35m (61.7ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_maintainer_id" ON "coffee_shops"  ("maintainer_id")[0m
  [1m[35m (40.2ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_owner_id" ON "coffee_shops"  ("owner_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (73.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer, "deleted_at" timestamp)[0m
  [1m[35m (49.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (49.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_jti" ON "users"  ("jti")[0m
  [1m[35m (52.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "board_games" ADD CONSTRAINT "fk_rails_a12696838d"
FOREIGN KEY ("coffee_shop_id")
  REFERENCES "coffee_shops" ("id")
[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "coffee_shops" ADD CONSTRAINT "fk_rails_47ca99235c"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "coffee_shops" ADD CONSTRAINT "fk_rails_9e8968e4fc"
FOREIGN KEY ("maintainer_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (10.1ms)[0m  [1m[35mALTER TABLE "coffee_shops" ADD CONSTRAINT "fk_rails_ff4ea0e4d3"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (96.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191022075436)[0m
  [1m[35m (10.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191001064950),
(20191016145042),
(20191020113657),
(20191001064949),
(20191017195133),
(20191016073657),
(20191001130712),
(20191007114845),
(20191020113658),
(20191016121722);

[0m
  [1m[35m (96.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-22 08:17:17.153162"], ["updated_at", "2019-10-22 08:17:17.153162"]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (232.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_board_game_test"[0m
  [1m[35m (819.1ms)[0m  [1m[35mCREATE DATABASE "cafe_board_game_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "board_games" CASCADE[0m
  [1m[35m (134.0ms)[0m  [1m[35mCREATE TABLE "board_games" ("id" bigserial primary key, "name" character varying NOT NULL, "publisher" character varying NOT NULL, "min_player" integer NOT NULL, "max_player" integer NOT NULL, "play_time" integer NOT NULL, "description" text, "deleted_at" timestamp, "creator_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (70.8ms)[0m  [1m[35mCREATE  INDEX  "index_board_games_on_creator_id" ON "board_games"  ("creator_id")[0m
  [1m[35m (60.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_board_games_on_name_and_creator_id" ON "board_games"  ("name", "creator_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "coffee_shops" CASCADE[0m
  [1m[35m (118.9ms)[0m  [1m[35mCREATE TABLE "coffee_shops" ("id" bigserial primary key, "name" character varying NOT NULL, "address" character varying NOT NULL, "owner_id" bigint NOT NULL, "creator_id" bigint NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "deleted_at" timestamp, "maintainer_id" bigint NOT NULL)[0m
  [1m[35m (62.6ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_creator_id" ON "coffee_shops"  ("creator_id")[0m
  [1m[35m (61.2ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_maintainer_id" ON "coffee_shops"  ("maintainer_id")[0m
  [1m[35m (61.6ms)[0m  [1m[35mCREATE  INDEX  "index_coffee_shops_on_owner_id" ON "coffee_shops"  ("owner_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (96.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer, "deleted_at" timestamp)[0m
  [1m[35m (52.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (53.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_jti" ON "users"  ("jti")[0m
  [1m[35m (50.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "board_games" ADD CONSTRAINT "fk_rails_8d9c1b3335"
FOREIGN KEY ("creator_id")
  REFERENCES "coffee_shops" ("id")
[0m
  [1m[35m (10.4ms)[0m  [1m[35mALTER TABLE "coffee_shops" ADD CONSTRAINT "fk_rails_47ca99235c"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (10.3ms)[0m  [1m[35mALTER TABLE "coffee_shops" ADD CONSTRAINT "fk_rails_9e8968e4fc"
FOREIGN KEY ("maintainer_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (10.4ms)[0m  [1m[35mALTER TABLE "coffee_shops" ADD CONSTRAINT "fk_rails_ff4ea0e4d3"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (109.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191022085030)[0m
  [1m[35m (10.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191022083356),
(20191001064950),
(20191016145042),
(20191020113657),
(20191001064949),
(20191017195133),
(20191016073657),
(20191022083007),
(20191001130712),
(20191007114845),
(20191022075436),
(20191020113658),
(20191016121722);

[0m
  [1m[35m (86.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-22 09:13:40.881748"], ["updated_at", "2019-10-22 09:13:40.881748"]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$Vb7ogNwIdd7A2mO4P8nMbezW8tB9ndVOFtT4aoIotxXNzkcVxQe3O"], ["created_at", "2019-10-22 09:13:41.059762"], ["updated_at", "2019-10-22 09:13:41.059762"], ["jti", "da6eb104-4dbe-4112-807e-4db3451d13f5"], ["role", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$TeS4iONgJIGmvfUzbK36Bu3A28JPrpXIwb7WbGbRNh171jxbEJgSy"], ["created_at", "2019-10-22 09:13:51.720936"], ["updated_at", "2019-10-22 09:13:51.720936"], ["jti", "2ccd2daa-ec0c-44e5-acf1-3bc0edded600"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$eWsfmHanoiVD4jHYmRbSjOdPb4zZ1GRNvFJdqfcTEIVjp4FFKHNOy"], ["created_at", "2019-10-22 09:16:05.310855"], ["updated_at", "2019-10-22 09:16:05.310855"], ["jti", "4c40dcfb-ca74-43b4-a59c-32c5ae583148"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil", "owner_id"=>"nil"}}
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$s9uwnjt/aoSgBjpmaLYN/utIiNQPANLB91WoZTAvjfkNspVMpTThC"], ["created_at", "2019-10-22 09:16:05.402058"], ["updated_at", "2019-10-22 09:16:05.402058"], ["jti", "069c0f23-179c-42bb-94ab-2e7045d77051"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.8ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil", "owner_id"=>"nil"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$QWf0xfqnsVSOSoAa.M3LF.KC/fkWwKsGN5/h2PhHAGBUNAHfDxrCy"], ["created_at", "2019-10-22 09:16:05.451886"], ["updated_at", "2019-10-22 09:16:05.451886"], ["jti", "2e40989a-8859-4e72-8611-ea4b8edd93f0"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.5ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2e40989a-8859-4e72-8611-ea4b8edd93f0"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$xqd3eozuImcIsK74/upYJe7M8kyKdMdDZ3e5CcXIzheK/1xxjvr9C"], ["created_at", "2019-10-22 09:16:05.474168"], ["updated_at", "2019-10-22 09:16:05.474168"], ["jti", "d59d09a4-ea92-4469-b30c-d75d3f29c4da"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d59d09a4-ea92-4469-b30c-d75d3f29c4da"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@player.com"], ["encrypted_password", "$2a$04$BCS2Ct1iQzDY6vYNJkIoIuvocBR3SYr/hDEQlBv29ahNMXQM50VHC"], ["created_at", "2019-10-22 09:16:05.493534"], ["updated_at", "2019-10-22 09:16:05.493534"], ["jti", "5eca91ca-3052-4a8d-a619-9e8529ed16ca"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test5@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test5@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5eca91ca-3052-4a8d-a619-9e8529ed16ca"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@player.com"], ["encrypted_password", "$2a$04$riKShFvF/SQEyyL2jzkRmOpaz1MkUtdvF0924vbKBYbfr3MpwNN7C"], ["created_at", "2019-10-22 09:16:05.513927"], ["updated_at", "2019-10-22 09:16:05.513927"], ["jti", "6bfb6457-7855-4dbf-8aec-97b6ab8c2187"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6bfb6457-7855-4dbf-8aec-97b6ab8c2187"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@player.com"], ["encrypted_password", "$2a$04$RfGOvesnq4Xp.5nZtq/Hp.PdaqGcGMEhkZBt22eJe9eHIy1WMYFiK"], ["created_at", "2019-10-22 09:16:05.533539"], ["updated_at", "2019-10-22 09:16:05.533539"], ["jti", "5abaf564-c90d-43ca-90a5-1c53f088203b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$eDk4DF3fN1DxpARAnPGPDO2aHRP1Cvcdy8ZZh1o0Y7ZvMI3cxM9pO"], ["created_at", "2019-10-22 09:16:05.553870"], ["updated_at", "2019-10-22 09:16:05.553870"], ["jti", "92ed62e2-5338-4a6e-8ab3-2861ec0c5fb7"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$yxBjK9ACN7IJHsRWOqesG.HMXCr/JyzCWq/JxOaV4vwX2bLxLI2Te"], ["created_at", "2019-10-22 09:16:05.561611"], ["updated_at", "2019-10-22 09:16:05.561611"], ["jti", "c9dba37f-2ccb-4c61-8b20-6d6389da50a3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$5u8k4knKi/BFqRQ2uFHHo.AY0a6d/171HQ1sdFsnWQPrmKTXGbBY."], ["created_at", "2019-10-22 09:16:05.566718"], ["updated_at", "2019-10-22 09:16:05.566718"], ["jti", "2401148f-90bf-4636-9acf-1e20cf43ec29"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 10], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 10], ["creator_id", 12], ["created_at", "2019-10-22 09:16:05.574207"], ["updated_at", "2019-10-22 09:16:05.574207"], ["maintainer_id", 11]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/1" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@player.com"], ["encrypted_password", "$2a$04$RzBvFuCoSRpMHGiyv6WSl.WRkxY72GzR.DBQMHaJg4sDz6IjDHoae"], ["created_at", "2019-10-22 09:16:05.586604"], ["updated_at", "2019-10-22 09:16:05.586604"], ["jti", "f7c1f57b-9629-45fe-a4be-946a4769eb78"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@coffee_owner.com"], ["encrypted_password", "$2a$04$zDB53o1ShVsTSqlzDU0lt.cyATP21L6AjE/aQqeJrjiDHZEy.hHNG"], ["created_at", "2019-10-22 09:16:05.591937"], ["updated_at", "2019-10-22 09:16:05.591937"], ["jti", "6bbae65d-4efe-47c9-8f1f-22a76cce8717"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_expert.com"], ["encrypted_password", "$2a$04$TG8DnpZI9oWvnc2R.9RhUuk3REiHK4TDlRKepsj5AgjOGdrtCOyO."], ["created_at", "2019-10-22 09:16:05.597884"], ["updated_at", "2019-10-22 09:16:05.597884"], ["jti", "ba243335-cf3e-4376-a778-c4e489859f8f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_admin.com"], ["encrypted_password", "$2a$04$ez/eJFhh2l3Jg7JdBPcZzuFCoNi1q4eAYbVFWn3sBSWJdGByaWg.m"], ["created_at", "2019-10-22 09:16:05.604112"], ["updated_at", "2019-10-22 09:16:05.604112"], ["jti", "41650921-403a-462a-a7e6-67f68ff029a3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName2"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 14], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName2"], ["address", "CoffeeShopAddress2"], ["owner_id", 14], ["creator_id", 16], ["created_at", "2019-10-22 09:16:05.611471"], ["updated_at", "2019-10-22 09:16:05.611471"], ["maintainer_id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/coffee_shops/2" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"2"}
Completed 500 Internal Server Error in 13ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@player.com"], ["encrypted_password", "$2a$04$MxmNeq2uvP0JTAoaDoLs4ODlsyOOApRzJi67G/JnTDb7jJSt1f/4e"], ["created_at", "2019-10-22 09:16:05.645037"], ["updated_at", "2019-10-22 09:16:05.645037"], ["jti", "46215d0e-be95-47cd-9858-bc559441ec7a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@coffee_owner.com"], ["encrypted_password", "$2a$04$xplvD.UJnVe2fdyblLCeiOYKpnsM26E4rT.8eAuL6UvgtEV6gKjiG"], ["created_at", "2019-10-22 09:16:05.657631"], ["updated_at", "2019-10-22 09:16:05.657631"], ["jti", "3ecea7bd-fa5b-4de5-920f-f1a238df3bab"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$F.c8sIBpvgy02tBx1lsK9u0QgE/ojpyImwBNBTXwyOgu6oD5lNdeq"], ["created_at", "2019-10-22 09:16:05.665394"], ["updated_at", "2019-10-22 09:16:05.665394"], ["jti", "6c006c8f-5d9f-40e3-a4fd-fe3da50211fd"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_admin.com"], ["encrypted_password", "$2a$04$koApMQCJIKr2ovMoWWC.l.vMTJLMMMQk.zx0VOt6Ga2nvx9ATv7RO"], ["created_at", "2019-10-22 09:16:05.672258"], ["updated_at", "2019-10-22 09:16:05.672258"], ["jti", "a25fea27-adf0-47a5-bfad-c03722d8ff76"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName3"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 18], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName3"], ["address", "CoffeeShopAddress3"], ["owner_id", 18], ["creator_id", 20], ["created_at", "2019-10-22 09:16:05.680225"], ["updated_at", "2019-10-22 09:16:05.680225"], ["maintainer_id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/3" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "46215d0e-be95-47cd-9858-bc559441ec7a"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@player.com"], ["encrypted_password", "$2a$04$6gPd69sTxeslb9eBBry6yeEfrT9pLbqMgF6nee0yICLgz.7zKXDFy"], ["created_at", "2019-10-22 09:16:05.693078"], ["updated_at", "2019-10-22 09:16:05.693078"], ["jti", "9a176d9c-c383-4fbf-b179-3360f71d7429"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@coffee_owner.com"], ["encrypted_password", "$2a$04$F1Y1ZOaYVcKimXyYNMNr3e2A1q0H7RbXk1TgJ.C9FhYP.ZIuwPWXO"], ["created_at", "2019-10-22 09:16:05.706861"], ["updated_at", "2019-10-22 09:16:05.706861"], ["jti", "fd327c81-ffd2-4c50-ac6b-dd7701f076c0"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_expert.com"], ["encrypted_password", "$2a$04$p14ofXbGIEdw68dhIR/b0ey7HbbIsKFQfz29sC3sltMkOq1JHuzdi"], ["created_at", "2019-10-22 09:16:05.712603"], ["updated_at", "2019-10-22 09:16:05.712603"], ["jti", "3c9c51fd-2268-43c5-82be-24cc8290a088"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$/ZuSa85J//IrmW0cBg23p.Mjt5sr4/asMOBEgaiH0q1Qvtx1gqw2G"], ["created_at", "2019-10-22 09:16:05.719030"], ["updated_at", "2019-10-22 09:16:05.719030"], ["jti", "e5456737-f379-41d3-9146-71d1afafc9e1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 22], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName4"], ["address", "CoffeeShopAddress4"], ["owner_id", 22], ["creator_id", 24], ["created_at", "2019-10-22 09:16:05.724866"], ["updated_at", "2019-10-22 09:16:05.724866"], ["maintainer_id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/4" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"test"=>"test"}, "id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9a176d9c-c383-4fbf-b179-3360f71d7429"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@player.com"], ["encrypted_password", "$2a$04$Lv5NXsi9o6r1pWzhSyT8q.K4YVLMiKR5PgGh3slxnRf3Aa0CZRy5S"], ["created_at", "2019-10-22 09:16:05.736607"], ["updated_at", "2019-10-22 09:16:05.736607"], ["jti", "2491a133-0bb3-4670-a2f8-32ab9a8f0d26"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@coffee_owner.com"], ["encrypted_password", "$2a$04$KW2jFbNQ9AZJZ691YJoJIO4jY8rn27w7yWPwbMNrSbVfGfqWmCdD6"], ["created_at", "2019-10-22 09:16:05.753388"], ["updated_at", "2019-10-22 09:16:05.753388"], ["jti", "34928eab-170e-4bc5-8a1f-d684fdac1310"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$t3kdumBmHMvY6549O870/e0xSuW.1v0B5wv8K20cPiuW0AyyOqH3u"], ["created_at", "2019-10-22 09:16:05.759551"], ["updated_at", "2019-10-22 09:16:05.759551"], ["jti", "458b8efb-b8ed-41d4-a98c-508e9856723a"], ["role", 2]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_admin.com"], ["encrypted_password", "$2a$04$UZxgnrF2YX6H5mMFhmyxkuFUB27JL4XjUcn1TfbGq8JIz27dqxdeq"], ["created_at", "2019-10-22 09:16:05.766133"], ["updated_at", "2019-10-22 09:16:05.766133"], ["jti", "cf697124-b506-4ad0-8f75-9a9f9cc1e335"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 26], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName5"], ["address", "CoffeeShopAddress5"], ["owner_id", 26], ["creator_id", 28], ["created_at", "2019-10-22 09:16:05.772820"], ["updated_at", "2019-10-22 09:16:05.772820"], ["maintainer_id", 27]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/5" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil"}, "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2491a133-0bb3-4670-a2f8-32ab9a8f0d26"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@player.com"], ["encrypted_password", "$2a$04$Pzh4riD175nibKyLQ9nJWOjvv8jr3M/fkydqu0YTvFduXd0alPNay"], ["created_at", "2019-10-22 09:16:05.785017"], ["updated_at", "2019-10-22 09:16:05.785017"], ["jti", "be55f608-d030-4a99-a660-a4b3c588175b"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@coffee_owner.com"], ["encrypted_password", "$2a$04$X43f7pnw5D1GnvVDClyJtu9WfuzyhQSf0/7yYg9B18j4tDh.uXv5O"], ["created_at", "2019-10-22 09:16:05.799991"], ["updated_at", "2019-10-22 09:16:05.799991"], ["jti", "81d882d8-f683-4051-9db5-d9ee51872a4e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_expert.com"], ["encrypted_password", "$2a$04$vPSAuh/UOT3/jKub3QAfWuqvzZnuj7F0CP/3RUqBBtz2lanl/2Z1."], ["created_at", "2019-10-22 09:16:05.805992"], ["updated_at", "2019-10-22 09:16:05.805992"], ["jti", "c2019e88-0bab-4300-9ba3-c1d31104df03"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$rjycs0cWjFEU6rWE4AkVWueGtqp7TwdzzlxOQzsHjfUm1zMR6oqQ."], ["created_at", "2019-10-22 09:16:05.811222"], ["updated_at", "2019-10-22 09:16:05.811222"], ["jti", "7486c246-05c4-4741-a960-b6ef780584e1"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 30], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName6"], ["address", "CoffeeShopAddress6"], ["owner_id", 30], ["creator_id", 32], ["created_at", "2019-10-22 09:16:05.817013"], ["updated_at", "2019-10-22 09:16:05.817013"], ["maintainer_id", 31]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/6" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"nil", "address"=>"nil"}, "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "be55f608-d030-4a99-a660-a4b3c588175b"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@player.com"], ["encrypted_password", "$2a$04$2Z.8janT30jBuBL89IvVxOUuC.XL8EyxXbKFRpVc8IqIkpDBZvbTm"], ["created_at", "2019-10-22 09:16:05.829549"], ["updated_at", "2019-10-22 09:16:05.829549"], ["jti", "16628da9-69d7-4461-818c-4e8ded434208"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@coffee_owner.com"], ["encrypted_password", "$2a$04$sdKEtaddvvPyGmkQWgUhGetM.bvr3KNvGrWOoIrqubAseu2hXMhU6"], ["created_at", "2019-10-22 09:16:05.835710"], ["updated_at", "2019-10-22 09:16:05.835710"], ["jti", "5a7562bf-296b-4cfb-aecf-ae1d1a4da08c"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$w892RU.krCfM5A7QVK8AtOsfHCCRzJp76PojAqMkrzpnf9Z3bXLaG"], ["created_at", "2019-10-22 09:16:05.841364"], ["updated_at", "2019-10-22 09:16:05.841364"], ["jti", "72ffabfb-4bfa-47eb-aded-d54f184f7667"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$Yg.uKlt50/3bN7MBGUjMbeUti7nE5BvxcA0w0fZTJhcXSgPdoDU12"], ["created_at", "2019-10-22 09:16:05.847196"], ["updated_at", "2019-10-22 09:16:05.847196"], ["jti", "6adc2c88-2c42-4623-80a7-34fa958263f7"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName7"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 34], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.4ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName7"], ["address", "CoffeeShopAddress7"], ["owner_id", 34], ["creator_id", 36], ["created_at", "2019-10-22 09:16:05.854616"], ["updated_at", "2019-10-22 09:16:05.854616"], ["maintainer_id", 35]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/7" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@player.com"], ["encrypted_password", "$2a$04$EAuB9UEhQql1SNOe3d6DTOtN2XjXPH6sMXF11p2.q83CFQbPYX9IS"], ["created_at", "2019-10-22 09:16:05.864423"], ["updated_at", "2019-10-22 09:16:05.864423"], ["jti", "07280b3d-581e-42ea-9e40-a00ff0548685"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@coffee_owner.com"], ["encrypted_password", "$2a$04$NcB5KwVGis5lm2RdrofoyOZPeyBrHKWO23Phk7/GcBBFMNyw.iwtW"], ["created_at", "2019-10-22 09:16:05.871073"], ["updated_at", "2019-10-22 09:16:05.871073"], ["jti", "87cfabbf-fcde-4bca-8469-2b771e90e35c"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_expert.com"], ["encrypted_password", "$2a$04$tdAf/URvHBa7XSJYKOxL7OORLBLI59nU0RIIJEZODD7qGOu81aN.q"], ["created_at", "2019-10-22 09:16:05.876463"], ["updated_at", "2019-10-22 09:16:05.876463"], ["jti", "a3e02936-7c8d-4fa5-8053-44c30c3d7025"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_admin.com"], ["encrypted_password", "$2a$04$xryTNvdRyF2U9tWdZTi32.1QJNNY/q3lT0IGCzlIsPTU5BtQXesMG"], ["created_at", "2019-10-22 09:16:05.882929"], ["updated_at", "2019-10-22 09:16:05.882929"], ["jti", "73cbda76-d6a2-43ad-8464-d8a3ac9d65f9"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName8"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 38], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName8"], ["address", "CoffeeShopAddress8"], ["owner_id", 38], ["creator_id", 40], ["created_at", "2019-10-22 09:16:05.889232"], ["updated_at", "2019-10-22 09:16:05.889232"], ["maintainer_id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/coffee_shops/8" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"8"}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@coffee_owner.com"], ["encrypted_password", "$2a$04$45W.PN.of2WPX88VtT5rJ.9l7QN4bK71xfoyL.21uekZb3ceU5wmW"], ["created_at", "2019-10-22 09:16:05.907269"], ["updated_at", "2019-10-22 09:16:05.907269"], ["jti", "908b53cc-cf14-4431-81d0-f67f864cbc59"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1", "maintainer_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "908b53cc-cf14-4431-81d0-f67f864cbc59"], ["LIMIT", 1]]
Unpermitted parameters: :name, :address, :owner_id, :maintainer_id
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@coffee_owner.com"], ["encrypted_password", "$2a$04$XKZGlGKQ4tVmUh6/1iQwyOoID5/kMdSMOczwyO95ZGNgUCcvF2vWO"], ["created_at", "2019-10-22 09:16:05.950976"], ["updated_at", "2019-10-22 09:16:05.950976"], ["jti", "3e9b3d3d-9a57-4d66-83e6-15718f01aa0b"], ["role", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_expert.com"], ["encrypted_password", "$2a$04$uuT9ILKOyEWkCl6P5I161.8CfR0nboI7xnhaCDr/j4oprqBkuaQm."], ["created_at", "2019-10-22 09:16:05.964728"], ["updated_at", "2019-10-22 09:16:05.964728"], ["jti", "c79e96d2-1a36-49f1-b002-ec7923090cef"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_admin.com"], ["encrypted_password", "$2a$04$l07D.JbxxT.xREXBe6JFqOuNnVdyK7Wo1KWS0NhMsJKFmM4zprHku"], ["created_at", "2019-10-22 09:16:05.972230"], ["updated_at", "2019-10-22 09:16:05.972230"], ["jti", "16caf344-fe74-441c-99a0-29519a0ca59e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName9"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 42], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName9"], ["address", "CoffeeShopAddress9"], ["owner_id", 42], ["creator_id", 44], ["created_at", "2019-10-22 09:16:05.978826"], ["updated_at", "2019-10-22 09:16:05.978826"], ["maintainer_id", 43]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/9" for 127.0.0.1 at 2019-10-22 12:46:05 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3e9b3d3d-9a57-4d66-83e6-15718f01aa0b"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.4ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :maintainer_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 9], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 42], ["id", 9], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.9ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-22 09:16:06.004691"], ["id", 9]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 9], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 42], ["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 32ms (Views: 2.2ms | ActiveRecord: 8.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@coffee_owner.com"], ["encrypted_password", "$2a$04$o/wcJ54k2QnFVgIsZ/Gao.jlpTmgsAaJqemLrWpEuKBOBCeFX26Rm"], ["created_at", "2019-10-22 09:16:06.022080"], ["updated_at", "2019-10-22 09:16:06.022080"], ["jti", "158a20cb-38b5-42e2-8d0b-88e1e9a5d26d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@coffee_owner.com"], ["encrypted_password", "$2a$04$/O6GZ3s.e2k9B6D5PZqItuCjUEk0fvW1CoHGgoeZBCJmLTg2LMxUm"], ["created_at", "2019-10-22 09:16:06.028223"], ["updated_at", "2019-10-22 09:16:06.028223"], ["jti", "1188c4e2-9db5-46b2-9568-e1755a767d2b"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_expert.com"], ["encrypted_password", "$2a$04$GsiLLtj84Dvy/JSPPfLXIeaJJcioc38hguJFxxLY9WUtebAYqsJDK"], ["created_at", "2019-10-22 09:16:06.044015"], ["updated_at", "2019-10-22 09:16:06.044015"], ["jti", "7c5c5ec4-38c2-45c1-8768-2ad57a7cce49"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_admin.com"], ["encrypted_password", "$2a$04$2027fK2bLrMWTEznuQu30.vHO2b97M8RoXftkimdFcpoEZDIBOYDi"], ["created_at", "2019-10-22 09:16:06.058394"], ["updated_at", "2019-10-22 09:16:06.058394"], ["jti", "8c5890c0-b090-480d-bc8e-c8ff08e6e587"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName10"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 46], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName10"], ["address", "CoffeeShopAddress10"], ["owner_id", 46], ["creator_id", 48], ["created_at", "2019-10-22 09:16:06.066181"], ["updated_at", "2019-10-22 09:16:06.066181"], ["maintainer_id", 47]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/10" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "158a20cb-38b5-42e2-8d0b-88e1e9a5d26d"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.4ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@coffee_owner.com"], ["encrypted_password", "$2a$04$OO2bdZqJ1/fNT7mQQhQscuOCo2NyhuiNW24KaaIgXRJUqUG.5go4C"], ["created_at", "2019-10-22 09:16:06.079987"], ["updated_at", "2019-10-22 09:16:06.079987"], ["jti", "2ada834c-523a-459f-8424-c24c7dce52e2"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_expert.com"], ["encrypted_password", "$2a$04$z87Y80ExAAJQBkI3Rw0W1Ow/6ju/GvDQXto7HiNFewZ9IkX8RTyQ."], ["created_at", "2019-10-22 09:16:06.091878"], ["updated_at", "2019-10-22 09:16:06.091878"], ["jti", "74ed88be-4aba-4c11-81ac-18ce382e8284"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_admin.com"], ["encrypted_password", "$2a$04$FnpyGQg6s4oC/FTDMI.mYOmoDXAWUh7UADceJAT9Ugj/HaoY6iE8u"], ["created_at", "2019-10-22 09:16:06.096441"], ["updated_at", "2019-10-22 09:16:06.096441"], ["jti", "43a1dd4c-9ca9-4da8-acf6-27f20c8e51e2"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName11"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 49], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName11"], ["address", "CoffeeShopAddress11"], ["owner_id", 49], ["creator_id", 51], ["created_at", "2019-10-22 09:16:06.104007"], ["updated_at", "2019-10-22 09:16:06.104007"], ["maintainer_id", 50]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@coffee_owner.com"], ["encrypted_password", "$2a$04$XxzBNqYB/5B2MgyeJcXME.SvS9utkEYPg0o6glnLOO88u3xKzZvsa"], ["created_at", "2019-10-22 09:16:06.111398"], ["updated_at", "2019-10-22 09:16:06.111398"], ["jti", "66b43c8d-dbc9-4162-8da1-20d807d2be16"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_expert.com"], ["encrypted_password", "$2a$04$6iOHJgMJmQ9ZLIHYi2cqGe9LA5Y3hHEywDuKp7qzY0dgXGdcas.sG"], ["created_at", "2019-10-22 09:16:06.116715"], ["updated_at", "2019-10-22 09:16:06.116715"], ["jti", "c200ceae-4470-4d45-9b04-67cd933f26e0"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_admin.com"], ["encrypted_password", "$2a$04$s6oToPZQC5j8EyYvC2myYuLS7VQd30w0uk0FullSNBhh1tGTrA66a"], ["created_at", "2019-10-22 09:16:06.122568"], ["updated_at", "2019-10-22 09:16:06.122568"], ["jti", "31a44c7b-545a-43de-92ce-7b3f600d4938"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/11" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"52", "maintainer_id"=>"#<ApiUser:0x0000556029d9c900>", "creator_id"=>"54"}, "id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2ada834c-523a-459f-8424-c24c7dce52e2"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.4ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :maintainer_id, :creator_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 11], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 49], ["id", 11], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-22 09:16:06.135965"], ["id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 11], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 49], ["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 1.1ms | ActiveRecord: 6.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@coffee_owner.com"], ["encrypted_password", "$2a$04$zMxh3720tF15luLjIfqev.oJjZ4YgyotKaArKv8ovxYlacrwdZddG"], ["created_at", "2019-10-22 09:16:06.151283"], ["updated_at", "2019-10-22 09:16:06.151283"], ["jti", "acbfe405-07e3-4c95-bad9-0b0e4aa44050"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_expert.com"], ["encrypted_password", "$2a$04$VYoqxyK/x74Bs4JYjmvi4uMOMhewSAWhwYeIRT8O4gwl3/9c6h8sS"], ["created_at", "2019-10-22 09:16:06.167749"], ["updated_at", "2019-10-22 09:16:06.167749"], ["jti", "14363ec0-7717-4b9b-a7b2-0e98dd390477"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_admin.com"], ["encrypted_password", "$2a$04$F/AVPd8z9AfC2spxVUJuTekeCR0xhsqatYPZNQXifvHlYKdB0c1ba"], ["created_at", "2019-10-22 09:16:06.172648"], ["updated_at", "2019-10-22 09:16:06.172648"], ["jti", "81910dd0-6e26-404a-ae36-393cae0ceb46"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName12"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 55], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName12"], ["address", "CoffeeShopAddress12"], ["owner_id", 55], ["creator_id", 57], ["created_at", "2019-10-22 09:16:06.181191"], ["updated_at", "2019-10-22 09:16:06.181191"], ["maintainer_id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/12" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "acbfe405-07e3-4c95-bad9-0b0e4aa44050"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Update (0.4ms)[0m  [1m[33mUPDATE "coffee_shops" SET "deleted_at" = $1, "updated_at" = $2 WHERE "coffee_shops"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:06.188261"], ["updated_at", "2019-10-22 09:16:06.188820"], ["id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 1.3ms)
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@coffee_owner.com"], ["encrypted_password", "$2a$04$nAKIaQY1wmempSwRD2cgvue/ihyFFg0jtTAGPx0iMVXWS6srgLEZu"], ["created_at", "2019-10-22 09:16:06.198405"], ["updated_at", "2019-10-22 09:16:06.198405"], ["jti", "727fa2a0-9419-4663-9ee3-73d08045fd4d"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@coffee_owner.com"], ["encrypted_password", "$2a$04$IX6uFHG.tHE65tWZ1qAtueEGETtd0j/zzZ8z3M97NCnOBXqkvG8DS"], ["created_at", "2019-10-22 09:16:06.204556"], ["updated_at", "2019-10-22 09:16:06.204556"], ["jti", "4dff01dc-5de9-4757-9708-c77cbab9d376"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_expert.com"], ["encrypted_password", "$2a$04$NX33jMiAxzoQJpfx8qw.c.7.2urqoGVauEl2E/znvqwG9gZwPQoc6"], ["created_at", "2019-10-22 09:16:06.217418"], ["updated_at", "2019-10-22 09:16:06.217418"], ["jti", "be648e57-0c38-4a96-a3c5-5cf74ac6f0b3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_admin.com"], ["encrypted_password", "$2a$04$wxRfLE.M4IIRyslYUYQN6.GELj9ydzZ4csL3QBfApzimjnSloECeu"], ["created_at", "2019-10-22 09:16:06.222840"], ["updated_at", "2019-10-22 09:16:06.222840"], ["jti", "7c12e126-31c0-41fa-a60b-d8c213aa3100"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName13"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 59], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName13"], ["address", "CoffeeShopAddress13"], ["owner_id", 59], ["creator_id", 61], ["created_at", "2019-10-22 09:16:06.228745"], ["updated_at", "2019-10-22 09:16:06.228745"], ["maintainer_id", 60]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/13" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "727fa2a0-9419-4663-9ee3-73d08045fd4d"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@player.com"], ["encrypted_password", "$2a$04$B.JLhPMzhbh6qr802.JS9OvZKtFVbSLjnsxJWkjwZ/4zPBr54nxaW"], ["created_at", "2019-10-22 09:16:06.242249"], ["updated_at", "2019-10-22 09:16:06.242249"], ["jti", "cb484ce5-82a2-44b6-84ed-6b59a6210301"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1", "maintainer_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cb484ce5-82a2-44b6-84ed-6b59a6210301"], ["LIMIT", 1]]
Unpermitted parameters: :name, :address, :owner_id, :maintainer_id
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@player.com"], ["encrypted_password", "$2a$04$g2YrbzCW0GyKb8ktyA6ZrO6N12c0BRqnL.J8MKVm9dX11ZPafek7K"], ["created_at", "2019-10-22 09:16:06.265263"], ["updated_at", "2019-10-22 09:16:06.265263"], ["jti", "b3fc28aa-ee7d-468b-9056-8557dc76a98c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@coffee_owner.com"], ["encrypted_password", "$2a$04$sNZdaExwJNcwuFMWmQOunezUWI2VmwuwisRNu6QKzz8NGuR7fHrpq"], ["created_at", "2019-10-22 09:16:06.278314"], ["updated_at", "2019-10-22 09:16:06.278314"], ["jti", "5747009e-7a8e-4282-be8f-bc5ab048ae17"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_expert.com"], ["encrypted_password", "$2a$04$NJoLWwBt.PTwToRid7H7GONZb56RsRb/lUzwfmWjU.KUtxqoMm45."], ["created_at", "2019-10-22 09:16:06.284122"], ["updated_at", "2019-10-22 09:16:06.284122"], ["jti", "ab7fe890-1bd2-4a0e-8cc9-4d3abe654f5a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_admin.com"], ["encrypted_password", "$2a$04$1w4M/Xrfd2rA7Q1igE448Oc42njDXMAxyZ6miR2jbD3wf2pPQz.2a"], ["created_at", "2019-10-22 09:16:06.288913"], ["updated_at", "2019-10-22 09:16:06.288913"], ["jti", "fa5a515f-05e0-4813-970f-677bf844ebf7"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName14"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 64], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName14"], ["address", "CoffeeShopAddress14"], ["owner_id", 64], ["creator_id", 66], ["created_at", "2019-10-22 09:16:06.295970"], ["updated_at", "2019-10-22 09:16:06.295970"], ["maintainer_id", 65]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/14" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"14"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3fc28aa-ee7d-468b-9056-8557dc76a98c"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@player.com"], ["encrypted_password", "$2a$04$h6adMjR38z3Ecldi2tha/uzG9PXOnstMLiOBvihSise20qDR1iENe"], ["created_at", "2019-10-22 09:16:06.309774"], ["updated_at", "2019-10-22 09:16:06.309774"], ["jti", "02ed3603-122d-481e-baf4-a7318300e347"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@coffee_owner.com"], ["encrypted_password", "$2a$04$6XQz7tr1hWN97ZCUEGXwLeMgp1XLVINwp0TdPYsgjEJLeqhm6X5lC"], ["created_at", "2019-10-22 09:16:06.322690"], ["updated_at", "2019-10-22 09:16:06.322690"], ["jti", "849e8c08-8f84-4595-9f19-0b39178ec48c"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_expert.com"], ["encrypted_password", "$2a$04$vW87oyh6imh.lBiu.TgWYeATyO8NH/9haIuF7JIgtyeOfuOk4gRVC"], ["created_at", "2019-10-22 09:16:06.328471"], ["updated_at", "2019-10-22 09:16:06.328471"], ["jti", "8c46cdf2-9d45-4193-8d2e-c8f112d9a0c4"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_admin.com"], ["encrypted_password", "$2a$04$IrwPRL2XuU8ay6Hq.RXau.1sANryNGvQ060YaiVHJivYSI9amSZyS"], ["created_at", "2019-10-22 09:16:06.334554"], ["updated_at", "2019-10-22 09:16:06.334554"], ["jti", "f035763d-af6f-4b5a-b2e9-d27ad088f3c1"], ["role", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName15"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 68], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName15"], ["address", "CoffeeShopAddress15"], ["owner_id", 68], ["creator_id", 70], ["created_at", "2019-10-22 09:16:06.342230"], ["updated_at", "2019-10-22 09:16:06.342230"], ["maintainer_id", 69]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/15" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "02ed3603-122d-481e-baf4-a7318300e347"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_admin.com"], ["encrypted_password", "$2a$04$0mzJZyMhw1ObTpV9zGmQPuGWscCK/1h0uQ7Xc0Yvy3E4QKMx5P0Em"], ["created_at", "2019-10-22 09:16:06.355760"], ["updated_at", "2019-10-22 09:16:06.355760"], ["jti", "29bb8f43-ff9d-4b53-bccf-81e40a3a5fe3"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_expert.com"], ["encrypted_password", "$2a$04$Y/MC.bMmluhdK/JHuo.ZJePnzV0HYRtYCRxIN5MSMJy9l9wOsjQw."], ["created_at", "2019-10-22 09:16:06.361013"], ["updated_at", "2019-10-22 09:16:06.361013"], ["jti", "b47fc45a-e25f-454a-9953-722ccef65dcb"], ["role", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@coffee_owner.com"], ["encrypted_password", "$2a$04$fwYvSlAegpsKr1EZUPtvVOJefhpFHvj4zD3udUxFTVAzmfcjqssIe"], ["created_at", "2019-10-22 09:16:06.367816"], ["updated_at", "2019-10-22 09:16:06.367816"], ["jti", "c959e1ea-c6c5-451a-a202-fba1bca85164"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"coffeeShopName", "address"=>"coffeeShopAddress", "owner_id"=>"73", "maintainer_id"=>"72"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "29bb8f43-ff9d-4b53-bccf-81e40a3a5fe3"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "coffeeShopName"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 73], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "coffeeShopName"], ["address", "coffeeShopAddress"], ["owner_id", 73], ["creator_id", 71], ["created_at", "2019-10-22 09:16:06.389882"], ["updated_at", "2019-10-22 09:16:06.389882"], ["maintainer_id", 72]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 3.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_admin.com"], ["encrypted_password", "$2a$04$2qpiCGBnvOtCtoLFQoVpJOwddZbxLmXAm9DaisHveeAA6NTl8NSUi"], ["created_at", "2019-10-22 09:16:06.403773"], ["updated_at", "2019-10-22 09:16:06.403773"], ["jti", "68123b21-eac0-4748-ae7d-8312f6797b6f"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_expert.com"], ["encrypted_password", "$2a$04$BcF94H3iqalOu7huMO790OXz20bN41CxhUjPYbdi6Mst7HSBkiUEG"], ["created_at", "2019-10-22 09:16:06.418047"], ["updated_at", "2019-10-22 09:16:06.418047"], ["jti", "a76124ab-72f4-4d63-a69a-0b2f5646a792"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@coffee_owner.com"], ["encrypted_password", "$2a$04$nZnlNn/cUjuCPqBF1Dp9ZeapzK1hhx9V0FVVCaGjAL9mKzCS6W8.2"], ["created_at", "2019-10-22 09:16:06.432762"], ["updated_at", "2019-10-22 09:16:06.432762"], ["jti", "855f0283-8ab7-46c0-a477-3d59c9cd6595"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@coffee_owner.com"], ["encrypted_password", "$2a$04$fSqUThysvOkQagrql8Ijqu9TreLPLIoZ0vmKFWMvrMyzqkeWOSuKq"], ["created_at", "2019-10-22 09:16:06.439812"], ["updated_at", "2019-10-22 09:16:06.439812"], ["jti", "40e75f31-bf6d-40e5-b45c-d23bf52d1cce"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_expert.com"], ["encrypted_password", "$2a$04$PjxPiVue.vJ0xDXZmgJYE.Uzrrz.MBpD4dFXAOD3I5ysAuk/rxBjq"], ["created_at", "2019-10-22 09:16:06.445179"], ["updated_at", "2019-10-22 09:16:06.445179"], ["jti", "c7fbe733-389a-471a-9985-cab586806e49"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName16"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 77], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName16"], ["address", "CoffeeShopAddress16"], ["owner_id", 77], ["creator_id", 74], ["created_at", "2019-10-22 09:16:06.450881"], ["updated_at", "2019-10-22 09:16:06.450881"], ["maintainer_id", 78]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/17" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"76", "maintainer_id"=>"75"}, "id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "68123b21-eac0-4748-ae7d-8312f6797b6f"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 17], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 76], ["id", 17], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "owner_id" = $1, "maintainer_id" = $2, "name" = $3, "address" = $4, "updated_at" = $5 WHERE "coffee_shops"."id" = $6[0m  [["owner_id", 76], ["maintainer_id", 75], ["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-22 09:16:06.464258"], ["id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 17], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 76], ["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 20ms (Views: 1.9ms | ActiveRecord: 6.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_admin.com"], ["encrypted_password", "$2a$04$llqOCgpsaGGgCfgAA71goea6hnAhn6D5NG01bYjVBfN7bgDc6s0v."], ["created_at", "2019-10-22 09:16:06.481447"], ["updated_at", "2019-10-22 09:16:06.481447"], ["jti", "a565347f-8f63-47e7-b0bf-de347ef80af4"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@coffee_owner.com"], ["encrypted_password", "$2a$04$t/Lx1iLBoxHRbHOWWCiM4OM6S2TtvDHTs.qW.DSXyCtVqLZe7INn."], ["created_at", "2019-10-22 09:16:06.496756"], ["updated_at", "2019-10-22 09:16:06.496756"], ["jti", "2680075d-5af5-421d-bbb1-ded865e9e5d2"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_expert.com"], ["encrypted_password", "$2a$04$xLPbUS9wmRtHA/hXHgXc6.vFYSup.pCjBnwOs9VcPj0Uodbsm70OG"], ["created_at", "2019-10-22 09:16:06.502743"], ["updated_at", "2019-10-22 09:16:06.502743"], ["jti", "16353617-a473-4fbd-92c0-9d9d112a1e9b"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_admin.com"], ["encrypted_password", "$2a$04$gZv2cjNzM0MSFFFXEb63lu9Am9xjO.0hE8xvrHFa0MGf6DGTNKG.G"], ["created_at", "2019-10-22 09:16:06.508639"], ["updated_at", "2019-10-22 09:16:06.508639"], ["jti", "a9b9bd24-ad36-445b-bd71-9b546de00c30"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName17"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 80], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName17"], ["address", "CoffeeShopAddress17"], ["owner_id", 80], ["creator_id", 82], ["created_at", "2019-10-22 09:16:06.514088"], ["updated_at", "2019-10-22 09:16:06.514088"], ["maintainer_id", 81]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/18" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a565347f-8f63-47e7-b0bf-de347ef80af4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "deleted_at" = $1, "updated_at" = $2 WHERE "coffee_shops"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:06.520691"], ["updated_at", "2019-10-22 09:16:06.521381"], ["id", 18]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 1.5ms)
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_expert.com"], ["encrypted_password", "$2a$04$BHuZ/H0pg8rtlrBmyKnMyemtHMqJq47vtxCBImbgPvf.THyGq4Mdi"], ["created_at", "2019-10-22 09:16:06.534117"], ["updated_at", "2019-10-22 09:16:06.534117"], ["jti", "b8c9b674-b836-4307-94c8-39363d23c6c1"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"name", "address"=>"address", "owner_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b8c9b674-b836-4307-94c8-39363d23c6c1"], ["LIMIT", 1]]
Unpermitted parameters: :name, :address, :owner_id
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_expert.com"], ["encrypted_password", "$2a$04$RNKMhJCV4zSJRYpBmMjc4e9v/kLuePeSFM4txbr8LvPzB1TfhzOcC"], ["created_at", "2019-10-22 09:16:06.557396"], ["updated_at", "2019-10-22 09:16:06.557396"], ["jti", "92b2174a-37ed-4aa9-ac66-71404bfed81c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@coffee_owner.com"], ["encrypted_password", "$2a$04$o3klcpEHmDmTxZzGvT21zuwQ.9M3ep6i590W0G8uwU1uHwAV1uxYG"], ["created_at", "2019-10-22 09:16:06.569637"], ["updated_at", "2019-10-22 09:16:06.569637"], ["jti", "770082d5-2402-4b7b-bce9-f90a45c76166"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_admin.com"], ["encrypted_password", "$2a$04$qGAymvcFYSAUohIkahClX.XfVSgHXFQ1fEj81sLVs2PbM6S9S/yYu"], ["created_at", "2019-10-22 09:16:06.575802"], ["updated_at", "2019-10-22 09:16:06.575802"], ["jti", "e9c1d1d6-1dcf-4804-bdc9-99c56c57cfa8"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName18"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 85], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName18"], ["address", "CoffeeShopAddress18"], ["owner_id", 85], ["creator_id", 86], ["created_at", "2019-10-22 09:16:06.580675"], ["updated_at", "2019-10-22 09:16:06.580675"], ["maintainer_id", 84]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/19" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "92b2174a-37ed-4aa9-ac66-71404bfed81c"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :maintainer_id
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 19], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 85], ["id", 19], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.7ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-22 09:16:06.595512"], ["id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 19], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 85], ["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 21ms (Views: 1.5ms | ActiveRecord: 6.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@coffee_owner.com"], ["encrypted_password", "$2a$04$8DUkY95nVcThyU2IDH1zDudvVxa7lFEjeMnjsxkKwP7drjOoxU3JK"], ["created_at", "2019-10-22 09:16:06.612300"], ["updated_at", "2019-10-22 09:16:06.612300"], ["jti", "150ab44a-2af2-4fce-8191-8938d5976e85"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@coffee_owner.com"], ["encrypted_password", "$2a$04$29tL0ei3hV31f2RaY2m/ceXmhqQE6g15.JrxA5FrBDEvLSRNlWkCm"], ["created_at", "2019-10-22 09:16:06.619915"], ["updated_at", "2019-10-22 09:16:06.619915"], ["jti", "5c0cd67b-9054-495d-be69-d459feb65389"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_expert.com"], ["encrypted_password", "$2a$04$PdPb8QW0VvMda4ohACehGOudfDBfmvY5mFahmz2szJ7GqeYZh/N3K"], ["created_at", "2019-10-22 09:16:06.633841"], ["updated_at", "2019-10-22 09:16:06.633841"], ["jti", "b3252622-d801-4b47-8a59-86e0d60e8b5b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_admin.com"], ["encrypted_password", "$2a$04$y83q3ymlE7TjtRb02aZQ6ODRSopt1J7uEVi0UTBgYdJo0TQHDgqLG"], ["created_at", "2019-10-22 09:16:06.639755"], ["updated_at", "2019-10-22 09:16:06.639755"], ["jti", "5ffe2626-ceac-4817-b052-e9f973571259"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName19"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 88], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName19"], ["address", "CoffeeShopAddress19"], ["owner_id", 88], ["creator_id", 90], ["created_at", "2019-10-22 09:16:06.645861"], ["updated_at", "2019-10-22 09:16:06.645861"], ["maintainer_id", 89]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/20" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"1", "maintainer_id"=>"1"}, "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "150ab44a-2af2-4fce-8191-8938d5976e85"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_expert.com"], ["encrypted_password", "$2a$04$wIb1pjiSc1I5WJZmDrqe7uQEMxjmB42yRGVj9CirhKAAmxZrUHclq"], ["created_at", "2019-10-22 09:16:06.658155"], ["updated_at", "2019-10-22 09:16:06.658155"], ["jti", "c91f6bb9-0cff-4ea1-813b-ccb9ae1dd4f9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@coffee_owner.com"], ["encrypted_password", "$2a$04$T0ZS/pwe4YTBEUvGCwatkO4xku/X.8GYvWBqbFv98PWsDTcN1xKjy"], ["created_at", "2019-10-22 09:16:06.671610"], ["updated_at", "2019-10-22 09:16:06.671610"], ["jti", "9c8990c0-2264-4b03-967d-420a821e73fe"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_admin.com"], ["encrypted_password", "$2a$04$/EUroIyVv.XwNRwrB/YVducbkMShXBWqeJYuzVNptZZ7dBkfCK74m"], ["created_at", "2019-10-22 09:16:06.678742"], ["updated_at", "2019-10-22 09:16:06.678742"], ["jti", "0d12cf0e-0c59-4ec4-989b-58769bf93661"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName20"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 92], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName20"], ["address", "CoffeeShopAddress20"], ["owner_id", 92], ["creator_id", 93], ["created_at", "2019-10-22 09:16:06.686262"], ["updated_at", "2019-10-22 09:16:06.686262"], ["maintainer_id", 91]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@coffee_owner.com"], ["encrypted_password", "$2a$04$GE./ML1ikiZqOZNQjXUJius1yLWppshc.7zvw/xbausJDXQfaBM2G"], ["created_at", "2019-10-22 09:16:06.691929"], ["updated_at", "2019-10-22 09:16:06.691929"], ["jti", "b8b5546a-f548-4af2-bcac-65f8fae19029"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_expert.com"], ["encrypted_password", "$2a$04$xSL70DpEJKSYMnr8eE1HZu.wSji9VGF9O/1hcESyFZgDo7sSsLrX."], ["created_at", "2019-10-22 09:16:06.696675"], ["updated_at", "2019-10-22 09:16:06.696675"], ["jti", "325b5d68-0f16-429f-b3db-dbc8e5996dba"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_admin.com"], ["encrypted_password", "$2a$04$tN0EweD1WOV.Py/o3t96WuXELuezPApFzrLPLLyO2CeYiYxRDsfDK"], ["created_at", "2019-10-22 09:16:06.701550"], ["updated_at", "2019-10-22 09:16:06.701550"], ["jti", "1a0bba71-5b81-41dd-ad9e-28f910698c7e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/21" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"94", "creator_id"=>"96", "maintainer_id"=>"95"}, "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c91f6bb9-0cff-4ea1-813b-ccb9ae1dd4f9"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
Unpermitted parameters: :owner_id, :creator_id, :maintainer_id
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 21], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 92], ["id", 21], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.7ms)[0m  [1m[33mUPDATE "coffee_shops" SET "name" = $1, "address" = $2, "updated_at" = $3 WHERE "coffee_shops"."id" = $4[0m  [["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-22 09:16:06.713210"], ["id", 21]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 21], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 92], ["id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 1.1ms | ActiveRecord: 5.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_expert.com"], ["encrypted_password", "$2a$04$lHBUSmbVjZMD8jNNVwImAuUHvjbY.Xw26CRT4J98ODWuUA4G.9yiW"], ["created_at", "2019-10-22 09:16:06.727382"], ["updated_at", "2019-10-22 09:16:06.727382"], ["jti", "4786b3ef-4927-46f9-937c-18c5195c0316"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@coffee_owner.com"], ["encrypted_password", "$2a$04$KO2yRDs0.Hde7J491JQNSOYEyZ.WWjfSE55uoqbHJBgFiAm1NSZce"], ["created_at", "2019-10-22 09:16:06.743593"], ["updated_at", "2019-10-22 09:16:06.743593"], ["jti", "956dfebc-fea2-4243-8bf3-d166bff13def"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_expert.com"], ["encrypted_password", "$2a$04$N7m96qQbV/eX.aqcckSOKOcICiQzsq8PSEn.M6VzzH3miMKWmZ4uy"], ["created_at", "2019-10-22 09:16:06.750000"], ["updated_at", "2019-10-22 09:16:06.750000"], ["jti", "158c7246-2770-4843-a5ca-2b88c39701d9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_admin.com"], ["encrypted_password", "$2a$04$x29dRYOnfsgY2RKcQhcwvOplG9yF05s62LDQ6Gk0CnE8ufG41gzU6"], ["created_at", "2019-10-22 09:16:06.756247"], ["updated_at", "2019-10-22 09:16:06.756247"], ["jti", "1f9af6e5-1ffa-414c-80d0-2b72e94caf44"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName21"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 98], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName21"], ["address", "CoffeeShopAddress21"], ["owner_id", 98], ["creator_id", 100], ["created_at", "2019-10-22 09:16:06.761409"], ["updated_at", "2019-10-22 09:16:06.761409"], ["maintainer_id", 99]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/22" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4786b3ef-4927-46f9-937c-18c5195c0316"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$PoyUNct9xCF3jgy.LXtBSOvQ879tLlDeeE4TJrbJL0CQfHIQqEJrm"], ["created_at", "2019-10-22 09:16:06.773327"], ["updated_at", "2019-10-22 09:16:06.773327"], ["jti", "c3218b27-d2b0-4678-98fc-d4282f3c0ef7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_expert.com"], ["encrypted_password", "$2a$04$fbDKHlq3qNH5an79i5wgLOsBe..swHldYNBDY03l.xqm2GKzupjDW"], ["created_at", "2019-10-22 09:16:06.779778"], ["updated_at", "2019-10-22 09:16:06.779778"], ["jti", "129606be-a3dd-4487-832f-80cf3ff08bc2"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@coffee_owner.com"], ["encrypted_password", "$2a$04$l1/GcVibJ1dXS.pQP54KXOHv4Pa9.oQh3NbGlw6t4s/aw8lEYB2au"], ["created_at", "2019-10-22 09:16:06.793715"], ["updated_at", "2019-10-22 09:16:06.793715"], ["jti", "d1a4bdfe-23fb-4498-a147-48f503848a43"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
Started POST "/api/coffee_shops" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#create as JSON
  Parameters: {"coffee_shop"=>{"name"=>"coffeeShopName", "address"=>"coffeeShopAddress", "owner_id"=>"103", "maintainer_id"=>"102"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c3218b27-d2b0-4678-98fc-d4282f3c0ef7"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "coffeeShopName"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 103], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "coffeeShopName"], ["address", "coffeeShopAddress"], ["owner_id", 103], ["creator_id", 101], ["created_at", "2019-10-22 09:16:06.812016"], ["updated_at", "2019-10-22 09:16:06.812016"], ["maintainer_id", 102]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 3.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "coffee_shops"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_master.com"], ["encrypted_password", "$2a$04$53RWspqRDs6r5kQ9Rf8XzOt1LW2GkgZqcXCipqvAsq5amF7Q/kCES"], ["created_at", "2019-10-22 09:16:06.821953"], ["updated_at", "2019-10-22 09:16:06.821953"], ["jti", "65c62bbb-4b65-4144-9513-b3a88e5518e5"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_expert.com"], ["encrypted_password", "$2a$04$l/P9/LWH1r6a12mp9.Uldui0I83urRaVtrnj/Fo9WyoZvFwKfQd7q"], ["created_at", "2019-10-22 09:16:06.835079"], ["updated_at", "2019-10-22 09:16:06.835079"], ["jti", "7c36f21d-4ffa-47aa-856c-638b4ba0650c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@coffee_owner.com"], ["encrypted_password", "$2a$04$WS2pf9/1KTVssvqhD17yRersc7R.qbk/VSEjBssfmwTjQrm3/rNMK"], ["created_at", "2019-10-22 09:16:06.840601"], ["updated_at", "2019-10-22 09:16:06.840601"], ["jti", "bafe11d3-a9d0-4f4c-9102-564c10307f38"], ["role", 3]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@coffee_owner.com"], ["encrypted_password", "$2a$04$z4ope2FLuW4wuPDJLwKpQuQC4dHnMnoR60zynhkEjTDQQ6G7fSrLq"], ["created_at", "2019-10-22 09:16:06.847148"], ["updated_at", "2019-10-22 09:16:06.847148"], ["jti", "28240895-b159-4f33-ad07-87e5d71d8282"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_expert.com"], ["encrypted_password", "$2a$04$BjkloztBZBjSXmh3axABpudL9TfoSLsFB8g4PYUV2.69kJuah.C86"], ["created_at", "2019-10-22 09:16:06.853304"], ["updated_at", "2019-10-22 09:16:06.853304"], ["jti", "e6d54d59-acc5-4dba-b54e-f0b2bef70b15"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName22"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 107], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName22"], ["address", "CoffeeShopAddress22"], ["owner_id", 107], ["creator_id", 104], ["created_at", "2019-10-22 09:16:06.859734"], ["updated_at", "2019-10-22 09:16:06.859734"], ["maintainer_id", 108]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/api/coffee_shops/24" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#update as JSON
  Parameters: {"coffee_shop"=>{"name"=>"new_name", "address"=>"new_address", "owner_id"=>"106", "maintainer_id"=>"105"}, "id"=>"24"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "65c62bbb-4b65-4144-9513-b3a88e5518e5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 24], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 106], ["id", 24], ["LIMIT", 1]]
  [1m[36mCoffeeShop Update (0.5ms)[0m  [1m[33mUPDATE "coffee_shops" SET "owner_id" = $1, "maintainer_id" = $2, "name" = $3, "address" = $4, "updated_at" = $5 WHERE "coffee_shops"."id" = $6[0m  [["owner_id", 106], ["maintainer_id", 105], ["name", "new_name"], ["address", "new_address"], ["updated_at", "2019-10-22 09:16:06.874159"], ["id", 24]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "new_name"], ["id", 24], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 106], ["id", 24], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 24ms (Views: 2.0ms | ActiveRecord: 9.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_master.com"], ["encrypted_password", "$2a$04$aOZUhunAm1WDgHuBF42z3uRZpsznRzEYQqQbLfFpRw.KFA3ukKgMS"], ["created_at", "2019-10-22 09:16:06.895246"], ["updated_at", "2019-10-22 09:16:06.895246"], ["jti", "9a2535af-3201-4c0b-b09c-eed4bfb3456b"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@coffee_owner.com"], ["encrypted_password", "$2a$04$4yvV5gOPRyG1dUjCcw8..O5vlQMZKB2qoqL9KPexUCQ7wc2Cpg.h6"], ["created_at", "2019-10-22 09:16:06.910917"], ["updated_at", "2019-10-22 09:16:06.910917"], ["jti", "eda7d3a3-0bfd-4ee2-b28b-88eddf1c8672"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_expert.com"], ["encrypted_password", "$2a$04$ktgkmg2TifmTYRnhXXLFl.33tiV3F/qRGsLH4bR3p4uT/q0j63yUC"], ["created_at", "2019-10-22 09:16:06.917417"], ["updated_at", "2019-10-22 09:16:06.917417"], ["jti", "a9ad0ce6-8553-4186-902e-030852ae393d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_admin.com"], ["encrypted_password", "$2a$04$mn6jtaYbsBfZD501lzJX1OBcfrbtsOhZVMsRARA31/.Se9jDFRLTy"], ["created_at", "2019-10-22 09:16:06.924116"], ["updated_at", "2019-10-22 09:16:06.924116"], ["jti", "ab710804-2a7a-4d7a-849b-5172bb7ed163"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName23"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 110], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName23"], ["address", "CoffeeShopAddress23"], ["owner_id", 110], ["creator_id", 112], ["created_at", "2019-10-22 09:16:06.930992"], ["updated_at", "2019-10-22 09:16:06.930992"], ["maintainer_id", 111]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/api/coffee_shops/25" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by CoffeeShopsController#deactivate as JSON
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9a2535af-3201-4c0b-b09c-eed4bfb3456b"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Load (0.2ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Update (0.6ms)[0m  [1m[33mUPDATE "coffee_shops" SET "deleted_at" = $1, "updated_at" = $2 WHERE "coffee_shops"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:06.938386"], ["updated_at", "2019-10-22 09:16:06.939178"], ["id", 25]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.5ms)
  [1m[36mCoffeeShop Load (0.3ms)[0m  [1m[34mSELECT  "coffee_shops".* FROM "coffee_shops" WHERE "coffee_shops"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@player.com"], ["encrypted_password", "$2a$04$zrcBnUObvYIAAxGuYUKH9e9w5WNGEdnm3bNQM6aHzwMJLoSBCEkt6"], ["created_at", "2019-10-22 09:16:06.964406"], ["updated_at", "2019-10-22 09:16:06.964406"], ["jti", "ddd71df7-aeea-46ef-a116-82bbc8740202"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@player.com"], ["encrypted_password", "$2a$04$E0uqTp4037jnjw1sPvPXieZwhgGZXdDOdEfBXAeM5QlelILyWMKl2"], ["created_at", "2019-10-22 09:16:06.975050"], ["updated_at", "2019-10-22 09:16:06.975050"], ["jti", "fd673f90-8b45-4b5c-8f37-cc7b52451c65"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@player.com"], ["encrypted_password", "$2a$04$sjAjlkEjB2UADyOK6wWsheSpc5p9dRIQd7cmLE50SkN2mO0/20IJi"], ["created_at", "2019-10-22 09:16:06.989753"], ["updated_at", "2019-10-22 09:16:06.989753"], ["jti", "9503074f-d2af-4100-aeba-bbae0ac6aa97"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:06 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@coffee_owner.com"], ["encrypted_password", "$2a$04$Whd3u5SVclZBjGVYySQSBu0ecLTzZV162/vr9E.46leLa5f999ePe"], ["created_at", "2019-10-22 09:16:07.003534"], ["updated_at", "2019-10-22 09:16:07.003534"], ["jti", "37afa453-696e-4cb6-816d-7919e08ebeb5"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_expert.com"], ["encrypted_password", "$2a$04$Q6mJNouPDl00f/ogElBRoOlkZLEOjOfYhokjhAWqcxPknwyOy/gha"], ["created_at", "2019-10-22 09:16:07.019385"], ["updated_at", "2019-10-22 09:16:07.019385"], ["jti", "c880c943-392d-4c39-9199-37957bc31483"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_admin.com"], ["encrypted_password", "$2a$04$MpaXxu4m525PLhbwkG.3kO6bGfQWoZp9rKX6gk3ULGdrdVS/sbU7u"], ["created_at", "2019-10-22 09:16:07.032697"], ["updated_at", "2019-10-22 09:16:07.032697"], ["jti", "93e3a9ef-d005-4757-856d-71b08dcb4887"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_master.com"], ["encrypted_password", "$2a$04$2/sacutNuVJkj/wQdM3oBuQEnw3Pz5f6RU7j2dMCew2TmS1zq0pzy"], ["created_at", "2019-10-22 09:16:07.048707"], ["updated_at", "2019-10-22 09:16:07.048707"], ["jti", "5defb843-d767-478a-84b4-fddfebe75734"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@player.com"], ["encrypted_password", "$2a$04$jTYETBizJUhyQ/E3SU8inOh/QGFF6Hku4uupYn5355XvEFiP.LcY2"], ["created_at", "2019-10-22 09:16:07.070996"], ["updated_at", "2019-10-22 09:16:07.070996"], ["jti", "7ce565e3-0ac0-4607-93f7-bab83312ee98"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7ce565e3-0ac0-4607-93f7-bab83312ee98"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7ce565e3-0ac0-4607-93f7-bab83312ee98"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "87c1fc32-7004-494b-afe7-6d5083089782"], ["id", 120]]
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "2c385a9d-a29d-402e-9eb9-0e1d4be5f9da"], ["id", 120]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@coffee_owner.com"], ["encrypted_password", "$2a$04$mFidi6hAbpfXBsC1gfyxAeKkfR9udeIVyTGoELqPKoSpq47vrT.6i"], ["created_at", "2019-10-22 09:16:07.120938"], ["updated_at", "2019-10-22 09:16:07.120938"], ["jti", "ef8a67b1-d431-4eb4-a310-61c7fea4e69e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ef8a67b1-d431-4eb4-a310-61c7fea4e69e"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$c1Cx8PMa.ze8GYndDghhkewqyVlRi3IehILW.jx6GQP9icw8dR64G"], ["created_at", "2019-10-22 09:16:07.148379"], ["updated_at", "2019-10-22 09:16:07.148379"], ["jti", "5442a0a4-5f30-4afa-9189-f64b8b0fd6ca"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@coffee_owner.com"], ["encrypted_password", "$2a$04$Whbkfm1Xsjmk1Y.5ZqKLqOUgUgTsfdXOZarziGC6rUtSpO/h1YCwC"], ["created_at", "2019-10-22 09:16:07.171767"], ["updated_at", "2019-10-22 09:16:07.171767"], ["jti", "9e02645a-5394-4df3-bf7c-e5bab9832ec6"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9e02645a-5394-4df3-bf7c-e5bab9832ec6"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$7EqbC1Uhxh1sbyEzkAfboOTPDYCwiTcubNC2xpyuPM77e2QZRFQRS"], ["created_at", "2019-10-22 09:16:07.191495"], ["updated_at", "2019-10-22 09:16:07.191495"], ["jti", "05812258-c651-462a-b2f5-f19f8a418398"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@coffee_owner.com"], ["encrypted_password", "$2a$04$eXqECcNgWQUAYTsECGVT8eVXuYsyYQrBIbmQxyG9lAm7p1ZYqDFde"], ["created_at", "2019-10-22 09:16:07.200422"], ["updated_at", "2019-10-22 09:16:07.200422"], ["jti", "06a119f7-cb62-41d9-bf67-8c866cfe013a"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "06a119f7-cb62-41d9-bf67-8c866cfe013a"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$6ZrHJW7nzVxJxo8VMV0sceNY4tpPdK6gUuLkGB414w1BUrv3aJznK"], ["created_at", "2019-10-22 09:16:07.217368"], ["updated_at", "2019-10-22 09:16:07.217368"], ["jti", "88d0d1fa-7d6f-439f-80f0-3b911c798020"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@coffee_owner.com"], ["encrypted_password", "$2a$04$E0rfhWDb7ZOv/A1Nz8QbsebRMNHo.bzdgr.PM1DFHEbPMMykJ21LW"], ["created_at", "2019-10-22 09:16:07.227976"], ["updated_at", "2019-10-22 09:16:07.227976"], ["jti", "f38e9076-d980-4570-ad3b-7431a67a1e20"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f38e9076-d980-4570-ad3b-7431a67a1e20"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$zGC7Cq7q7i.Rv9gEMGPGoeHkoWD92FVj.c5mdiGBMmGz6a3cJU6bq"], ["created_at", "2019-10-22 09:16:07.244753"], ["updated_at", "2019-10-22 09:16:07.244753"], ["jti", "1fced502-2a84-4bce-bebc-8f23f91506b1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 2.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@coffee_owner.com"], ["encrypted_password", "$2a$04$LcWBAcTCZC5VKD6CDHo51ed6iNefM69qvJw8R3KZjTCysGoQNILHa"], ["created_at", "2019-10-22 09:16:07.254439"], ["updated_at", "2019-10-22 09:16:07.254439"], ["jti", "e94c1455-b235-4caf-9c16-3d79fbda1443"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e94c1455-b235-4caf-9c16-3d79fbda1443"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$YQGHPog3vMtAxxQzbL1N8e2KdVU0ypK.YPedNKWmhE2cmUEZd8tvS"], ["created_at", "2019-10-22 09:16:07.271314"], ["updated_at", "2019-10-22 09:16:07.271314"], ["jti", "5cf8df78-246b-4d30-82fa-d95831bd76d5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@coffee_owner.com"], ["encrypted_password", "$2a$04$sPIeusabf8WRJP1znbNDfORcIyeQz3tVv2HqSDjEVEtUUhpwJjkOq"], ["created_at", "2019-10-22 09:16:07.281528"], ["updated_at", "2019-10-22 09:16:07.281528"], ["jti", "4f6b028d-5cc2-42d8-81f2-de2356572525"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/131" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"131"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4f6b028d-5cc2-42d8-81f2-de2356572525"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 131], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$kF/b8igUMraiZvlJKFCwde0exGt8z0lAkDoCDyUQGFgpUNNDKJw6u"], ["role", 4], ["updated_at", "2019-10-22 09:16:07.297830"], ["id", 131]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.8ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4f6b028d-5cc2-42d8-81f2-de2356572525"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4f6b028d-5cc2-42d8-81f2-de2356572525"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6bc63c5e-24be-4e84-b31f-4242117767fd"], ["id", 131]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "74cf0fff-608e-416d-8930-b02a8f75d57c"], ["id", 131]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@coffee_owner.com"], ["encrypted_password", "$2a$04$fIvMHQHjU7WPCLJF/Vi5DeE6puQwGB.BAD981lbUlp.eiajjy2Pha"], ["created_at", "2019-10-22 09:16:07.322448"], ["updated_at", "2019-10-22 09:16:07.322448"], ["jti", "450a8f2d-eb7f-4534-aff3-29b4bb0f2036"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/132" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"132"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "450a8f2d-eb7f-4534-aff3-29b4bb0f2036"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 132], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$EUE.9uT5MPuGzb6Rz7KqUOq.p3R7IpMB0KVN/IdGVGa2U2PhvX8xC"], ["updated_at", "2019-10-22 09:16:07.339881"], ["id", 132]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "450a8f2d-eb7f-4534-aff3-29b4bb0f2036"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "450a8f2d-eb7f-4534-aff3-29b4bb0f2036"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "61422dc8-ad36-442d-9c77-03f87f1c591a"], ["id", 132]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "2223d2a3-3bab-4a29-a1ee-cf6e8a55551a"], ["id", 132]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@coffee_owner.com"], ["encrypted_password", "$2a$04$6HKpJMr0KO.TZcFB0Z6eAe37PU8XIKgH54.y9MFVrkxP/i3wWtoyi"], ["created_at", "2019-10-22 09:16:07.367955"], ["updated_at", "2019-10-22 09:16:07.367955"], ["jti", "b3cbd1d5-b433-4f21-958d-c89d031fc313"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/133" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"133"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3cbd1d5-b433-4f21-958d-c89d031fc313"], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 133], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$VUUhfA2..NgLl/BFat3STexFdi4r6lQpzcJJAC4vL0gNknA/LBA32"], ["updated_at", "2019-10-22 09:16:07.387152"], ["id", 133]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.3ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3cbd1d5-b433-4f21-958d-c89d031fc313"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3cbd1d5-b433-4f21-958d-c89d031fc313"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "8f7e0b7b-bce2-461c-a357-8605ed7a2b60"], ["id", 133]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9822904e-1835-4d66-bdb9-156ebbc210f5"], ["id", 133]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@coffee_owner.com"], ["encrypted_password", "$2a$04$8AYKsJbyrSWrNMBNZXylFu.jCyTWpccbKB83z9IHyoKbvLkHOaRgO"], ["created_at", "2019-10-22 09:16:07.413261"], ["updated_at", "2019-10-22 09:16:07.413261"], ["jti", "4f3be432-64d2-4ab6-b0cf-5994a0286265"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@player.com"], ["encrypted_password", "$2a$04$ziFCK9EOpb/y7gZ1ILGbJu65est3YKb5PLxWsbesCLp3rOUktSfwS"], ["created_at", "2019-10-22 09:16:07.418726"], ["updated_at", "2019-10-22 09:16:07.418726"], ["jti", "6e767614-a717-45bf-b1be-7b62bddef7b7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/135" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"135"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4f3be432-64d2-4ab6-b0cf-5994a0286265"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 135], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$n.ovrt/5ORqjuIMohB30xO1nvQnfBWUxAQWD/RY.7NSxa/DLxSVAS"], ["updated_at", "2019-10-22 09:16:07.438035"], ["id", 135]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 3.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@coffee_owner.com"], ["encrypted_password", "$2a$04$XmPYmKAJUTIYz67M1Y23MulwZFhfc0rN6zQE7hjb1JueUiCkGQZ1e"], ["created_at", "2019-10-22 09:16:07.447494"], ["updated_at", "2019-10-22 09:16:07.447494"], ["jti", "35aeae77-e1e3-4480-8ae5-f267b74b4467"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@player.com"], ["encrypted_password", "$2a$04$tA1aE/6DnvUHg0u/j6Hv9O8whyeKdQkju1hqyqnCQU/ID8htbaEVK"], ["created_at", "2019-10-22 09:16:07.453643"], ["updated_at", "2019-10-22 09:16:07.453643"], ["jti", "7b01e73f-e9a7-40ae-bfea-001ea3eb14cd"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/137" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"137"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "35aeae77-e1e3-4480-8ae5-f267b74b4467"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 137], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$tOOolm3W9ZiCaiVLv.0E9.OObPc.2rUvR058uldg6q2GKq6GEtRmG"], ["updated_at", "2019-10-22 09:16:07.480669"], ["id", 137]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.9ms | ActiveRecord: 3.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@coffee_owner.com"], ["encrypted_password", "$2a$04$goZxFNqBqEYi2tnJZNmb8.XamUOUg.IyxOeRgwMS4V1pI.1ZK3qAK"], ["created_at", "2019-10-22 09:16:07.491355"], ["updated_at", "2019-10-22 09:16:07.491355"], ["jti", "c4c43d64-6453-4569-b5c9-16908bfb252c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@coffee_owner.com"], ["encrypted_password", "$2a$04$.takvrNjJGqFKC0j3ade..WvDukg6YvkOGi6JH/dPn33nb00W0FwO"], ["created_at", "2019-10-22 09:16:07.497307"], ["updated_at", "2019-10-22 09:16:07.497307"], ["jti", "da96f6d2-22d8-4598-b42e-1f0f5388a1ca"], ["role", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/139" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"139"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c4c43d64-6453-4569-b5c9-16908bfb252c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@coffee_owner.com"], ["encrypted_password", "$2a$04$8dc7UMzO/p6MvCyY/BxXAegfTArsJdtL5znH6GwiBEbr3olnhNK96"], ["created_at", "2019-10-22 09:16:07.521600"], ["updated_at", "2019-10-22 09:16:07.521600"], ["jti", "840fd357-f1ae-4b03-913d-d41a4c1bb717"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_expert.com"], ["encrypted_password", "$2a$04$.SRfufub67.KiGiUXQalNemH0zEOmXG9O4SLc4q13Hh088oGbdWc."], ["created_at", "2019-10-22 09:16:07.527917"], ["updated_at", "2019-10-22 09:16:07.527917"], ["jti", "9dc8b056-e835-445c-87d1-4c48e4dd6d2b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/141" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"141"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "840fd357-f1ae-4b03-913d-d41a4c1bb717"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@coffee_owner.com"], ["encrypted_password", "$2a$04$ujSLZNueNIQpzAk//6mJO./bHrbYTZ9T1AvbCaH20IQnwJD5uAfO6"], ["created_at", "2019-10-22 09:16:07.549514"], ["updated_at", "2019-10-22 09:16:07.549514"], ["jti", "05208a43-5910-41bd-815a-5dcf5216c8b6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_admin.com"], ["encrypted_password", "$2a$04$FyktRhmsZ8dKNDAqf3QLB.H/dFJQl2gCGKHwHrkJXxcwvLN2E.iwW"], ["created_at", "2019-10-22 09:16:07.556076"], ["updated_at", "2019-10-22 09:16:07.556076"], ["jti", "94f97736-3d58-46fb-8d86-523143e70971"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/143" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"143"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "05208a43-5910-41bd-815a-5dcf5216c8b6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@coffee_owner.com"], ["encrypted_password", "$2a$04$eZYueLWmY6wLO4TESrsAxeOal3XRnrKlJBnEaDbezkn0J7DEBORsm"], ["created_at", "2019-10-22 09:16:07.576295"], ["updated_at", "2019-10-22 09:16:07.576295"], ["jti", "8cbedfab-672e-4320-bc58-2e68bacde3bc"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_master.com"], ["encrypted_password", "$2a$04$JalQ5ROlY7F1Q3o18aWD1O4mOG3ZP3d442Auiw2sNFtixks9Fn3w."], ["created_at", "2019-10-22 09:16:07.581233"], ["updated_at", "2019-10-22 09:16:07.581233"], ["jti", "d203a0fe-6442-4af5-b2d2-007d357098f4"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.2ms)
Started PUT "/api/users/145" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"145"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8cbedfab-672e-4320-bc58-2e68bacde3bc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@coffee_owner.com"], ["encrypted_password", "$2a$04$DDt3iOWIaeDrOv52c4y8Ruz4Tn/tmGtYDxdR6DeucuvpCwq8SANAy"], ["created_at", "2019-10-22 09:16:07.604319"], ["updated_at", "2019-10-22 09:16:07.604319"], ["jti", "45379f15-7bec-4fb8-801a-5ddf80a9786a"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/146" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"146"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "45379f15-7bec-4fb8-801a-5ddf80a9786a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:07.615245"], ["updated_at", "2019-10-22 09:16:07.615979"], ["id", 146]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@coffee_owner.com"], ["encrypted_password", "$2a$04$JeJ7EttVMGZOBvi329xsNeeMajJnJKmsMslVupXM1m0o88HKExwMu"], ["created_at", "2019-10-22 09:16:07.632216"], ["updated_at", "2019-10-22 09:16:07.632216"], ["jti", "b49a6463-7c87-411a-a17e-24e744d37328"], ["role", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@player.com"], ["encrypted_password", "$2a$04$VA8IOsxixo1T/6YGTVT9Ueg5Zt1syz1JKSbFyPRcnBb4XPqfGdXM2"], ["created_at", "2019-10-22 09:16:07.639679"], ["updated_at", "2019-10-22 09:16:07.639679"], ["jti", "f0241321-7518-4987-9016-d5279d5bcda9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/148" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"148"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b49a6463-7c87-411a-a17e-24e744d37328"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:07.653025"], ["updated_at", "2019-10-22 09:16:07.653700"], ["id", 148]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.4ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@coffee_owner.com"], ["encrypted_password", "$2a$04$y4XIZcvM3oUbMDeQ94dTTuRSyNke3YI3c164LUMYQZyb0O8ELNsXm"], ["created_at", "2019-10-22 09:16:07.671778"], ["updated_at", "2019-10-22 09:16:07.671778"], ["jti", "3836624c-72c9-4bfd-a07f-e3f65513316a"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@coffee_owner.com"], ["encrypted_password", "$2a$04$7xEUYnlCGzS9YjbRjwzKmO5fLgU/KB8769m9DUaXwOhGWvJ9XmdVq"], ["created_at", "2019-10-22 09:16:07.678274"], ["updated_at", "2019-10-22 09:16:07.678274"], ["jti", "93aa5f9f-3ed6-460b-8083-509b02625b4b"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test52@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test52@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
Started DELETE "/api/users/150" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"150"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3836624c-72c9-4bfd-a07f-e3f65513316a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@coffee_owner.com"], ["encrypted_password", "$2a$04$iGOcPUUc0BhGnM/ih4QwiuZFd7v8hyXVjzehrga8Nl8RaiY.q.PUu"], ["created_at", "2019-10-22 09:16:07.699036"], ["updated_at", "2019-10-22 09:16:07.699036"], ["jti", "749df75e-2b51-4860-949b-198efb1a1627"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_expert.com"], ["encrypted_password", "$2a$04$d81rpqDMVdEEh5pMqK3g5O3bU3NXkeIVm0DGcgUKxl5RUWWqzu0QK"], ["created_at", "2019-10-22 09:16:07.705638"], ["updated_at", "2019-10-22 09:16:07.705638"], ["jti", "2134a266-3b21-4fa3-8b87-5e8b8224c17c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test54@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test54@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/152" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"152"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "749df75e-2b51-4860-949b-198efb1a1627"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@coffee_owner.com"], ["encrypted_password", "$2a$04$eSTCYAaZvAbXyyY4jCsVTeR.x9pjaWTIzsIcAKAwewSiY5pSpFCge"], ["created_at", "2019-10-22 09:16:07.729220"], ["updated_at", "2019-10-22 09:16:07.729220"], ["jti", "c1be8ca6-78ed-413a-9249-92eadaf72f59"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_admin.com"], ["encrypted_password", "$2a$04$NFtP3zJaetWb8wjAI/FnFuiRb2AoHKYAmewSKp7W7lQkbC.DLGIK2"], ["created_at", "2019-10-22 09:16:07.735048"], ["updated_at", "2019-10-22 09:16:07.735048"], ["jti", "3f47ab18-1c8a-40df-a38c-bcf837f41b40"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/154" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"154"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c1be8ca6-78ed-413a-9249-92eadaf72f59"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@coffee_owner.com"], ["encrypted_password", "$2a$04$o6w0uyc46hAlfMWnBTUgUuN.NLcFWoqbVbcbHHJmrjgBkTp6F.aaa"], ["created_at", "2019-10-22 09:16:07.755853"], ["updated_at", "2019-10-22 09:16:07.755853"], ["jti", "b3bf8ab9-3a3a-493c-bd13-9a0f74e226f0"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_master.com"], ["encrypted_password", "$2a$04$FajZ1X3vEWRORNfN.yJkTef6Dxaekv8XTXG/pwBHW5Fbg7nNuSTlW"], ["created_at", "2019-10-22 09:16:07.762468"], ["updated_at", "2019-10-22 09:16:07.762468"], ["jti", "b8114ee5-59e8-40a8-b174-d7ce682083e4"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@coffee_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms)
Started DELETE "/api/users/156" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"156"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3bf8ab9-3a3a-493c-bd13-9a0f74e226f0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@player.com"], ["encrypted_password", "$2a$04$zdi4cHB8K7WtN43p2dx.v.K3VXL7v4l/UZZp3lNTlMKfA3A5OLph2"], ["created_at", "2019-10-22 09:16:07.782394"], ["updated_at", "2019-10-22 09:16:07.782394"], ["jti", "6a672cf7-233f-49a6-aee8-30b32e4680bc"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6a672cf7-233f-49a6-aee8-30b32e4680bc"], ["LIMIT", 1]]
Unpermitted parameter: :role
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@player.com"], ["encrypted_password", "$2a$04$zbDpbLIWbW7NrNHcC.XMOeZzv/74f9zjZVNTWYSIXUMrQsnH2D54O"], ["created_at", "2019-10-22 09:16:07.815146"], ["updated_at", "2019-10-22 09:16:07.815146"], ["jti", "1bf02557-ff26-45ed-9485-d4633e2076d6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/158" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"158"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1bf02557-ff26-45ed-9485-d4633e2076d6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 158], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$DBIgqbxMENh6TTLO6fjeY.Nu6WYT6CWV85bhvYMrRob8EAf416xiW"], ["updated_at", "2019-10-22 09:16:07.831409"], ["id", 158]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1bf02557-ff26-45ed-9485-d4633e2076d6"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1bf02557-ff26-45ed-9485-d4633e2076d6"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9f7599f6-f1bb-4af6-9f1c-b9afd851cd6b"], ["id", 158]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "448d1539-0426-4b1c-9c30-b993f77625b5"], ["id", 158]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@player.com"], ["encrypted_password", "$2a$04$khrNjE5Cx8gTSXT87Dfbzu12Tc5mQjcA8Yh6vYPuyJfSl.nHqXEES"], ["created_at", "2019-10-22 09:16:07.860625"], ["updated_at", "2019-10-22 09:16:07.860625"], ["jti", "d05124fc-42a6-41be-a279-399f1272fc3a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/159" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"159"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d05124fc-42a6-41be-a279-399f1272fc3a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 159], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$pgkjnQDytATPaAlQweZg4u81wetlPIt91mRODzds2JyaLsqln5cEe"], ["updated_at", "2019-10-22 09:16:07.877203"], ["id", 159]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d05124fc-42a6-41be-a279-399f1272fc3a"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d05124fc-42a6-41be-a279-399f1272fc3a"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "afff8856-bd41-4636-a71d-48fa105b9d18"], ["id", 159]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f8a5c159-c620-4b28-861a-c80d83c80ec7"], ["id", 159]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@player.com"], ["encrypted_password", "$2a$04$1rhOoQjSEenWWk7aSVoS5Og3SGn5JOfMPijfnRpfSIhliVkSwQrNe"], ["created_at", "2019-10-22 09:16:07.911081"], ["updated_at", "2019-10-22 09:16:07.911081"], ["jti", "c5b3a74a-c4db-4689-9a47-955a79040fcf"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@player.com"], ["encrypted_password", "$2a$04$oH0qr.KovQBMTFeWIKpsAumBmSLBFmcZnFNNbAajPdoUGiMlFWKcy"], ["created_at", "2019-10-22 09:16:07.918313"], ["updated_at", "2019-10-22 09:16:07.918313"], ["jti", "3fc83607-91f6-4f6e-921e-88d45c2e822f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/161" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"161"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c5b3a74a-c4db-4689-9a47-955a79040fcf"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@player.com"], ["encrypted_password", "$2a$04$UyoGLU5HsZsb8AXzTa1zaeFZClhfe/2JZW6cT8seIdJsexA85DKc6"], ["created_at", "2019-10-22 09:16:07.941353"], ["updated_at", "2019-10-22 09:16:07.941353"], ["jti", "4d10b66b-9419-4182-928f-953fbb347559"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@coffee_owner.com"], ["encrypted_password", "$2a$04$kHeutt4NGUiofJ39Y7Ag/OhuNu4NCdzRzqP5JtAXeYviiuEzDuOwa"], ["created_at", "2019-10-22 09:16:07.946847"], ["updated_at", "2019-10-22 09:16:07.946847"], ["jti", "8fff6664-4847-46f7-9524-d79474e5d023"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/163" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"163"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4d10b66b-9419-4182-928f-953fbb347559"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@player.com"], ["encrypted_password", "$2a$04$UHvUMcGf0DDFVyD2o6MSU.Jl9QtlfSnDWV4l.LiQdUBCsdSzhoz56"], ["created_at", "2019-10-22 09:16:07.965474"], ["updated_at", "2019-10-22 09:16:07.965474"], ["jti", "46af12e7-90be-42ec-b049-595ff14bf48d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_expert.com"], ["encrypted_password", "$2a$04$t5e6s.JwExDxbGv5I/wD.egPvAkdV865Eco6kkT7UvyGtlU/HLqaS"], ["created_at", "2019-10-22 09:16:07.970350"], ["updated_at", "2019-10-22 09:16:07.970350"], ["jti", "1c92cdfe-b789-4cc7-8dd4-18757e83732e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/165" for 127.0.0.1 at 2019-10-22 12:46:07 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"165"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "46af12e7-90be-42ec-b049-595ff14bf48d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@player.com"], ["encrypted_password", "$2a$04$GsOU5Tu91/8h7OchHlxxB.X63bdKd2jnNZZA8Wu8hWDtPhJPxvYCy"], ["created_at", "2019-10-22 09:16:08.000834"], ["updated_at", "2019-10-22 09:16:08.000834"], ["jti", "ddf87ae8-8d68-4513-af2d-739dde273214"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_admin.com"], ["encrypted_password", "$2a$04$oieGonNIQxm8XyknOim5O.N5VDVYy/GHqTsZ6J0VW7oTmvcvYqkNy"], ["created_at", "2019-10-22 09:16:08.008322"], ["updated_at", "2019-10-22 09:16:08.008322"], ["jti", "e574f876-0092-4e9d-973f-9a7444513734"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/167" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"167"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ddf87ae8-8d68-4513-af2d-739dde273214"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@player.com"], ["encrypted_password", "$2a$04$mbHoWetxcND8bQQBKJjQH.sGpXh4iNK5iHMoI1jTu5aK8gz7ZOZ2i"], ["created_at", "2019-10-22 09:16:08.035941"], ["updated_at", "2019-10-22 09:16:08.035941"], ["jti", "54403999-0379-481c-b4e3-4d687b2220d1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_master.com"], ["encrypted_password", "$2a$04$uaK2w/HVGGXivT4Yuw9TgeU1WDDbuU3V2LqVMN77C9Zuwi5jcd/vq"], ["created_at", "2019-10-22 09:16:08.043495"], ["updated_at", "2019-10-22 09:16:08.043495"], ["jti", "581e586b-0df1-44c2-ac61-72f45a547cc8"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/169" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"169"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "54403999-0379-481c-b4e3-4d687b2220d1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@player.com"], ["encrypted_password", "$2a$04$52CsBLTF2cFK9k/wkKseLeRi833M5sq2KA7mfCe.boJgS8zSg3YJC"], ["created_at", "2019-10-22 09:16:08.070955"], ["updated_at", "2019-10-22 09:16:08.070955"], ["jti", "fa3c9a04-b51c-423f-b86e-188ebd8ef574"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/170" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"170"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fa3c9a04-b51c-423f-b86e-188ebd8ef574"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:08.087829"], ["updated_at", "2019-10-22 09:16:08.088554"], ["id", 170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@player.com"], ["encrypted_password", "$2a$04$ojmNDuzgElhXndUc73oHi.xhx52bafLgaWYgVZQ2ACQEtP0XSKYOG"], ["created_at", "2019-10-22 09:16:08.111886"], ["updated_at", "2019-10-22 09:16:08.111886"], ["jti", "c9fda00a-8fa9-47f6-8357-fea320297e3b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@player.com"], ["encrypted_password", "$2a$04$PP6SMQ77/3IvDets0GdM/e1kxT5DdF/GSNqkpYuS54anr0hsCNKZ."], ["created_at", "2019-10-22 09:16:08.119905"], ["updated_at", "2019-10-22 09:16:08.119905"], ["jti", "fac3274f-b4e3-4dde-85a7-07500f36eba3"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@player.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/172" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"172"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c9fda00a-8fa9-47f6-8357-fea320297e3b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@player.com"], ["encrypted_password", "$2a$04$1Dj5hQaAo7YoWe/JU9DPNulP.k4Vajsh3wR2er1tjFsb/1hxquuK2"], ["created_at", "2019-10-22 09:16:08.148777"], ["updated_at", "2019-10-22 09:16:08.148777"], ["jti", "58d926a7-d723-42c8-af26-3b1af17bbef9"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@coffee_owner.com"], ["encrypted_password", "$2a$04$tPjg7mYZ/jUYfj0NGBViJ.BnecZI8Su6GmMNLuxMQwICD0luJzjmm"], ["created_at", "2019-10-22 09:16:08.156111"], ["updated_at", "2019-10-22 09:16:08.156111"], ["jti", "cab20d9a-a555-4d1b-b4b2-629befc26a92"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/174" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"174"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "58d926a7-d723-42c8-af26-3b1af17bbef9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@player.com"], ["encrypted_password", "$2a$04$e5CMCWersuRTFY0iObcJUe/MWEDR3hTEHHHjS3.XmHPKfvS.DA56m"], ["created_at", "2019-10-22 09:16:08.201002"], ["updated_at", "2019-10-22 09:16:08.201002"], ["jti", "ffa08b8a-7ee6-45a2-a331-2ecc52d5f334"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_expert.com"], ["encrypted_password", "$2a$04$9wmmvaPu52WoIjdOLjrwzuC/CKS2GfjDMn5R1kONZfbwLcw6gHgcy"], ["created_at", "2019-10-22 09:16:08.207038"], ["updated_at", "2019-10-22 09:16:08.207038"], ["jti", "dae03365-0fd6-43dc-9a4b-abb3397d7e04"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/176" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"176"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ffa08b8a-7ee6-45a2-a331-2ecc52d5f334"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@player.com"], ["encrypted_password", "$2a$04$NihEXTF/C1XkqSae0LNupezOvivZA896tds2qsW4Fk1Ck5G/v/Dz."], ["created_at", "2019-10-22 09:16:08.225396"], ["updated_at", "2019-10-22 09:16:08.225396"], ["jti", "74f3812f-e0df-43be-8d12-d3e17d5d9c78"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_admin.com"], ["encrypted_password", "$2a$04$O8A0njJw9LzMAgHt5FWw6Okovornj/2Ks1dtopBlhnSMO.Ent1z9C"], ["created_at", "2019-10-22 09:16:08.230664"], ["updated_at", "2019-10-22 09:16:08.230664"], ["jti", "128a6fc5-69ab-4540-8308-f8e4249ed867"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/178" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"178"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "74f3812f-e0df-43be-8d12-d3e17d5d9c78"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@player.com"], ["encrypted_password", "$2a$04$CEo1WsmjVAj5ePU9GyyZK.O9K8uGsGBueDX6KLEqTznE.ZiRnyfXi"], ["created_at", "2019-10-22 09:16:08.252483"], ["updated_at", "2019-10-22 09:16:08.252483"], ["jti", "21224204-f9ff-41e7-81a0-a1752a331fb5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_master.com"], ["encrypted_password", "$2a$04$hhZxmLx50OkTJH0ThXs18.8F14oZSIdgN.it5bbwQ3kdSTPmi0o5O"], ["created_at", "2019-10-22 09:16:08.259754"], ["updated_at", "2019-10-22 09:16:08.259754"], ["jti", "89905c3e-c9bf-4470-8220-aead05d6ecec"], ["role", 0]]
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/180" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"180"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "21224204-f9ff-41e7-81a0-a1752a331fb5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_admin.com"], ["encrypted_password", "$2a$04$4DydfYxR/TXP27vnyzwxZeJ/IUlFA0C0prIRpKx9gaqwI6/T7X216"], ["created_at", "2019-10-22 09:16:08.284473"], ["updated_at", "2019-10-22 09:16:08.284473"], ["jti", "08c1ad84-b66e-4ace-84f1-b9d1023525cc"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "08c1ad84-b66e-4ace-84f1-b9d1023525cc"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$tOf0hGAV.86z1y97VqtsUuNIZQqkRHyvv6.3V3JvOo89HZqKoFf1a"], ["created_at", "2019-10-22 09:16:08.301574"], ["updated_at", "2019-10-22 09:16:08.301574"], ["jti", "b1b00077-bf9a-4830-a152-afc1759edee0"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_admin.com"], ["encrypted_password", "$2a$04$S75spw4W8c/V6mo8RS1Me.rOhCHgJK3EVe4KqGRskRiZqo03sxDuC"], ["created_at", "2019-10-22 09:16:08.311861"], ["updated_at", "2019-10-22 09:16:08.311861"], ["jti", "842ed01f-d74e-4a30-b507-0d10beb8f4eb"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "842ed01f-d74e-4a30-b507-0d10beb8f4eb"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$RCrtXzcXN6IIu1tG.i7r6uKMFz0FOo45tZrn9NNH2pkZnYopIK1FG"], ["created_at", "2019-10-22 09:16:08.327840"], ["updated_at", "2019-10-22 09:16:08.327840"], ["jti", "bcd7ffb8-7973-4841-a7eb-4be2e57dd623"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_admin.com"], ["encrypted_password", "$2a$04$xn741TVcXFhUYV/3P9yFs.3gD7XwUckHZKi5wYiNWZpr3tdzkYw1O"], ["created_at", "2019-10-22 09:16:08.336694"], ["updated_at", "2019-10-22 09:16:08.336694"], ["jti", "73e3c1a9-fb09-47f8-b503-fa449bdef66b"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "73e3c1a9-fb09-47f8-b503-fa449bdef66b"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$TzlRwR9cxQZ4ESkyoNGxE.CY.jsPP5iybBop.vJagR0Ku6LJ3DjEe"], ["created_at", "2019-10-22 09:16:08.352119"], ["updated_at", "2019-10-22 09:16:08.352119"], ["jti", "83bf481b-6576-416b-9b8d-cd9363eda455"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_admin.com"], ["encrypted_password", "$2a$04$XLv2szn060DEPhKQUIka1eB5oHDtYrdmwnr9xzL98oBnofRSZruG6"], ["created_at", "2019-10-22 09:16:08.362780"], ["updated_at", "2019-10-22 09:16:08.362780"], ["jti", "55ff09ae-52bd-40c9-9ac7-e71fdc0c565d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "55ff09ae-52bd-40c9-9ac7-e71fdc0c565d"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$9RRNL7IYw7ZMKoiVFcnnY.gY1S80d1mQIoTdy1uRKPx5cKnYt/p6i"], ["created_at", "2019-10-22 09:16:08.379739"], ["updated_at", "2019-10-22 09:16:08.379739"], ["jti", "25160053-91ad-4a9a-911f-a889cca04fb9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_admin.com"], ["encrypted_password", "$2a$04$aZUmTh86Vw/A0RG1/dUbweuAa.sP3BZhZsOZ36TU8I12Y0Pd93GLC"], ["created_at", "2019-10-22 09:16:08.391007"], ["updated_at", "2019-10-22 09:16:08.391007"], ["jti", "0bb1a91e-ec6f-41a9-a9f4-02f24d8c2685"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0bb1a91e-ec6f-41a9-a9f4-02f24d8c2685"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$ZmJPg51.7U52D2YB7BpSKu9oC4sdupObZVtNkbrlsxWMQ3Aai8LrC"], ["created_at", "2019-10-22 09:16:08.408173"], ["updated_at", "2019-10-22 09:16:08.408173"], ["jti", "6d901b77-e2bc-40d3-9997-6bb6ab4bc631"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_admin.com"], ["encrypted_password", "$2a$04$JmpXle9eSLw/RJRdbYH6vuda37WcYZzUaKOzeZIiD3u35CupLuqpS"], ["created_at", "2019-10-22 09:16:08.417682"], ["updated_at", "2019-10-22 09:16:08.417682"], ["jti", "0eff7af2-7fc8-4edd-9050-20423c706c4e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/191" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"191"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0eff7af2-7fc8-4edd-9050-20423c706c4e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 191], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$hi9p9b6DaxwDXtGgBFIY5.dwVkp8ArQpYlj65Rp7UF3isvOk3aGX6"], ["role", 4], ["updated_at", "2019-10-22 09:16:08.433314"], ["id", 191]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0eff7af2-7fc8-4edd-9050-20423c706c4e"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0eff7af2-7fc8-4edd-9050-20423c706c4e"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "5592ab8b-ed9b-42ae-8bd4-7d925f82adf4"], ["id", 191]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "93226ec3-5c1f-4393-9ccc-e5754643b2e3"], ["id", 191]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_admin.com"], ["encrypted_password", "$2a$04$SBpYdDVheLDHaPyyZGhgWOnHEJCx0qBAklQvuNUfmFHnMoOpvgYia"], ["created_at", "2019-10-22 09:16:08.460889"], ["updated_at", "2019-10-22 09:16:08.460889"], ["jti", "0129200f-e1e7-4dad-ab71-ca3d84a593ae"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/192" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"192"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0129200f-e1e7-4dad-ab71-ca3d84a593ae"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 192], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$OAKp3f1tezRlfIw2c//XruS6OPDiC1xLKDUCFR17Os08blUqNAi9O"], ["role", 3], ["updated_at", "2019-10-22 09:16:08.475278"], ["id", 192]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0129200f-e1e7-4dad-ab71-ca3d84a593ae"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0129200f-e1e7-4dad-ab71-ca3d84a593ae"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "2817d68b-a3e7-4530-aac5-3381831f5f49"], ["id", 192]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "25bcac77-f9f1-450a-85c5-83c996a229ce"], ["id", 192]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_admin.com"], ["encrypted_password", "$2a$04$7z1at3e93hJailwFfsmXsu3Y4tCo66WBC9/qoeuEPQKAJ/mbSqbhe"], ["created_at", "2019-10-22 09:16:08.503926"], ["updated_at", "2019-10-22 09:16:08.503926"], ["jti", "a9d214a7-73b1-46a3-82b7-81be2c561b28"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/193" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"193"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9d214a7-73b1-46a3-82b7-81be2c561b28"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 193], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$dNYWNhibemY0zqk8EVMhQeI6bwHsMtlbhrYEF40VgCtLogpDV7nUi"], ["role", 2], ["updated_at", "2019-10-22 09:16:08.528946"], ["id", 193]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.4ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9d214a7-73b1-46a3-82b7-81be2c561b28"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9d214a7-73b1-46a3-82b7-81be2c561b28"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "5e71da6f-5c62-4b45-9787-47746bc2e50e"], ["id", 193]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "16bc694a-d5b9-4161-8060-c2d89fc1183e"], ["id", 193]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_admin.com"], ["encrypted_password", "$2a$04$t6TliYfvFCU4IuzI59xVTeGGKk4ShemJ7mklRo3hMv1UYkoQ2epAC"], ["created_at", "2019-10-22 09:16:08.558338"], ["updated_at", "2019-10-22 09:16:08.558338"], ["jti", "c4fa426e-b368-4acc-9239-69e9575782c2"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/194" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"194"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c4fa426e-b368-4acc-9239-69e9575782c2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 194], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$55RJbyga/SBZYr2c5iFeveJKlXqOfYvS6fXONM/Yw92Wi2OKmuJcC"], ["updated_at", "2019-10-22 09:16:08.575328"], ["id", 194]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c4fa426e-b368-4acc-9239-69e9575782c2"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c4fa426e-b368-4acc-9239-69e9575782c2"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "aca3e09a-8478-4a68-b712-8bd049142d55"], ["id", 194]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "d817d32c-4ea0-4030-ab95-c9295ba087de"], ["id", 194]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_admin.com"], ["encrypted_password", "$2a$04$EwyY4qQD2V6R/1y0nlrsAuA86edqgTZmjbNRP7YRKazqdilCnFGzi"], ["created_at", "2019-10-22 09:16:08.606894"], ["updated_at", "2019-10-22 09:16:08.606894"], ["jti", "b6eef110-6eea-4d38-97b9-c7ff0483f6c9"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/195" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"195"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b6eef110-6eea-4d38-97b9-c7ff0483f6c9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 195], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$DuBtuYihRFaDN6zR.hUPouL1/hM8Nin7WlF9TCB5VBx8JVzW/2Ula"], ["updated_at", "2019-10-22 09:16:08.624916"], ["id", 195]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b6eef110-6eea-4d38-97b9-c7ff0483f6c9"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b6eef110-6eea-4d38-97b9-c7ff0483f6c9"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "b32a0160-c001-4ed7-affc-8f5d299de2cc"], ["id", 195]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4350afa6-29a3-450e-861f-2b40e93aa88b"], ["id", 195]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_admin.com"], ["encrypted_password", "$2a$04$85br.vKcMQiE3kmCXo2Hr..PuMKZtd997xsQXvw61Ik1hpvXeT66O"], ["created_at", "2019-10-22 09:16:08.652809"], ["updated_at", "2019-10-22 09:16:08.652809"], ["jti", "bd8c4774-e140-4c4a-a1c4-8c1120aeddfd"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@player.com"], ["encrypted_password", "$2a$04$RAV2NrK/tBgzRNER6bqu7e2d8c49nHfZM5xE0xpHH6.zbiihDNpau"], ["created_at", "2019-10-22 09:16:08.659350"], ["updated_at", "2019-10-22 09:16:08.659350"], ["jti", "fbdccdef-e81e-4f87-9aab-d3a9cbd40fe2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/197" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"197"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bd8c4774-e140-4c4a-a1c4-8c1120aeddfd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 197], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$NXdoWqu0wsdIdAGMWaPenufnQ2pGX0GamjSxAiNN6RiiExLroUWpS"], ["updated_at", "2019-10-22 09:16:08.676321"], ["id", 197]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_admin.com"], ["encrypted_password", "$2a$04$5YUiKMqH4N5AiBIEpVD1.OBa3L4dgBsjmILVjnl9bGVVtfdqJIwMm"], ["created_at", "2019-10-22 09:16:08.686131"], ["updated_at", "2019-10-22 09:16:08.686131"], ["jti", "80c57f0f-789f-49bc-8b80-a32a206862c8"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@player.com"], ["encrypted_password", "$2a$04$fR13iIYxG9CNB2ei5B7mbejI6P7FETxExXxBwdWa6a.0DI9.EpeNG"], ["created_at", "2019-10-22 09:16:08.692352"], ["updated_at", "2019-10-22 09:16:08.692352"], ["jti", "13b7812f-a247-49a8-bac8-e77a0d52f225"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/199" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"199"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "80c57f0f-789f-49bc-8b80-a32a206862c8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 199], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$b9yhhM6lHYOpj9wARd7v6uKhI2p0AImR3M6c48r3cdKBiBzL0AjOu"], ["updated_at", "2019-10-22 09:16:08.709669"], ["id", 199]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_admin.com"], ["encrypted_password", "$2a$04$rVwDlyFJmiMsOwVVnIlXyOsqLZIyu2DIGUEHTPyOlP4SxkeU0vhFe"], ["created_at", "2019-10-22 09:16:08.720487"], ["updated_at", "2019-10-22 09:16:08.720487"], ["jti", "52099b6b-53ef-4b7f-b1e3-da7991cb0b4d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@player.com"], ["encrypted_password", "$2a$04$GK58UNzJV7Z0KpNsrRzxBOBxU7PT1j.azlA57UBDb/HuhFH2bHX26"], ["created_at", "2019-10-22 09:16:08.725899"], ["updated_at", "2019-10-22 09:16:08.725899"], ["jti", "c3f855e4-730f-46a3-9253-2def88e3d09c"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/201" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"201"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52099b6b-53ef-4b7f-b1e3-da7991cb0b4d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 201], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$HJmpq9V/yowTUJ/O3K1.huv8t.iB71lsEWhEkTnSTlPFtO8j/7j/2"], ["updated_at", "2019-10-22 09:16:08.744483"], ["id", 201]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_admin.com"], ["encrypted_password", "$2a$04$8mqpDmlm3nwTxlwrh6fgiePcrLSOx9iUEgHODkBCyma8CaRDEhtw2"], ["created_at", "2019-10-22 09:16:08.755270"], ["updated_at", "2019-10-22 09:16:08.755270"], ["jti", "d49c38bf-9673-487b-9335-b5edfac6cf54"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@player.com"], ["encrypted_password", "$2a$04$me.aSAuJ4dYLpGylJRjQVO9cMG1u9/zpzH.R4uIGRXQhzf.tQ96xe"], ["created_at", "2019-10-22 09:16:08.761112"], ["updated_at", "2019-10-22 09:16:08.761112"], ["jti", "5d0efe91-0930-45ad-b50e-7a0b914e5c14"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/203" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"203"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d49c38bf-9673-487b-9335-b5edfac6cf54"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 203], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$ejoaS6b2Kj7SakPmOZV18OhUjottHrX5DBRcbJAOVoaAsAZ2dEez."], ["updated_at", "2019-10-22 09:16:08.777954"], ["id", 203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_admin.com"], ["encrypted_password", "$2a$04$c4Fv.m//iZe7mciAzY1P9.ghqYiGOw2OsFAINpK.g4fNPQnbpVE3S"], ["created_at", "2019-10-22 09:16:08.788751"], ["updated_at", "2019-10-22 09:16:08.788751"], ["jti", "8a3b8d30-f7cd-428c-9cb7-052f214d3a35"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@coffee_owner.com"], ["encrypted_password", "$2a$04$GyH7gGzn2xTxVAJ3yYV4U.KsoABdbWqY2XFvEst50XZS/QuWf6rlS"], ["created_at", "2019-10-22 09:16:08.794393"], ["updated_at", "2019-10-22 09:16:08.794393"], ["jti", "902bdae8-f390-4b95-8c3e-86645005820d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/205" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"205"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8a3b8d30-f7cd-428c-9cb7-052f214d3a35"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 205], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$mRK3.ZsYLjoau49or44ph.jZ/KQbHHyX6Bmdk4Pwjt5jPMfcR18CO"], ["updated_at", "2019-10-22 09:16:08.814100"], ["id", 205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_admin.com"], ["encrypted_password", "$2a$04$yIZju1hYIpje1uu4w4pzTu4JUDy2UkmuQseoN5gpq4xzzC4yKUZfy"], ["created_at", "2019-10-22 09:16:08.825944"], ["updated_at", "2019-10-22 09:16:08.825944"], ["jti", "87fb4b71-64b6-4eb2-a978-05e23599365d"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@coffee_owner.com"], ["encrypted_password", "$2a$04$.UZo2wdLBajm/NfXI5Kz.eezyPQ0wAfrRGlx6eprXlF1oJU6KKL2e"], ["created_at", "2019-10-22 09:16:08.831714"], ["updated_at", "2019-10-22 09:16:08.831714"], ["jti", "d41b1030-2ded-4283-b8a5-53260a781d4d"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/207" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"207"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "87fb4b71-64b6-4eb2-a978-05e23599365d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 207], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$NvI79zlYyr8ruBcrZUIBKeK.ZS9BY18l.Dpp1BYmADF/2eYs/WnoG"], ["updated_at", "2019-10-22 09:16:08.845717"], ["id", 207]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_admin.com"], ["encrypted_password", "$2a$04$cY4PbNQ9rQXEdCHXX7ENyeeb33Gn5lhHf5YFLj.S9VCnRMO50yvsK"], ["created_at", "2019-10-22 09:16:08.863575"], ["updated_at", "2019-10-22 09:16:08.863575"], ["jti", "1e2d1bd1-2470-41e4-8332-babc698ca9db"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@coffee_owner.com"], ["encrypted_password", "$2a$04$aR/XoKiF2P9KMxMk0Cl6Cu2tj9Evlj25c6vlA/h9iNsNwugCnznfS"], ["created_at", "2019-10-22 09:16:08.869063"], ["updated_at", "2019-10-22 09:16:08.869063"], ["jti", "ec604b20-70f6-4674-a05a-bc2bfb06e79d"], ["role", 3]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/209" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"209"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1e2d1bd1-2470-41e4-8332-babc698ca9db"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 209], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$H10UOdjro/TD2.WLuZnUzOGLKDK529sXnRcBYj8/8rCo899wCzKXK"], ["updated_at", "2019-10-22 09:16:08.884108"], ["id", 209]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_expert.com"], ["encrypted_password", "$2a$04$7XPKB.imUfKE7HS8jyztIOLOBdwh6zTUcym8pQ4XkUAQm0ku.4kZ2"], ["created_at", "2019-10-22 09:16:08.894600"], ["updated_at", "2019-10-22 09:16:08.894600"], ["jti", "639c9a89-ceda-44ee-b825-473ae10522fe"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@coffee_owner.com"], ["encrypted_password", "$2a$04$2.hB/slYwWCLbfkFf0b0tO/PLH6HgnTnyEWbyL6HLlZHjA3LKxMGG"], ["created_at", "2019-10-22 09:16:08.900105"], ["updated_at", "2019-10-22 09:16:08.900105"], ["jti", "a5e1e05a-048e-4640-ad74-7aabecefd8ff"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/211" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"211"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "639c9a89-ceda-44ee-b825-473ae10522fe"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 211], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$RzMZRf1PpgfG9UpbC2AOTOEiLnzBouR8ObGG3rHBcbbF46S6vf036"], ["updated_at", "2019-10-22 09:16:08.919266"], ["id", 211]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@sys_admin.com"], ["encrypted_password", "$2a$04$TiPGiXLIUGHosKfV6IVO7.YDp4PEhaS/ThnlbwPBK3QPKQld2kGB6"], ["created_at", "2019-10-22 09:16:08.928515"], ["updated_at", "2019-10-22 09:16:08.928515"], ["jti", "cdec3e85-3463-4775-b7c5-b8ce157ec874"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_expert.com"], ["encrypted_password", "$2a$04$GtFtZBCDnf4pKo7/PSRkkuZrw.5jv9rxUCT02qadoQ4blzJuLokCS"], ["created_at", "2019-10-22 09:16:08.934305"], ["updated_at", "2019-10-22 09:16:08.934305"], ["jti", "fb4d0f3b-064a-4e21-a6c7-024bb00448f6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/213" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"213"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cdec3e85-3463-4775-b7c5-b8ce157ec874"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 213], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$YlaMZGl.So914iZ.IlNcUOf12x2s7CqrolXyTL2UKA729e4oc0l5i"], ["updated_at", "2019-10-22 09:16:08.952211"], ["id", 213]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@sys_admin.com"], ["encrypted_password", "$2a$04$AWg1ZUYtlP.Bvf4lm0DJDeOghdnHwFS1C4.xVZwaLcbUEzFPACtD6"], ["created_at", "2019-10-22 09:16:08.962037"], ["updated_at", "2019-10-22 09:16:08.962037"], ["jti", "1138be98-e59b-4762-86a7-3a69b1cf58ad"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_expert.com"], ["encrypted_password", "$2a$04$f84OqdEcXby1e8wjoX4WRu0Tlq9MnjYUqNJs7JEb4.iqa0KpvMU8K"], ["created_at", "2019-10-22 09:16:08.968252"], ["updated_at", "2019-10-22 09:16:08.968252"], ["jti", "ea1d40ef-4301-4b06-af25-5a74bee83c4b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/215" for 127.0.0.1 at 2019-10-22 12:46:08 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"215"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1138be98-e59b-4762-86a7-3a69b1cf58ad"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 215], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$i1zKpqiULSaAtCVkY3b2h.sVrZ6.kmZb1F1zQELkQmNmVxAnNFo.W"], ["updated_at", "2019-10-22 09:16:08.985478"], ["id", 215]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@sys_admin.com"], ["encrypted_password", "$2a$04$1m/e7X2IW8Pwp2gv7VhLeOmnQXil.dqIYrP9z6BvuZJs.zDFBBPmm"], ["created_at", "2019-10-22 09:16:08.995386"], ["updated_at", "2019-10-22 09:16:08.995386"], ["jti", "01014354-bd43-4f3c-b5b2-cf628b290afc"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_expert.com"], ["encrypted_password", "$2a$04$2aIYyxW7e30jbtzK6Utr/.rBJLPZbd5d1ExaTHG/4.9zSjQp2qBBK"], ["created_at", "2019-10-22 09:16:09.000611"], ["updated_at", "2019-10-22 09:16:09.000611"], ["jti", "64ed3c20-272e-4c88-8045-22ff5763c827"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/217" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"217"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "01014354-bd43-4f3c-b5b2-cf628b290afc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 217], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$KHJw996w.Jf41e7WdEBclOwUX.QLBGUKnwtMSQLWoLjuBzSTM2HcC"], ["updated_at", "2019-10-22 09:16:09.017220"], ["id", 217]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@sys_admin.com"], ["encrypted_password", "$2a$04$A8kvdjAdJOWfOHTwsOwrduZZkRtQboDlp/IQgjP8YIB9Ot7.6OwW6"], ["created_at", "2019-10-22 09:16:09.027222"], ["updated_at", "2019-10-22 09:16:09.027222"], ["jti", "bc1ea1ff-538c-4514-bbb7-60ba3127944e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_expert.com"], ["encrypted_password", "$2a$04$y4gZUS7mbEY1nWv.lh/eweNB9VdGggO9nYGw3C4K1uwtkfWDoxBdm"], ["created_at", "2019-10-22 09:16:09.032142"], ["updated_at", "2019-10-22 09:16:09.032142"], ["jti", "4391afdb-c7bb-4e8f-ac24-b401022d4e18"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test52@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test52@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/219" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"219"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bc1ea1ff-538c-4514-bbb7-60ba3127944e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 219], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$F3PcC2iwETeLOLmVnsHeWOKSFmimM1VRNXqxAZ64rX/R8A2txVyoe"], ["updated_at", "2019-10-22 09:16:09.047949"], ["id", 219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@sys_admin.com"], ["encrypted_password", "$2a$04$vCW/Dee3MUSFK6re/LfO/uQ3zW8E42lB/1.VaGiBqrwcEdu7j1jne"], ["created_at", "2019-10-22 09:16:09.057373"], ["updated_at", "2019-10-22 09:16:09.057373"], ["jti", "5026c423-d5a9-4d87-85b9-86b800dcc738"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@sys_admin.com"], ["encrypted_password", "$2a$04$ejoqr6ts7GoQGCG7ILXCpO51plc5Mape4TrktUSPUQqWKQkcyGUou"], ["created_at", "2019-10-22 09:16:09.062695"], ["updated_at", "2019-10-22 09:16:09.062695"], ["jti", "cfb40452-ccb1-4b27-a9b7-7496799d8d02"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test53@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test53@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/221" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"221"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5026c423-d5a9-4d87-85b9-86b800dcc738"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@sys_admin.com"], ["encrypted_password", "$2a$04$gIa79ZO4bLoIqiB/rcknwOVBZ50iFAy8FkG7B0XxLe3hTW10/q.sa"], ["created_at", "2019-10-22 09:16:09.083488"], ["updated_at", "2019-10-22 09:16:09.083488"], ["jti", "89bf5dc3-2b44-4293-8c53-70a5a1f811ab"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_master.com"], ["encrypted_password", "$2a$04$ZfbPnflGJY6eW1OYV9kN6.LQd4NLc6Oaep44Xa2WEsxQiQaFFm4tK"], ["created_at", "2019-10-22 09:16:09.089008"], ["updated_at", "2019-10-22 09:16:09.089008"], ["jti", "b0262a93-a649-4ddf-80e7-bdb4774eaa8c"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/223" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"223"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "89bf5dc3-2b44-4293-8c53-70a5a1f811ab"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@sys_admin.com"], ["encrypted_password", "$2a$04$JZ3JxwWsy4BnTQaLjlgu0un48v8pGvSG9MsNT3f2jYCAi8/JQiY2i"], ["created_at", "2019-10-22 09:16:09.109754"], ["updated_at", "2019-10-22 09:16:09.109754"], ["jti", "4fc5db0f-94a0-4193-9f20-e19364c5bdfc"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/224" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"224"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4fc5db0f-94a0-4193-9f20-e19364c5bdfc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:09.124214"], ["updated_at", "2019-10-22 09:16:09.124873"], ["id", 224]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@sys_admin.com"], ["encrypted_password", "$2a$04$CI2bBPyZkgbez.jxfu8Tz.UfciAcdjV8qTTpQoLpmn1eO1JpAPs8S"], ["created_at", "2019-10-22 09:16:09.142907"], ["updated_at", "2019-10-22 09:16:09.142907"], ["jti", "a1d85a51-b190-4210-8d02-3ebbaaa0aa9d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@player.com"], ["encrypted_password", "$2a$04$lsaWU1JU51D.QOeydOYZkeY7F7.RX4p1pqPUS1/eeQjPe1JlLxK0u"], ["created_at", "2019-10-22 09:16:09.148548"], ["updated_at", "2019-10-22 09:16:09.148548"], ["jti", "279213b9-7a36-4fa1-9d66-d6feb4ef11d7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test57@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test57@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/226" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"226"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a1d85a51-b190-4210-8d02-3ebbaaa0aa9d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:09.159797"], ["updated_at", "2019-10-22 09:16:09.160392"], ["id", 226]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 1.8ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@sys_admin.com"], ["encrypted_password", "$2a$04$rjbsuKGLRfp2esJUQuSeVO/a0banVRCpQ5orrRIiQ5n4CK3CtH0V6"], ["created_at", "2019-10-22 09:16:09.188624"], ["updated_at", "2019-10-22 09:16:09.188624"], ["jti", "14498b4f-ae2b-4315-b0a8-aba4796885b6"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@coffee_owner.com"], ["encrypted_password", "$2a$04$dlVdweJOGj6qLY5VuDEJ/OgIkwHI4RXj7VPjCG3M/W/KkNP7lOZjm"], ["created_at", "2019-10-22 09:16:09.194574"], ["updated_at", "2019-10-22 09:16:09.194574"], ["jti", "72040361-7058-4c0d-a262-5adc9f448501"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test58@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test58@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/228" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"228"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "14498b4f-ae2b-4315-b0a8-aba4796885b6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:09.207793"], ["updated_at", "2019-10-22 09:16:09.208419"], ["id", 228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test63@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test63@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@sys_admin.com"], ["encrypted_password", "$2a$04$b1JMXbp9TQENu9l8FNux0.WxJcfEVuW0bn79qi63nIUGBBH4KJW4a"], ["created_at", "2019-10-22 09:16:09.224986"], ["updated_at", "2019-10-22 09:16:09.224986"], ["jti", "cf64ad72-e5e6-41a2-804d-613ab9d16993"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_expert.com"], ["encrypted_password", "$2a$04$PIyjmQLkVwa7OZ/kagPgC.Mtu6P2/5b7TF41bLIrVFWR3ekMb.4bW"], ["created_at", "2019-10-22 09:16:09.232044"], ["updated_at", "2019-10-22 09:16:09.232044"], ["jti", "2c3fa4dd-5cdb-44ca-b8b1-331bcedb4a12"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test59@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test59@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/230" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"230"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cf64ad72-e5e6-41a2-804d-613ab9d16993"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:09.245337"], ["updated_at", "2019-10-22 09:16:09.246011"], ["id", 230]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.5ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@sys_admin.com"], ["encrypted_password", "$2a$04$zq1SzZaPDO.sydRo5sUYSuC7JCZoA8Qy/O3iN8xK.WppsfhYQEWKe"], ["created_at", "2019-10-22 09:16:09.264906"], ["updated_at", "2019-10-22 09:16:09.264906"], ["jti", "18b9f0ea-2d52-4655-a08e-c4c2e2d69c8e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@sys_admin.com"], ["encrypted_password", "$2a$04$D1HvAbIis9gohVQqLT0vs.JuD73QLOZVwx2pExEHqJ1oWQbDr5T1G"], ["created_at", "2019-10-22 09:16:09.269657"], ["updated_at", "2019-10-22 09:16:09.269657"], ["jti", "b30c3e0a-20c0-4fed-a1d1-3da6dc33be66"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test60@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test60@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/232" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"232"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "18b9f0ea-2d52-4655-a08e-c4c2e2d69c8e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@sys_admin.com"], ["encrypted_password", "$2a$04$au58CXzzQVBR/HlJn9aCcOoCCjjAp6gE0lLKWrwFYa7tGA5gNtPuC"], ["created_at", "2019-10-22 09:16:09.289177"], ["updated_at", "2019-10-22 09:16:09.289177"], ["jti", "b3ec37f7-6c39-4f2b-9271-c4e2501f3cad"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_master.com"], ["encrypted_password", "$2a$04$NVuVOmGf0TvHZg6C7esx9.hbGV4HPTkHm9jK/wcyoWZTIfNl9YFmy"], ["created_at", "2019-10-22 09:16:09.294629"], ["updated_at", "2019-10-22 09:16:09.294629"], ["jti", "0e839de6-e5de-4395-b224-4c1257552197"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/234" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3ec37f7-6c39-4f2b-9271-c4e2501f3cad"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_expert.com"], ["encrypted_password", "$2a$04$b5KJYKo770lcojuQ5EMcUOjK.OWt9ZJS0CZlyfDz1SSK4vNHdX/mq"], ["created_at", "2019-10-22 09:16:09.314270"], ["updated_at", "2019-10-22 09:16:09.314270"], ["jti", "7eb77d02-5428-496b-ae5b-72ec672eae70"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7eb77d02-5428-496b-ae5b-72ec672eae70"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$jCdNiRH2a.QxI.jZF0QUJO6x.CbPC3NVbRo2ebzzm9CyZqPWm4f7q"], ["created_at", "2019-10-22 09:16:09.329519"], ["updated_at", "2019-10-22 09:16:09.329519"], ["jti", "f2f6a8c2-b069-47f4-9ab2-34a9d1535502"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_expert.com"], ["encrypted_password", "$2a$04$l7sKHRmZvKHwXdqinD1cyeHrH26d3QgduEnThsQA1JgtkrN/p05Eq"], ["created_at", "2019-10-22 09:16:09.339558"], ["updated_at", "2019-10-22 09:16:09.339558"], ["jti", "844d7771-98e8-4733-b975-a0bf3425c169"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "844d7771-98e8-4733-b975-a0bf3425c169"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$N7HwxjMHs6NDLwxrpHAC0.FyalTo72fn3q9OfQnxU5cD3VrHvrnA2"], ["created_at", "2019-10-22 09:16:09.359135"], ["updated_at", "2019-10-22 09:16:09.359135"], ["jti", "53f752dc-6e03-498f-98da-dc72927bcd37"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_expert.com"], ["encrypted_password", "$2a$04$PKxV7lKfRggggMIxtQ0pFunmGqYSRpL0tMH25cfKeeRS2wT/rfxAG"], ["created_at", "2019-10-22 09:16:09.368073"], ["updated_at", "2019-10-22 09:16:09.368073"], ["jti", "2e55ee33-d2b9-4089-83fc-bbd022b914e6"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2e55ee33-d2b9-4089-83fc-bbd022b914e6"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$BhINGpuU.b.K7n8th2.2jOGpaz8uCrxO3Jjl7GRnk.aQurYjfwDDu"], ["created_at", "2019-10-22 09:16:09.384573"], ["updated_at", "2019-10-22 09:16:09.384573"], ["jti", "99af03c2-0a34-4b76-b334-3ec67b447f9e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_expert.com"], ["encrypted_password", "$2a$04$r/wxBEkHu.E.yU9AhwdL5OFwI4QqUOHNOC9G9MDsQECNOkgNVMIoq"], ["created_at", "2019-10-22 09:16:09.395476"], ["updated_at", "2019-10-22 09:16:09.395476"], ["jti", "1fe7f1cf-6842-4e30-9a8f-6856d9513ef5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1fe7f1cf-6842-4e30-9a8f-6856d9513ef5"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$HXMjkyRfcM15h7LEDzfDGesmqGcN7u6yozkg0H643T2cwCoHD.QB6"], ["created_at", "2019-10-22 09:16:09.410730"], ["updated_at", "2019-10-22 09:16:09.410730"], ["jti", "3d86812a-a542-430f-bbf7-419a87f19a54"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.3ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_expert.com"], ["encrypted_password", "$2a$04$BM1oH8asIoYWlWpfE8nzLOjchp63DWDr3NdB0J2XKmUGFaKU8zliq"], ["created_at", "2019-10-22 09:16:09.423510"], ["updated_at", "2019-10-22 09:16:09.423510"], ["jti", "3da9b12c-6e66-41da-a721-9d9aba03ae02"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3da9b12c-6e66-41da-a721-9d9aba03ae02"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$QkVfs7aVZmPtxY0xlujm2unWBLAj02DceOe8n4wFSL2Cmjs0a7yyi"], ["created_at", "2019-10-22 09:16:09.440804"], ["updated_at", "2019-10-22 09:16:09.440804"], ["jti", "02b449a6-5bbe-4a88-aa6b-2f2b4b3158ec"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_expert.com"], ["encrypted_password", "$2a$04$sTlaFYpAr8/jMeGM5VVYNuetxEU0jbyGzkkNJFKp7oxzQGk6ti/YK"], ["created_at", "2019-10-22 09:16:09.451132"], ["updated_at", "2019-10-22 09:16:09.451132"], ["jti", "e81a409c-28d7-4295-ac30-55dea89b02b7"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/245" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"245"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e81a409c-28d7-4295-ac30-55dea89b02b7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 245], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$EUxOYBzd8E.twRI7GLj4jOHH4MPEJHlELRSQFffJ.vtNue1I0Idza"], ["role", 4], ["updated_at", "2019-10-22 09:16:09.467704"], ["id", 245]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e81a409c-28d7-4295-ac30-55dea89b02b7"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e81a409c-28d7-4295-ac30-55dea89b02b7"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "df4748d8-96ac-448d-a025-eed1fd41c255"], ["id", 245]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "547f738b-69a6-4e13-b421-97e939ae835b"], ["id", 245]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@sys_expert.com"], ["encrypted_password", "$2a$04$nE2LoXxsYevGCPZhxv2Fj.CvBuJU2DgczrzRsLpeis9ouCkpdhq3W"], ["created_at", "2019-10-22 09:16:09.507955"], ["updated_at", "2019-10-22 09:16:09.507955"], ["jti", "e60d8522-cf91-41fa-81d1-b40b81f1e5e6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/246" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"246"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e60d8522-cf91-41fa-81d1-b40b81f1e5e6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 246], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$jYgqi05VVLzfNiqfJq6ANeZSBT1.UzDhBpv2nqMfAuaYxAjB.jdFC"], ["role", 3], ["updated_at", "2019-10-22 09:16:09.525027"], ["id", 246]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e60d8522-cf91-41fa-81d1-b40b81f1e5e6"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e60d8522-cf91-41fa-81d1-b40b81f1e5e6"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4dfe69de-2649-4fb6-88c9-55c7d1908794"], ["id", 246]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "17b0ab8c-5524-4fa0-92ba-7a12b69ad7d9"], ["id", 246]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@sys_expert.com"], ["encrypted_password", "$2a$04$y8T.a/0yZmuETJlnCAys8eUbe1S6buygTLcSgW6zZ48QRb1GqeVqu"], ["created_at", "2019-10-22 09:16:09.554829"], ["updated_at", "2019-10-22 09:16:09.554829"], ["jti", "a557c024-4823-4e4b-944d-e5c8820b9ba9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/247" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"247"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a557c024-4823-4e4b-944d-e5c8820b9ba9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 247], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$MDi5xsWeVGiLIJiFR2P9GOyeS/Zc7ffJmFaEm/DN..mJv8i3Qyeo6"], ["updated_at", "2019-10-22 09:16:09.574328"], ["id", 247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a557c024-4823-4e4b-944d-e5c8820b9ba9"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a557c024-4823-4e4b-944d-e5c8820b9ba9"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "edcc7057-e685-4468-9684-384d9ec609e6"], ["id", 247]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "c4439d22-693f-45d6-a6e2-d4447344c578"], ["id", 247]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@sys_expert.com"], ["encrypted_password", "$2a$04$FKD7gNdGKTdxKCxWTu26Zull06Cs1rZSDfA8myaFl6Iwg7Qp5Z9Uy"], ["created_at", "2019-10-22 09:16:09.603046"], ["updated_at", "2019-10-22 09:16:09.603046"], ["jti", "0e3d9509-7763-4f75-bf20-4f7393443b39"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/248" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"248"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0e3d9509-7763-4f75-bf20-4f7393443b39"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 248], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$zmOBAysblXvkzx3hPrIVkeYBaJ1HnVuWH00wEuqUTNrFe2ikhGRNK"], ["updated_at", "2019-10-22 09:16:09.619693"], ["id", 248]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0e3d9509-7763-4f75-bf20-4f7393443b39"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0e3d9509-7763-4f75-bf20-4f7393443b39"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "31a26885-c236-4ee8-b59f-2c3dedde35c9"], ["id", 248]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "22fafba4-306b-4315-a243-cf56e124350f"], ["id", 248]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@sys_expert.com"], ["encrypted_password", "$2a$04$MAJFt7nL4bVGMoAdur1p4uHvpca4nObQveoeaE.5LjmBmIn0HMPg2"], ["created_at", "2019-10-22 09:16:09.645882"], ["updated_at", "2019-10-22 09:16:09.645882"], ["jti", "fe3b22ca-0511-4cdb-9dc9-90f54eca207d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@player.com"], ["encrypted_password", "$2a$04$5afCA9hYUOp3rwzbCJ52kuEiX4QEkTx.pDx/5OdpgdwhrCpK3Qj.y"], ["created_at", "2019-10-22 09:16:09.651498"], ["updated_at", "2019-10-22 09:16:09.651498"], ["jti", "a800f7d5-9ff5-4101-92c9-72f4c296233e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test52@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test52@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/250" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"250"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fe3b22ca-0511-4cdb-9dc9-90f54eca207d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 250], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$FQDAC8wEqc61tGPd9OK2BuDHVsr7yeCjQHEmmA/3muOjfDsYfM6lC"], ["updated_at", "2019-10-22 09:16:09.667850"], ["id", 250]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@sys_expert.com"], ["encrypted_password", "$2a$04$TPT52F04wPh8coQI4O4dCe7jp39r1jO.G4wHUjf1Mi/hzapOOpVta"], ["created_at", "2019-10-22 09:16:09.679269"], ["updated_at", "2019-10-22 09:16:09.679269"], ["jti", "db0c84a6-359d-472d-9763-586f73ffb172"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@player.com"], ["encrypted_password", "$2a$04$gV2Ng5o6fCdV4qfy/pesr.i6hFHScya0tYdCE1zyBjtxgQXVRxuPO"], ["created_at", "2019-10-22 09:16:09.684805"], ["updated_at", "2019-10-22 09:16:09.684805"], ["jti", "12e0c6ae-2b04-4a64-8cab-4ef674d79d00"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test53@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test53@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/252" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"252"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "db0c84a6-359d-472d-9763-586f73ffb172"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 252], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$eOyPiiBAzeJUN24wRmU4p.naltWe.HyEaOE3jIq0IMwZvWkGGXmc6"], ["updated_at", "2019-10-22 09:16:09.703104"], ["id", 252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@sys_expert.com"], ["encrypted_password", "$2a$04$Kajs4ZOS1JFw5LmrggAyn.F7C03WGhZzoPNpR748tikydiI0QAvZC"], ["created_at", "2019-10-22 09:16:09.712021"], ["updated_at", "2019-10-22 09:16:09.712021"], ["jti", "e280a01e-4f91-4a58-945a-e9ab7b95d773"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@player.com"], ["encrypted_password", "$2a$04$/lcdvPkWeE.nL4cCnfJI9.TuzC1rd.1kH4lCNIK1EqqdzCwZUhkki"], ["created_at", "2019-10-22 09:16:09.717182"], ["updated_at", "2019-10-22 09:16:09.717182"], ["jti", "0b2b39e0-07c3-4e13-ad85-7efa4ca725dd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test54@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test54@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/254" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"254"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e280a01e-4f91-4a58-945a-e9ab7b95d773"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 254], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$sXHE8W24XhJmj/G6ABQhQ.piZrnKqGnaI/InE300pP5NJ5p8hP4q6"], ["updated_at", "2019-10-22 09:16:09.734530"], ["id", 254]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@sys_expert.com"], ["encrypted_password", "$2a$04$zP2uQlTz8Gv4Uv8V58H80.u8MzJcp.MP7H3je6am6Ue8oEdfoi5HG"], ["created_at", "2019-10-22 09:16:09.746576"], ["updated_at", "2019-10-22 09:16:09.746576"], ["jti", "83a8f3b1-0686-4bb6-bbbf-3ee082cd8326"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@coffee_owner.com"], ["encrypted_password", "$2a$04$0VkK5009z8IADq1i2zx8nePZeXfRVLbTt3ezLUg.2PJBCIfPilfUu"], ["created_at", "2019-10-22 09:16:09.752840"], ["updated_at", "2019-10-22 09:16:09.752840"], ["jti", "9e5302ba-af5d-4da6-922b-729d10c38f87"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/256" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"256"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "83a8f3b1-0686-4bb6-bbbf-3ee082cd8326"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 256], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$RVYq9o9AAHcBGT.URe7l2.zunq5j/9.NANvyn5XYjpz1DWlivRE8e"], ["updated_at", "2019-10-22 09:16:09.770305"], ["id", 256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@sys_expert.com"], ["encrypted_password", "$2a$04$IDHxscU0WjqsSGW3H2JYw.qQXJvhrrDgdaGRYFGAPQzV4GSkGmdmO"], ["created_at", "2019-10-22 09:16:09.781709"], ["updated_at", "2019-10-22 09:16:09.781709"], ["jti", "833ad093-0056-485d-b974-75eaba38c764"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@coffee_owner.com"], ["encrypted_password", "$2a$04$jXUXSDEL1OgughjmTf6dcOo79yt16vqjtBXp34/QcOrY27DfyA.Bq"], ["created_at", "2019-10-22 09:16:09.787775"], ["updated_at", "2019-10-22 09:16:09.787775"], ["jti", "f8b50974-ea9a-4f01-9231-0de400e1e4aa"], ["role", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/258" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"258"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "833ad093-0056-485d-b974-75eaba38c764"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 258], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$RJEeWznq.yY6gz5OxkKUd.hBk4LkkJ6m7SSpgJzbCgDh16ShWUije"], ["updated_at", "2019-10-22 09:16:09.805885"], ["id", 258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@sys_expert.com"], ["encrypted_password", "$2a$04$/p2/aUhPwpaaedUq2WMYpOwzE2l6vejAaRIjLG7uxU2d5imFXcOs6"], ["created_at", "2019-10-22 09:16:09.827096"], ["updated_at", "2019-10-22 09:16:09.827096"], ["jti", "1ac3ddc2-69e9-4cfd-8ff7-e5451eb618bc"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@coffee_owner.com"], ["encrypted_password", "$2a$04$LzoSzWwkFCXHyEm1MkvTh.FrztRKW5AfvPhOwffrFjckPVD80Uujm"], ["created_at", "2019-10-22 09:16:09.831760"], ["updated_at", "2019-10-22 09:16:09.831760"], ["jti", "d9a1ee79-55b4-42ee-b5ba-b69cc7db2008"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test57@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test57@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/260" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"260"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ac3ddc2-69e9-4cfd-8ff7-e5451eb618bc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 260], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$ZjKi7qR4YpzPHOSccyCN3e8aCffZMcfFeVh1KRePyiuI7vIWjTOQS"], ["updated_at", "2019-10-22 09:16:09.846744"], ["id", 260]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@sys_expert.com"], ["encrypted_password", "$2a$04$kEcUmJpxmlZ395qVDZ/NueNrt3FnkmMsk9r37W8RHpU5XDYWDUuyG"], ["created_at", "2019-10-22 09:16:09.857954"], ["updated_at", "2019-10-22 09:16:09.857954"], ["jti", "8d128de9-b1dd-467a-aca3-9edb00114903"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@sys_expert.com"], ["encrypted_password", "$2a$04$UlVRpttHmUBFSIzsZOEw/Oqh8AwahS92Zxi3aZBQZ.0szmKJ34b7e"], ["created_at", "2019-10-22 09:16:09.863531"], ["updated_at", "2019-10-22 09:16:09.863531"], ["jti", "8f550385-a22c-4ba7-b77b-4178f146c1c5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test58@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test58@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/262" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"262"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8d128de9-b1dd-467a-aca3-9edb00114903"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@sys_expert.com"], ["encrypted_password", "$2a$04$Wgudv4WHbeX6FWvPCdchSedkSeDAQ7QSA4MdabtYAaC.bsPeVl7Ni"], ["created_at", "2019-10-22 09:16:09.884738"], ["updated_at", "2019-10-22 09:16:09.884738"], ["jti", "0a39f1ac-cba2-4eaf-87bf-6bc2e75d8a21"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@sys_admin.com"], ["encrypted_password", "$2a$04$JsxoKKDQptuQoA34lAfrgO/PWutqztqkDQRV7fZ1VdzPRLnelCfAy"], ["created_at", "2019-10-22 09:16:09.891295"], ["updated_at", "2019-10-22 09:16:09.891295"], ["jti", "8746b727-af10-4491-9a1c-fab5c979a6c6"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test60@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test60@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/264" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"264"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0a39f1ac-cba2-4eaf-87bf-6bc2e75d8a21"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@sys_expert.com"], ["encrypted_password", "$2a$04$SZ2xecVjH08w33WBY2eobu22NYjXTLhr/jm045CocsqehcPb/BFty"], ["created_at", "2019-10-22 09:16:09.908370"], ["updated_at", "2019-10-22 09:16:09.908370"], ["jti", "681ad54b-12d6-47f0-bde2-27f92d48a16c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_master.com"], ["encrypted_password", "$2a$04$4XCx8NAeyWNQ5qTR7XV.0.pXGfb6L8AL2/dt1OD7m0HwmeQplGhe6"], ["created_at", "2019-10-22 09:16:09.914099"], ["updated_at", "2019-10-22 09:16:09.914099"], ["jti", "8f5ebb63-9924-439e-b1b4-5886f1e3a386"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test61@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test61@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/266" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"266"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "681ad54b-12d6-47f0-bde2-27f92d48a16c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@sys_expert.com"], ["encrypted_password", "$2a$04$/0.VVySXewDspEakE/KkFO7sI/TMEMpTprFBO8H4I4SWb1WL.WErO"], ["created_at", "2019-10-22 09:16:09.933642"], ["updated_at", "2019-10-22 09:16:09.933642"], ["jti", "a618f4c7-bb0f-4aa6-b179-ff78e4f9ca9b"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/267" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"267"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a618f4c7-bb0f-4aa6-b179-ff78e4f9ca9b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:09.948241"], ["updated_at", "2019-10-22 09:16:09.948809"], ["id", 267]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.4ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@sys_expert.com"], ["encrypted_password", "$2a$04$Z2q4ROIrgJdbQ2qm3NKNseEPbwLxT1vOwcyN2G9GjT9PHzdBpcO4e"], ["created_at", "2019-10-22 09:16:09.963880"], ["updated_at", "2019-10-22 09:16:09.963880"], ["jti", "0b335eaf-2e57-4b42-8cdf-9719d1597776"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@player.com"], ["encrypted_password", "$2a$04$cdb7I4CYGznSR3A7FrkNhey0mdLQv8LzrPG0YRqc2K.bHxK0XU0ZO"], ["created_at", "2019-10-22 09:16:09.969547"], ["updated_at", "2019-10-22 09:16:09.969547"], ["jti", "dfda5d4e-5575-4720-8089-a7626d07649b"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test63@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test63@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/269" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"269"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0b335eaf-2e57-4b42-8cdf-9719d1597776"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:09.983526"], ["updated_at", "2019-10-22 09:16:09.983980"], ["id", 269]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.2ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:09 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@sys_expert.com"], ["encrypted_password", "$2a$04$QbgjB1PNrZdEDRyE7rZylOBAKitr3fLfw4MbVLatEAKN26C0PqLDC"], ["created_at", "2019-10-22 09:16:09.998366"], ["updated_at", "2019-10-22 09:16:09.998366"], ["jti", "9177b1f6-0382-4016-a3f0-2393e9fc9a1c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@coffee_owner.com"], ["encrypted_password", "$2a$04$zs32ZBKvKQmkr/WtBkfV5ee3l/AQetQARkYrscxpp9nmWIxjvud/m"], ["created_at", "2019-10-22 09:16:10.003332"], ["updated_at", "2019-10-22 09:16:10.003332"], ["jti", "57b6b782-6cb1-4f2b-b76d-d070958ed835"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test64@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test64@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/271" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"271"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9177b1f6-0382-4016-a3f0-2393e9fc9a1c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:10.015361"], ["updated_at", "2019-10-22 09:16:10.016071"], ["id", 271]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test67@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test67@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@sys_expert.com"], ["encrypted_password", "$2a$04$uemTl41fE7wdaH3VCGoh1.pNw8/FN2q6HBDk0iZlvS.JF1wMBDXiu"], ["created_at", "2019-10-22 09:16:10.032589"], ["updated_at", "2019-10-22 09:16:10.032589"], ["jti", "b3b5b16a-2f06-433b-8e45-7c75a2b6730b"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@sys_expert.com"], ["encrypted_password", "$2a$04$U.C6SCC6uAQMgSCWjKDKh.mVaLLPUEcqY7gTgwgICq.JHbpk0k1fG"], ["created_at", "2019-10-22 09:16:10.037674"], ["updated_at", "2019-10-22 09:16:10.037674"], ["jti", "dbed3072-0a33-4805-a8b4-55e7c459b5dc"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test65@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test65@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/273" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"273"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b3b5b16a-2f06-433b-8e45-7c75a2b6730b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 273], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@sys_expert.com"], ["encrypted_password", "$2a$04$bwcxF/Z3vTOY4PM/AOORfOXujT2Uja.n/i2wku6l5Mw1hGRG0A63y"], ["created_at", "2019-10-22 09:16:10.055421"], ["updated_at", "2019-10-22 09:16:10.055421"], ["jti", "92c0cf19-3a9f-4169-b28a-ccb2cc8683b9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@sys_admin.com"], ["encrypted_password", "$2a$04$N301m7LVpNHvB108eEGiseBuQL5989LYIN4CDKuY2.2S2L.kK6hj2"], ["created_at", "2019-10-22 09:16:10.061983"], ["updated_at", "2019-10-22 09:16:10.061983"], ["jti", "2e1a25fc-436b-4918-b3f3-f13c96260047"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test67@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test67@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/275" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"275"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "92c0cf19-3a9f-4169-b28a-ccb2cc8683b9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@sys_expert.com"], ["encrypted_password", "$2a$04$gBx2sc8oEk3nvBTXoNK3iOh2WNSM3B0WqucH/xrqxQGg7K5zVDI4."], ["created_at", "2019-10-22 09:16:10.082942"], ["updated_at", "2019-10-22 09:16:10.082942"], ["jti", "a8b3ec6d-16cd-41a8-a92a-4e26d8893cb3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_master.com"], ["encrypted_password", "$2a$04$XWaAaTgfii1TOitUPIa.f.VpvjN3sSU.VUwUb9J9V5Zm2vbfEjZTm"], ["created_at", "2019-10-22 09:16:10.089426"], ["updated_at", "2019-10-22 09:16:10.089426"], ["jti", "f36b021e-fce0-4292-a9eb-1f4333c90b35"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test68@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test68@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/277" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"277"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a8b3ec6d-16cd-41a8-a92a-4e26d8893cb3"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_master.com"], ["encrypted_password", "$2a$04$NOwEyI6Do8CY5eXYRAKtXuUy29hFJHomuWHUaYyMyHUmEIzqX.YuC"], ["created_at", "2019-10-22 09:16:10.110684"], ["updated_at", "2019-10-22 09:16:10.110684"], ["jti", "cc88a9ff-fe9d-4a47-9221-e6b9e40d54f8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cc88a9ff-fe9d-4a47-9221-e6b9e40d54f8"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$kDrv.sUrDeMSZB1apxIXdOxNyYQluCJTOsqByYdMeWXCi6WKIZ7x2"], ["created_at", "2019-10-22 09:16:10.135128"], ["updated_at", "2019-10-22 09:16:10.135128"], ["jti", "dcf9ba5b-dcce-4cf6-9e52-68f24577554e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_master.com"], ["encrypted_password", "$2a$04$4kE8wUGTgmyF8TdG0GCdc.3tfiLhmV0gkBth18.bhGhwGu7yq4kKu"], ["created_at", "2019-10-22 09:16:10.144737"], ["updated_at", "2019-10-22 09:16:10.144737"], ["jti", "4ff88152-4e80-4b5b-b0d3-85c9f92fc6db"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4ff88152-4e80-4b5b-b0d3-85c9f92fc6db"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$5hnEinp6DqHNgYZ9e00XlOe9RJzvBYGw2JkMOFTD5kgCCCgUl2gQ2"], ["created_at", "2019-10-22 09:16:10.160918"], ["updated_at", "2019-10-22 09:16:10.160918"], ["jti", "45d3492c-d6e6-4e75-a539-fe161d971294"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_master.com"], ["encrypted_password", "$2a$04$9hUlHXoatxI9MBwT1LghPe1G.nVWZ2gHZxlttQN1X7D3peBVkYgfu"], ["created_at", "2019-10-22 09:16:10.171872"], ["updated_at", "2019-10-22 09:16:10.171872"], ["jti", "4d1a22a0-23ef-436b-bfa1-3c3ebfbc16fb"], ["role", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4d1a22a0-23ef-436b-bfa1-3c3ebfbc16fb"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$bG.2Osw7W6jTk7lqb0QYCOk/k.7RSL4v7mxBaMLvos4VU3ij3FuHW"], ["created_at", "2019-10-22 09:16:10.188789"], ["updated_at", "2019-10-22 09:16:10.188789"], ["jti", "beb96302-825e-48fa-8c4f-648374b2579e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_master.com"], ["encrypted_password", "$2a$04$I941hYriWdbfqiOnKTjyauhUD94AhPqEb3kMqFIyA6b0EJerc4b9u"], ["created_at", "2019-10-22 09:16:10.199801"], ["updated_at", "2019-10-22 09:16:10.199801"], ["jti", "305c0f72-e84e-4a95-8349-287b3fcbe452"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "305c0f72-e84e-4a95-8349-287b3fcbe452"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$cNP6eEc4guTf9Jd3P/b4X.nUO6tCERJ6rYErnDRFNnR4UIdG90JQu"], ["created_at", "2019-10-22 09:16:10.217563"], ["updated_at", "2019-10-22 09:16:10.217563"], ["jti", "8b63203a-852f-4cf8-8ccf-df65b2a1f3ba"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_master.com"], ["encrypted_password", "$2a$04$LMm/MWLspjd/J.Ixvp5rIemKH74bdSsDBd2/SjpDjytr7PXJmSUNG"], ["created_at", "2019-10-22 09:16:10.229577"], ["updated_at", "2019-10-22 09:16:10.229577"], ["jti", "174fdb68-4f27-4853-a562-eed41966b65c"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "174fdb68-4f27-4853-a562-eed41966b65c"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$KAiKJXEugbT4/ekNRkWNNejvQses6c1j/5R6KZO850BZaGjFnu1wa"], ["created_at", "2019-10-22 09:16:10.246689"], ["updated_at", "2019-10-22 09:16:10.246689"], ["jti", "86d50f36-8977-4e2e-bfec-2ea5f747d9af"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_master.com"], ["encrypted_password", "$2a$04$fx5oL.sI.yXR2R17iBeNte31az9Vx93RuGjkyO3TqeTJfxH6TM9P6"], ["created_at", "2019-10-22 09:16:10.257747"], ["updated_at", "2019-10-22 09:16:10.257747"], ["jti", "376ff209-8bf2-4715-b992-2fba4394d836"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/288" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"288"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "376ff209-8bf2-4715-b992-2fba4394d836"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 288], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$wqAMu0pjwybgCC0tQU/bEu7IcFTf3d/t/s0oIv6jaMKLP4UNetRb6"], ["role", 4], ["updated_at", "2019-10-22 09:16:10.274100"], ["id", 288]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "376ff209-8bf2-4715-b992-2fba4394d836"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "376ff209-8bf2-4715-b992-2fba4394d836"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "419f77be-3a0b-4a06-90ef-df629bc74c8d"], ["id", 288]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "74d184d7-20c0-4cf6-af5a-09f163e5abe6"], ["id", 288]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_master.com"], ["encrypted_password", "$2a$04$nrfytI1hhN/ePEARuqZfluZiOFXjApxFLCwxItt4Oe4r6NsOBPrLi"], ["created_at", "2019-10-22 09:16:10.299770"], ["updated_at", "2019-10-22 09:16:10.299770"], ["jti", "36b74021-9597-49d1-a8c0-44a3c46c61f8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/289" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"289"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "36b74021-9597-49d1-a8c0-44a3c46c61f8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 289], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$bV8WOLDFZ5ZXV30CT6YNleOp1IxSKKTS8UOIZHywjZ6gRYXNl7amW"], ["role", 3], ["updated_at", "2019-10-22 09:16:10.315840"], ["id", 289]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "36b74021-9597-49d1-a8c0-44a3c46c61f8"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "36b74021-9597-49d1-a8c0-44a3c46c61f8"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "976068eb-42fd-43c5-a582-a6bc47d87138"], ["id", 289]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "04a36d3d-bdfb-4cae-a881-075ffdb6b3c7"], ["id", 289]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_master.com"], ["encrypted_password", "$2a$04$5UmYZW3TwVhgafQRluPXCuCYEbyHXvyDIY8H3sH7mYHRel7guS.Vm"], ["created_at", "2019-10-22 09:16:10.346033"], ["updated_at", "2019-10-22 09:16:10.346033"], ["jti", "9f5756a0-a72e-4bcd-9fcc-141044cad620"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.9ms)
Started PUT "/api/users/290" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"290"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9f5756a0-a72e-4bcd-9fcc-141044cad620"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 290], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$hIPMzKnNk8eu1sDyHcuBcePuZ1K2PudVrnIhJlCyJSe1aWkh01dfG"], ["role", 2], ["updated_at", "2019-10-22 09:16:10.365414"], ["id", 290]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9f5756a0-a72e-4bcd-9fcc-141044cad620"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9f5756a0-a72e-4bcd-9fcc-141044cad620"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e62672ad-e5dd-4b28-bff6-793c888e8be0"], ["id", 290]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "91127ef5-1114-4376-b947-26d32d585e1d"], ["id", 290]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_master.com"], ["encrypted_password", "$2a$04$SI9s4GA8caIfgZveRMQjtulhuHROKOSsb3LEaej4F/jJL8aqLGNNG"], ["created_at", "2019-10-22 09:16:10.391834"], ["updated_at", "2019-10-22 09:16:10.391834"], ["jti", "a92e4eb5-8a12-4c04-8b9f-7e65da7b2f64"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/291" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"291"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a92e4eb5-8a12-4c04-8b9f-7e65da7b2f64"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 291], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$PfhQFpIMUbH/ouTHi1kPIuh4wGoxYWdYttqtqXLhaCTprSb6MjvWq"], ["role", 1], ["updated_at", "2019-10-22 09:16:10.408633"], ["id", 291]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a92e4eb5-8a12-4c04-8b9f-7e65da7b2f64"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a92e4eb5-8a12-4c04-8b9f-7e65da7b2f64"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "bdaaeb3b-3f09-410b-b5ef-c3ed734c7c89"], ["id", 291]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "8b598ba0-2001-4cf1-b0ab-244831c94ca4"], ["id", 291]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_master.com"], ["encrypted_password", "$2a$04$4XxUeIjxhxW5ftiO7ANsPOSmtzAg25lwcx2kzZ0/.wSnxShPrIPFW"], ["created_at", "2019-10-22 09:16:10.444090"], ["updated_at", "2019-10-22 09:16:10.444090"], ["jti", "01d29e4e-89ba-4a54-a917-33561e4dcaff"], ["role", 0]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/292" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"292"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "01d29e4e-89ba-4a54-a917-33561e4dcaff"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 292], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$CkSfbZNzmfKIrOqPmKYrten/EoXjxLfFXoCEbWq0aIvUXrzVCmimK"], ["updated_at", "2019-10-22 09:16:10.464051"], ["id", 292]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.9ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "01d29e4e-89ba-4a54-a917-33561e4dcaff"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "01d29e4e-89ba-4a54-a917-33561e4dcaff"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "785b6d3c-85d4-4666-92ce-cf0bf7d47b8d"], ["id", 292]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9724db5d-1784-4a00-b21c-57a27d3db204"], ["id", 292]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_master.com"], ["encrypted_password", "$2a$04$j861E9Dzwl9KmrVD6HgEnO0DT2XW1pgT5v8QdO9iJgFFm1STxomVa"], ["created_at", "2019-10-22 09:16:10.493524"], ["updated_at", "2019-10-22 09:16:10.493524"], ["jti", "d1742740-5600-4b2b-bf79-6fe782c32223"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@player.com"], ["encrypted_password", "$2a$04$Th6.d/GdxPXgxt6eGLJ2NuNKPG6fpgcRTDmW6ZeRL30eU5dGmAIf."], ["created_at", "2019-10-22 09:16:10.500062"], ["updated_at", "2019-10-22 09:16:10.500062"], ["jti", "da15f21b-59d1-4dfa-8fc2-50006f40a8c5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/294" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"294"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d1742740-5600-4b2b-bf79-6fe782c32223"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 294], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Jk7OCkDwhVFsZzZI739TWePyRR.jsC/NmqnVgCMpcqXNisFdaejU6"], ["updated_at", "2019-10-22 09:16:10.519265"], ["id", 294]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_master.com"], ["encrypted_password", "$2a$04$okaiWEBwzPFI4ViGhMXhWuj/vFsRgsahrCUVPeoQwUEqZdZFC3Adu"], ["created_at", "2019-10-22 09:16:10.531708"], ["updated_at", "2019-10-22 09:16:10.531708"], ["jti", "3e4a3630-6b90-48f7-aac9-36cde7f428ff"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@player.com"], ["encrypted_password", "$2a$04$1w8VS0f5LAB2bMI1qGEvRuLw30cnaqYWxlVN3nqRt3K9a4NwJApS2"], ["created_at", "2019-10-22 09:16:10.538650"], ["updated_at", "2019-10-22 09:16:10.538650"], ["jti", "0bfeb3ee-e4fd-4c9a-b700-3f9726c9e618"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/296" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"296"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3e4a3630-6b90-48f7-aac9-36cde7f428ff"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 296], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$1Lk9x1dOyvqW.tuw4IWkH.crsWkYJjURCY6ubqPLk9uCP6XLEGSJy"], ["updated_at", "2019-10-22 09:16:10.555917"], ["id", 296]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_master.com"], ["encrypted_password", "$2a$04$Rkz2/VodBQ8nKpaFWH8FEO82Vwx20HTtp6YelmO/8R689m60lDKw6"], ["created_at", "2019-10-22 09:16:10.567114"], ["updated_at", "2019-10-22 09:16:10.567114"], ["jti", "9c8f7172-cc48-4e5f-af78-bf6a1cff74d2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test52@player.com"], ["encrypted_password", "$2a$04$l3qa6sGmw106TgTRovlM/eb2OvkPp4A3mt421L0Ygx1z37pexf13q"], ["created_at", "2019-10-22 09:16:10.573401"], ["updated_at", "2019-10-22 09:16:10.573401"], ["jti", "8cd553f0-0ec4-403c-951a-0fb48aa4b353"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/298" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"298"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9c8f7172-cc48-4e5f-af78-bf6a1cff74d2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 298], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$z6wWH7k4TS7QRlUvm7rqnuZuTBxS7zJwf6OGgYjeC7UTfEH/W18H6"], ["updated_at", "2019-10-22 09:16:10.589308"], ["id", 298]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_master.com"], ["encrypted_password", "$2a$04$KFW8I1Jv.AYggMA/j4WQCeQDwm6CGGuTb.L.Jm8l9JkDjEeUBh5Si"], ["created_at", "2019-10-22 09:16:10.599604"], ["updated_at", "2019-10-22 09:16:10.599604"], ["jti", "f2fc6cef-639d-491f-874d-e62e17d64a53"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test53@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test53@player.com"], ["encrypted_password", "$2a$04$wW/hBdoiBWNzqjY6rvcD7ePizquPUPznnURjY71dtWkeJwf9pErvi"], ["created_at", "2019-10-22 09:16:10.605745"], ["updated_at", "2019-10-22 09:16:10.605745"], ["jti", "8ea36bee-e0bf-4c78-ba8c-226232cdbdba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/300" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"300"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f2fc6cef-639d-491f-874d-e62e17d64a53"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 300], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$/mEdrPgV1IlVhhSk.4ITMeHwfXPcHM5cFmuTxsMsQINv/S6byyXmW"], ["updated_at", "2019-10-22 09:16:10.623326"], ["id", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.2ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_master.com"], ["encrypted_password", "$2a$04$c1VoLYePSgildTLLyBFJbO2vTqTRg38hR01YvJMi02JAP6gxFRpZy"], ["created_at", "2019-10-22 09:16:10.635512"], ["updated_at", "2019-10-22 09:16:10.635512"], ["jti", "1085fa2c-447c-44a1-8f59-c2c18f856aca"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test54@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test54@player.com"], ["encrypted_password", "$2a$04$u4zTkRgBaSflP6x9UBLCheNk0Pd5NJJIyl33qDAyR80iR/IuK28/e"], ["created_at", "2019-10-22 09:16:10.642366"], ["updated_at", "2019-10-22 09:16:10.642366"], ["jti", "a3e4cc24-65a4-475a-93a3-6ecb65b3d2dd"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/302" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"302"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1085fa2c-447c-44a1-8f59-c2c18f856aca"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 302], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$wxH9/ZYsbiRoJMfGP9Efk.JHacK2DBvTTpo7NaPJfyt4XjAQ/IGVu"], ["updated_at", "2019-10-22 09:16:10.660638"], ["id", 302]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.6ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_master.com"], ["encrypted_password", "$2a$04$B14K3NHorAyez7Eoc5AxD.kGM4GUSBayvkTXqM5ZjJOvHRirCFuVy"], ["created_at", "2019-10-22 09:16:10.674203"], ["updated_at", "2019-10-22 09:16:10.674203"], ["jti", "d5cd65f0-9f90-4365-b15a-2141f0760813"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@coffee_owner.com"], ["encrypted_password", "$2a$04$XqSvbTg8x/4wNSWISf1EdO7VSBjyIKkL7FtKMfjM1nT5bD7CNI0mm"], ["created_at", "2019-10-22 09:16:10.680835"], ["updated_at", "2019-10-22 09:16:10.680835"], ["jti", "9463cbbe-cbee-4c93-94f0-b0eee442d9f4"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.5ms)
Started PUT "/api/users/304" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"304"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d5cd65f0-9f90-4365-b15a-2141f0760813"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 304], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$CS0CquRJQ9CJecsNR9HxeeT4BtLW.szirZRVyeHeUXpvjnrpTZVh6"], ["updated_at", "2019-10-22 09:16:10.701468"], ["id", 304]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_master.com"], ["encrypted_password", "$2a$04$a2gumm2YFDQacFQDMsU13.vY3JkyzFyuOzthfC7VME.wyzyAUa5FO"], ["created_at", "2019-10-22 09:16:10.712252"], ["updated_at", "2019-10-22 09:16:10.712252"], ["jti", "6bf76db2-2685-41df-85da-442141298a80"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test69@coffee_owner.com"], ["encrypted_password", "$2a$04$kZm64dqZOqgB.Ek.L7BHSudjLl7IbzWDQ2RaY9/m.C1HwWdffBKfu"], ["created_at", "2019-10-22 09:16:10.717495"], ["updated_at", "2019-10-22 09:16:10.717495"], ["jti", "ed1cb1f5-dff2-41c2-9be6-f465e9bdd286"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/306" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"306"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6bf76db2-2685-41df-85da-442141298a80"], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 306], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$8KapnnNS8iBHXv6k2isy9OsG7cJOhOKaQ4Hn2H5Hq9ppqFYCl.7lW"], ["updated_at", "2019-10-22 09:16:10.736498"], ["id", 306]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_master.com"], ["encrypted_password", "$2a$04$syixDca7ZJW3MO165HtJH.ex1Eo2nI06JkbFy.Y.Vwmd.1tpxNdL."], ["created_at", "2019-10-22 09:16:10.746137"], ["updated_at", "2019-10-22 09:16:10.746137"], ["jti", "b1993d6a-281d-4e73-9311-3fe007003929"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@coffee_owner.com"], ["encrypted_password", "$2a$04$VsoNVsZ5d.M1xhr6cNfrLeStz1Xa.nvBgQoI1Sroio9d2ame3ymHq"], ["created_at", "2019-10-22 09:16:10.752781"], ["updated_at", "2019-10-22 09:16:10.752781"], ["jti", "14f49ff4-0792-41fc-ad98-6c02de1f1a87"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/308" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"308"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b1993d6a-281d-4e73-9311-3fe007003929"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 308], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$TwHL5fgxm6y10tLSEd7V3uANPVwJlGscetrljwOkb3cANx2HP7w6O"], ["updated_at", "2019-10-22 09:16:10.779134"], ["id", 308]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_master.com"], ["encrypted_password", "$2a$04$PPEfz4lGnpgzuqt7OcWI5.QfBHsCqg0WfLNqGzOfnhaJwcPPCckJ6"], ["created_at", "2019-10-22 09:16:10.788505"], ["updated_at", "2019-10-22 09:16:10.788505"], ["jti", "6f17dcb6-6461-4f95-8139-f77f079cb872"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test71@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test71@coffee_owner.com"], ["encrypted_password", "$2a$04$FKVcmbjj9WN.OSNaAWuPiOi35yXGEEVMPD2vvMSJoXCLmlTw9guGu"], ["created_at", "2019-10-22 09:16:10.795464"], ["updated_at", "2019-10-22 09:16:10.795464"], ["jti", "4483eabe-e679-4451-a67c-1780ac9442ec"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/310" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"310"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6f17dcb6-6461-4f95-8139-f77f079cb872"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 310], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$Sk0j.7lo5S0VbBjBrNH79.ltOXz/9Aw04osVv5sd1I//gt8GQEfEe"], ["updated_at", "2019-10-22 09:16:10.811536"], ["id", 310]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_master.com"], ["encrypted_password", "$2a$04$qr7d7Uq4ff2aTljMB5VtKO/Zl7/EtpsLfFK.K3q9swmFUp/dbH0vi"], ["created_at", "2019-10-22 09:16:10.820456"], ["updated_at", "2019-10-22 09:16:10.820456"], ["jti", "951348c8-04db-45b4-a155-93d50903f9b0"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test72@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test72@coffee_owner.com"], ["encrypted_password", "$2a$04$0Jbz361WBlw/63jRzzvQd.KaUMNucBVljIi190ap5CbI6XOAHLnJC"], ["created_at", "2019-10-22 09:16:10.826607"], ["updated_at", "2019-10-22 09:16:10.826607"], ["jti", "35c20405-a9f5-492e-83b7-67aaaa24ad80"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/312" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"312"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "951348c8-04db-45b4-a155-93d50903f9b0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 312], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$7W.2RYRQ87e8ot/7cE6FkeMC6nbg7c.TBHAEegZoCMkjN/cWMuO2m"], ["updated_at", "2019-10-22 09:16:10.843790"], ["id", 312]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_master.com"], ["encrypted_password", "$2a$04$OiMYRmoBCIfNW08PeRaMpuNnsJ9TEGMXRztFry0Bhjt9W4oHdEiK2"], ["created_at", "2019-10-22 09:16:10.853152"], ["updated_at", "2019-10-22 09:16:10.853152"], ["jti", "80819edc-0284-4808-ac9f-a93a93a66a3b"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test69@sys_expert.com"], ["encrypted_password", "$2a$04$NDmudbSSRuWjRksEAw658O6EolCGFkD0JEtST9z14L4glVVfyOwX6"], ["created_at", "2019-10-22 09:16:10.859165"], ["updated_at", "2019-10-22 09:16:10.859165"], ["jti", "2cd0ed17-d6c6-4ffc-bb97-b944a914d105"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/314" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"314"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "80819edc-0284-4808-ac9f-a93a93a66a3b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 314], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$Q4TnVuxdqoTomJfjLFjv6u3yBn8Lbcjne0EJ80TpOvs7lmHsM7726"], ["updated_at", "2019-10-22 09:16:10.875671"], ["id", 314]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_master.com"], ["encrypted_password", "$2a$04$x/KJW3mhrNcHRGoMWrLtbukCbn064TTfhgDeGMSqllzAFnMpfQAHO"], ["created_at", "2019-10-22 09:16:10.884727"], ["updated_at", "2019-10-22 09:16:10.884727"], ["jti", "c45049fc-16b6-4f57-b372-ef03d723b32f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@sys_expert.com"], ["encrypted_password", "$2a$04$8NdYWQHvDZKJ0vmZ47PENuxett.bf3oY3lOikFVF6OeHMYRMwNDba"], ["created_at", "2019-10-22 09:16:10.890462"], ["updated_at", "2019-10-22 09:16:10.890462"], ["jti", "f275f4f6-c399-495c-a397-6d2e62217b9b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/316" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"316"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c45049fc-16b6-4f57-b372-ef03d723b32f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 316], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$pNCcWdIckHZuQVaijXMMV.IKEPYP4RHiOVW5r06sGG66VbNJYzBV."], ["updated_at", "2019-10-22 09:16:10.907824"], ["id", 316]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_master.com"], ["encrypted_password", "$2a$04$SUzxtJZ3zzbA.KoHl8iEeez2PQXOc9aTbLmJ.2B.Z7wizpyDrGCwm"], ["created_at", "2019-10-22 09:16:10.918372"], ["updated_at", "2019-10-22 09:16:10.918372"], ["jti", "f4a8a7ec-e48f-4583-9a62-4b935278819b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test71@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test71@sys_expert.com"], ["encrypted_password", "$2a$04$aAcHuupjBFr647zzK75Y2eZdRTbt8c4HpKnTu0hyz7uJL5jb.njSi"], ["created_at", "2019-10-22 09:16:10.924865"], ["updated_at", "2019-10-22 09:16:10.924865"], ["jti", "8c7974dd-0a19-4eae-ac7b-bb3b97241206"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/318" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"318"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f4a8a7ec-e48f-4583-9a62-4b935278819b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 318], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$UMXD6gBpj7BGzyUQQglPr.zyLKXY31jjVxrRkHYDRqAqjNTkNZBX6"], ["updated_at", "2019-10-22 09:16:10.944293"], ["id", 318]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 3.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_master.com"], ["encrypted_password", "$2a$04$qH6b6f/p8z5X8z1SKplw7.vw.3LsfsAUkcZcDY3nKN/dQXBFsbv2S"], ["created_at", "2019-10-22 09:16:10.954697"], ["updated_at", "2019-10-22 09:16:10.954697"], ["jti", "60b0862c-1e94-4ec4-a106-f1656f094c2f"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test72@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test72@sys_expert.com"], ["encrypted_password", "$2a$04$Trq5/.m.EW1FiuFNqyxEm.0hZenI8scrvgeYAOZtAiAnHJ/0x7vrC"], ["created_at", "2019-10-22 09:16:10.960516"], ["updated_at", "2019-10-22 09:16:10.960516"], ["jti", "0e90e11c-a064-44ac-bf23-e11d60f38aa0"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/320" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"320"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "60b0862c-1e94-4ec4-a106-f1656f094c2f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 320], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$UPwmNdeD5eXUmKspYRLnJeI34tZt7xKYA9.YIHVJWBwJz.HeBd9cu"], ["updated_at", "2019-10-22 09:16:10.979255"], ["id", 320]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_master.com"], ["encrypted_password", "$2a$04$A0a7LqKsVeKMobVduTgF0etMLLmXbWIyqmUZa.mI80Y28onNMFRou"], ["created_at", "2019-10-22 09:16:10.988914"], ["updated_at", "2019-10-22 09:16:10.988914"], ["jti", "08447994-b154-4d68-b000-7f4e290b1bdb"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test73@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test73@sys_expert.com"], ["encrypted_password", "$2a$04$G9uJKMmbHotaVpoxehba3uPb7Yx5.zyKItof/pA8Sew06P4eL7pUi"], ["created_at", "2019-10-22 09:16:10.994520"], ["updated_at", "2019-10-22 09:16:10.994520"], ["jti", "1ce95d89-c22b-4684-beaa-c7e59f9e8609"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:10 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/322" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"322"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "08447994-b154-4d68-b000-7f4e290b1bdb"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 322], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$xn0qmakfO0h3XDACQT4uV.10c9xQqENbYLjLB0Or43IbGzPcunqtC"], ["updated_at", "2019-10-22 09:16:11.011575"], ["id", 322]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_master.com"], ["encrypted_password", "$2a$04$IUca.HKdheNsvRZ.ohzYz.gpQ1XTc.d051xki0GUPy791bXFvOWD."], ["created_at", "2019-10-22 09:16:11.019835"], ["updated_at", "2019-10-22 09:16:11.019835"], ["jti", "be17fcfa-fe7e-4915-af66-c26c04ab8587"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@sys_admin.com"], ["encrypted_password", "$2a$04$kjQvY/J9m6cz.KmwMO8hs.eUAYWT4V9nH2.AyUPPtBwQ0D.co2dzO"], ["created_at", "2019-10-22 09:16:11.024836"], ["updated_at", "2019-10-22 09:16:11.024836"], ["jti", "a5310f7f-18c8-4c42-bc74-3b65c263b24e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/324" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"324"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "be17fcfa-fe7e-4915-af66-c26c04ab8587"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 324], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$A7JN2Mlsr0yOvYhI/gY/N.U42STfqeIY7RhaoxZCO0ykWOPvf40z."], ["updated_at", "2019-10-22 09:16:11.041909"], ["id", 324]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_master.com"], ["encrypted_password", "$2a$04$RWd53RZbDcGgMBaJsRFalu/M8WnT6cY52OOdT13Iaq3Cno1mgR/BS"], ["created_at", "2019-10-22 09:16:11.050889"], ["updated_at", "2019-10-22 09:16:11.050889"], ["jti", "7db390e0-936c-4424-a729-207d98368b05"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@sys_admin.com"], ["encrypted_password", "$2a$04$nI.8rTqLAkWF4uMB3HmY0OrfhEd463hXvqgWnCNqe6SxtIvWJ.vxW"], ["created_at", "2019-10-22 09:16:11.056021"], ["updated_at", "2019-10-22 09:16:11.056021"], ["jti", "a7b00824-a2fa-490c-8fb3-580c8be4d019"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/326" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}, "id"=>"326"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7db390e0-936c-4424-a729-207d98368b05"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 326], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$14.zscKUlJbEyL4TDsm63OMui1Cw87CDl.thxK7t6LQXXIM/TJxw6"], ["updated_at", "2019-10-22 09:16:11.081559"], ["id", 326]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_master.com"], ["encrypted_password", "$2a$04$KzibOF6yF287vhL5GsPgeOC.LYedDKlMcEIvyuQzzEZiyywB9/DdG"], ["created_at", "2019-10-22 09:16:11.090902"], ["updated_at", "2019-10-22 09:16:11.090902"], ["jti", "0cc56e42-d9a9-4392-8868-8cfd39b43a56"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@sys_admin.com"], ["encrypted_password", "$2a$04$Xf02ebIf1wxxKLdixCd2pucLjSccPvc/qPM/j22jpJQVpB43g5waO"], ["created_at", "2019-10-22 09:16:11.095899"], ["updated_at", "2019-10-22 09:16:11.095899"], ["jti", "8f9eceff-1384-4315-9a80-26b06549b50f"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/328" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"328"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0cc56e42-d9a9-4392-8868-8cfd39b43a56"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 328], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$BB5OHhjsXOcBoMLX8nuhveSkm.FyGoYL.dx1Cff4oPrdz8Ufrud3i"], ["updated_at", "2019-10-22 09:16:11.111881"], ["id", 328]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_master.com"], ["encrypted_password", "$2a$04$2nYpk1xYRnZhtZN5IypZgeRHrqXDrpSDsbrpeAjMjE1lAeOpPREqW"], ["created_at", "2019-10-22 09:16:11.120952"], ["updated_at", "2019-10-22 09:16:11.120952"], ["jti", "bebe84e1-9f2c-4d24-bcf7-9ae480a8485b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@sys_admin.com"], ["encrypted_password", "$2a$04$bZIYD8/G5nf1LQbKvUHyb.Af/6gq8IoYIVjWiQhTPjIjux6AmMCue"], ["created_at", "2019-10-22 09:16:11.127085"], ["updated_at", "2019-10-22 09:16:11.127085"], ["jti", "1383eb1e-9ab3-4da2-8538-df443a0f8537"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/330" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"330"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bebe84e1-9f2c-4d24-bcf7-9ae480a8485b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 330], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$QiOxp7LQ9mu8gUuaBA1hXu33WqJW7oNP58.kZWvrp/5KEDun76Kl6"], ["updated_at", "2019-10-22 09:16:11.145187"], ["id", 330]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_master.com"], ["encrypted_password", "$2a$04$05qX/qoXOgsFiw1uwqtGVekUMmuC5PZA8FZicCWYWUKqILK6GXp7C"], ["created_at", "2019-10-22 09:16:11.155000"], ["updated_at", "2019-10-22 09:16:11.155000"], ["jti", "488c747f-a23b-4a13-87c9-6e308d395e59"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test69@sys_admin.com"], ["encrypted_password", "$2a$04$uvm6a4NIwDVp1YgKHXtB/eXz5/zFKuOMR9IWVm9yuuPDWtzQMHWoy"], ["created_at", "2019-10-22 09:16:11.162326"], ["updated_at", "2019-10-22 09:16:11.162326"], ["jti", "f8cc10e9-dfe3-43cf-9c88-e283e855b29c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/332" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"332"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "488c747f-a23b-4a13-87c9-6e308d395e59"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 332], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$SIyBvLhrL41KFK9o9Zcrb.jprLHpS5P3VunjDkFVdxFZVBFK.Bf2m"], ["updated_at", "2019-10-22 09:16:11.181981"], ["id", 332]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_master.com"], ["encrypted_password", "$2a$04$7IfNa21GT3IrkX9mLXLiCOtT0nDiGR1BNClj48VGsb2IkXxu1lvFW"], ["created_at", "2019-10-22 09:16:11.195923"], ["updated_at", "2019-10-22 09:16:11.195923"], ["jti", "fd71688a-2661-425d-a2a7-93779b4aceb7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_master.com"], ["encrypted_password", "$2a$04$86eJdUowYu/3n.2m5MDXDeLXg/r9fFCWBYqlPtlPiV1tL8ku6YBGG"], ["created_at", "2019-10-22 09:16:11.201482"], ["updated_at", "2019-10-22 09:16:11.201482"], ["jti", "70a4245f-a85c-4397-ab9c-b00743347ccc"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/334" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"334"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fd71688a-2661-425d-a2a7-93779b4aceb7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_master.com"], ["encrypted_password", "$2a$04$mn.LivHNN.Aklrwd1LLAKe.aP8C5EC6H.aRfEptuSawwJ7VEyT/u2"], ["created_at", "2019-10-22 09:16:11.219679"], ["updated_at", "2019-10-22 09:16:11.219679"], ["jti", "e7f13ee9-df90-4979-b91f-d2f0a6f7f178"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/335" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"335"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e7f13ee9-df90-4979-b91f-d2f0a6f7f178"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:11.232514"], ["updated_at", "2019-10-22 09:16:11.233082"], ["id", 335]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 1.4ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_master.com"], ["encrypted_password", "$2a$04$KcEV7rZedU6ZcOZYJkZkeex9dTXR/x8IKBIDQeXieAHB7RlbtY6pO"], ["created_at", "2019-10-22 09:16:11.248580"], ["updated_at", "2019-10-22 09:16:11.248580"], ["jti", "767d3d6f-8196-45a8-9614-fb84b3bce1ed"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test55@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test55@player.com"], ["encrypted_password", "$2a$04$IIFlcE89XLz5yUVWv.sxm.QBiiNy/Osj/0DmAywMQVp1KGbCvZdWi"], ["created_at", "2019-10-22 09:16:11.254278"], ["updated_at", "2019-10-22 09:16:11.254278"], ["jti", "23998119-294f-4204-9b4a-49386a4d3862"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/337" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"337"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "767d3d6f-8196-45a8-9614-fb84b3bce1ed"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 337], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:11.267012"], ["updated_at", "2019-10-22 09:16:11.267561"], ["id", 337]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 1.2ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test55@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test55@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_master.com"], ["encrypted_password", "$2a$04$YcL.BMOCHjjQTXsDJ1It0OwGGAnRvMiavePscazvWU/BYZbiA88Be"], ["created_at", "2019-10-22 09:16:11.284403"], ["updated_at", "2019-10-22 09:16:11.284403"], ["jti", "04d30def-438b-4d8c-8593-0270e2d6b205"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test73@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test73@coffee_owner.com"], ["encrypted_password", "$2a$04$O4DLf1CkaqVvYeD8OqAbP.Nfj/vsWiGfyrz94Y4DKXgCny/BeYPGe"], ["created_at", "2019-10-22 09:16:11.289175"], ["updated_at", "2019-10-22 09:16:11.289175"], ["jti", "5d31bda0-47c7-470e-998c-2b3443853804"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/339" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"339"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "04d30def-438b-4d8c-8593-0270e2d6b205"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:11.301119"], ["updated_at", "2019-10-22 09:16:11.301582"], ["id", 339]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 1.3ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test73@coffee_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test73@coffee_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_master.com"], ["encrypted_password", "$2a$04$CZVlpBjaX7X4Gvib2RFBOO9Vhpv2oISdC1h2UykPMLSnMyasF5HXW"], ["created_at", "2019-10-22 09:16:11.316284"], ["updated_at", "2019-10-22 09:16:11.316284"], ["jti", "f22ee368-94c1-466c-8b82-1eec69e47b54"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test74@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test74@sys_expert.com"], ["encrypted_password", "$2a$04$03c2xyvPwOkxYofHuYC6veyBLNuT8mqzjE8KtjpdCyUty/wS4ZRm."], ["created_at", "2019-10-22 09:16:11.321289"], ["updated_at", "2019-10-22 09:16:11.321289"], ["jti", "6e4f3dd1-3290-453e-9fbe-a5a904822bb9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/341" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"341"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f22ee368-94c1-466c-8b82-1eec69e47b54"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:11.333551"], ["updated_at", "2019-10-22 09:16:11.334072"], ["id", 341]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 1.2ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test74@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test74@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@sys_master.com"], ["encrypted_password", "$2a$04$PYXuMenMpn1pSJwKPlGYe.myb46YouN7Bni4pg9snLGtb4XCo3udy"], ["created_at", "2019-10-22 09:16:11.348694"], ["updated_at", "2019-10-22 09:16:11.348694"], ["jti", "79862043-b798-4850-8568-8d6101308f8a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@sys_admin.com"], ["encrypted_password", "$2a$04$CR0sDjdPlF9Ot.iC3upJQeOEQGecLrDwUkexNkZs05ViORh0dFI.y"], ["created_at", "2019-10-22 09:16:11.354278"], ["updated_at", "2019-10-22 09:16:11.354278"], ["jti", "290df8eb-3285-474f-9531-f5db0d8b8a27"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 1.1ms)
Started DELETE "/api/users/343" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"343"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "79862043-b798-4850-8568-8d6101308f8a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-22 09:16:11.374212"], ["updated_at", "2019-10-22 09:16:11.374785"], ["id", 343]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 1.4ms)
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test70@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test70@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@sys_master.com"], ["encrypted_password", "$2a$04$sfs6Duq55/SMsyNq5gFUAuCCYRGzMSySgvCOlbOmxkp0gHIaFyEFG"], ["created_at", "2019-10-22 09:16:11.390890"], ["updated_at", "2019-10-22 09:16:11.390890"], ["jti", "aa6047ce-589b-43ef-8db6-424c662847b6"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@sys_master.com"], ["encrypted_password", "$2a$04$ZitavzCg2Zdx0S7mZpWp9epw1l9CbZS3PSj5QJdZ650Rr3I.2bJei"], ["created_at", "2019-10-22 09:16:11.396971"], ["updated_at", "2019-10-22 09:16:11.396971"], ["jti", "3d608e67-92b4-4a62-b7b3-8d734c112c93"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/345" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"345"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "aa6047ce-589b-43ef-8db6-424c662847b6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>""}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 316ms (Views: 0.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (Views: 0.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$INYqg1Eept5UiN1GChRbmeuDR/TuSjZKICTCUfNAUIfhYkINJAnDy"], ["created_at", "2019-10-22 09:16:11.775594"], ["updated_at", "2019-10-22 09:16:11.775594"], ["jti", "3b10ee20-9632-469f-9a61-dae341f7c5af"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"coffee_owner"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$O0Y/YCNVROKDArxsjnlQpeMPECHi3hS9HMhIT3ZB68KRNCcRbnV4y"], ["created_at", "2019-10-22 09:16:11.789931"], ["updated_at", "2019-10-22 09:16:11.789931"], ["jti", "f61d2742-a7c1-4a14-ab41-5174d198c0b8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$yynmTVp0BDMXVU4HeloTe.oxz8u7g4eC2GUGaPk2GEQLSwTs4MEiW"], ["created_at", "2019-10-22 09:16:11.805447"], ["updated_at", "2019-10-22 09:16:11.805447"], ["jti", "e9a898d2-6ec0-4342-88bd-d3ce19124a4e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 2.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$kgVf4I.zrtcrNPKqC1fflOybTjQISzUB4F0vVdDMDv/VpbaSFZXyK"], ["created_at", "2019-10-22 09:16:11.821535"], ["updated_at", "2019-10-22 09:16:11.821535"], ["jti", "7e003dbc-0b5c-4e26-8e3b-04085aed9f23"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$9LkrJgTazSnO9dYsjvbzzuLd6eQUbLNHcAMhAdz0VCoZorTNLKMLa"], ["created_at", "2019-10-22 09:16:11.836028"], ["updated_at", "2019-10-22 09:16:11.836028"], ["jti", "0d2ce6b9-f41e-4e6d-96f1-ae7ef95cb718"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test56@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test56@player.com"], ["encrypted_password", "$2a$04$046KVyUtrnvZPn.OoTukPOO0fOEsRbsKrBru8u1H0VnDedp0mzjFC"], ["created_at", "2019-10-22 09:16:11.847961"], ["updated_at", "2019-10-22 09:16:11.847961"], ["jti", "6505bd45-3c75-4f56-903f-ada9db864a80"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test56@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test56@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/351" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"351"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test57@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test57@player.com"], ["encrypted_password", "$2a$04$fzhiRgSenDwS2HarYLV8uOv1hfDkXKj05CRrtWlA2lqDBOkAcPRE."], ["created_at", "2019-10-22 09:16:11.865263"], ["updated_at", "2019-10-22 09:16:11.865263"], ["jti", "2223435c-436d-44c2-92ed-d7a6d46c6612"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test57@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test57@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/352" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"352"}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test58@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test58@player.com"], ["encrypted_password", "$2a$04$eOiIsMsdsUzAwJ7y9abFaeVLtMuyg91olc6NA6NgIJYXJSj2H2.uG"], ["created_at", "2019-10-22 09:16:11.882059"], ["updated_at", "2019-10-22 09:16:11.882059"], ["jti", "6849d8e4-1355-4d48-b2d6-0863c6207f5b"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test58@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test58@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/353" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"id"=>"353"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6849d8e4-1355-4d48-b2d6-0863c6207f5b"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test59@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test59@player.com"], ["encrypted_password", "$2a$04$54h/XrD7wHs2BEfEz2upIeIm2ScSmjHUh62tf53PwArcjF.g8.w82"], ["created_at", "2019-10-22 09:16:11.899987"], ["updated_at", "2019-10-22 09:16:11.899987"], ["jti", "0a41dd19-ba93-43bd-9234-f373f57b41e3"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test59@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test59@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/354" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"tets"=>"test"}, "id"=>"354"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0a41dd19-ba93-43bd-9234-f373f57b41e3"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test60@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test60@player.com"], ["encrypted_password", "$2a$04$gkK0nd4y7oisfcfMLeDxnefx.4HO43Pm1oQMDU9I8vQTIXdjQsY/m"], ["created_at", "2019-10-22 09:16:11.917418"], ["updated_at", "2019-10-22 09:16:11.917418"], ["jti", "22a84fab-c680-4b67-b777-3bc84a2c84f3"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test60@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test60@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/355" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"email"}, "id"=>"355"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "22a84fab-c680-4b67-b777-3bc84a2c84f3"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test61@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test61@player.com"], ["encrypted_password", "$2a$04$HNBgJkHYMFA2EIV/knU9Ney4KV0aEZk4urOxoHYQEn9itJsZ7QIOW"], ["created_at", "2019-10-22 09:16:11.933286"], ["updated_at", "2019-10-22 09:16:11.933286"], ["jti", "ec4edd9a-fa5e-4d67-bd50-5cef7e2db2a4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test61@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test61@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/356" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"email", "password"=>"[FILTERED]"}, "id"=>"356"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ec4edd9a-fa5e-4d67-bd50-5cef7e2db2a4"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test62@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test62@player.com"], ["encrypted_password", "$2a$04$6eege1I6LL0s.CNGQwp7Xe5NxYQ.IbJbSpn7UTXnf.WVAM7yGJ79e"], ["created_at", "2019-10-22 09:16:11.953853"], ["updated_at", "2019-10-22 09:16:11.953853"], ["jti", "185c947c-0163-4e50-86dd-462920282709"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test62@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test62@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/357" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"357"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "185c947c-0163-4e50-86dd-462920282709"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "invalid"], ["id", 357], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test63@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test63@player.com"], ["encrypted_password", "$2a$04$lue00RCMlIsm7AQtxdZ85ueqEeNd6WKUgJtgq/rIpeLv5740Uy.ie"], ["created_at", "2019-10-22 09:16:11.977665"], ["updated_at", "2019-10-22 09:16:11.977665"], ["jti", "35b2c3b9-e95b-42cb-8764-86d48eb829e2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test63@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test63@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/358" for 127.0.0.1 at 2019-10-22 12:46:11 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"358"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "35b2c3b9-e95b-42cb-8764-86d48eb829e2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "test@test"], ["id", 358], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test64@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test64@player.com"], ["encrypted_password", "$2a$04$NydaTpR0kvYETkPZLQf8x.s6AKsMMu3f.R1ZyuIAM2ogVVWrlIIJa"], ["created_at", "2019-10-22 09:16:12.002698"], ["updated_at", "2019-10-22 09:16:12.002698"], ["jti", "c782309d-edb7-4016-a6d5-f993ea27731a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test64@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test64@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/359" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"359"}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test65@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test65@player.com"], ["encrypted_password", "$2a$04$MmwXn2DLXUWgXIND/wWfEOiES9N4s3s5cLNa/mJyWoq59Jo4UfukC"], ["created_at", "2019-10-22 09:16:12.019710"], ["updated_at", "2019-10-22 09:16:12.019710"], ["jti", "fa1d210e-8448-4a3e-a2f4-b3fe26176b4d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test65@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test65@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/360" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"id"=>"360"}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test66@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test66@player.com"], ["encrypted_password", "$2a$04$/djSPsnjL6lBWMNkW398/OzBL5WJnlw64IoM9jYdo86DaCXl3ntx6"], ["created_at", "2019-10-22 09:16:12.037082"], ["updated_at", "2019-10-22 09:16:12.037082"], ["jti", "ec0301ad-2727-4fe6-8658-3b1e45313abc"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test66@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test66@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by UsersController#profile as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ec0301ad-2727-4fe6-8658-3b1e45313abc"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test67@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test67@player.com"], ["encrypted_password", "$2a$04$HTgsDgC9a8q28cUrsJNnQuHszSuhQeEDdUIsGBbTI6PWgHpezT/Zu"], ["created_at", "2019-10-22 09:16:12.056743"], ["updated_at", "2019-10-22 09:16:12.056743"], ["jti", "417efec2-e32b-4ba0-8907-cf3189120241"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test67@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test67@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test68@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test68@player.com"], ["encrypted_password", "$2a$04$3jXJlh25gpMZJ5itAVOuJOhzIyZbqmTFyP3mp.087BvjlTPMmZUBm"], ["created_at", "2019-10-22 09:16:12.073842"], ["updated_at", "2019-10-22 09:16:12.073842"], ["jti", "7322a5f4-94c5-4e08-8096-a8f31ccd19e1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test68@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test68@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile" for 127.0.0.1 at 2019-10-22 12:46:12 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test74@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test74@coffee_owner.com"], ["encrypted_password", "$2a$04$ZG6Nq5AmWueUxe96rYxXv.P.DlywAnSCk7yviGv2Q2nlofEXQjm/C"], ["created_at", "2019-10-22 09:16:12.119829"], ["updated_at", "2019-10-22 09:16:12.119829"], ["jti", "fcdd4fde-b3ed-42cb-bf52-609742f62d64"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test75@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test75@coffee_owner.com"], ["encrypted_password", "$2a$04$LN1.lLiPBdczzIiyH4FsdOaHTzqjYM/IIuVkvLGUv.JP3P4VU0Kr2"], ["created_at", "2019-10-22 09:16:12.137239"], ["updated_at", "2019-10-22 09:16:12.137239"], ["jti", "5e320e65-2e3c-4373-95c9-3ac44e7163d2"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test76@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test76@sys_expert.com"], ["encrypted_password", "$2a$04$BEQLZ5kJU7tF73uXMKIAJe0ks.UQ739QEE6jjMPZqST4HXyeu250e"], ["created_at", "2019-10-22 09:16:12.143506"], ["updated_at", "2019-10-22 09:16:12.143506"], ["jti", "3eefb1e5-6ece-4f01-bbf8-eb0fd83fefa3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test71@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test71@sys_admin.com"], ["encrypted_password", "$2a$04$5h39UN9NkdDYGT2C3jyRXOmsMIpD7AM8oU7n5ZZeDKRoVxead4zFy"], ["created_at", "2019-10-22 09:16:12.150209"], ["updated_at", "2019-10-22 09:16:12.150209"], ["jti", "a3fb7228-dabd-4757-ab60-257443395b10"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 365], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name"], ["address", "CoffeeShopAddress24"], ["owner_id", 365], ["creator_id", 367], ["created_at", "2019-10-22 09:16:12.158436"], ["updated_at", "2019-10-22 09:16:12.158436"], ["maintainer_id", 366]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test77@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test77@coffee_owner.com"], ["encrypted_password", "$2a$04$H2lFJHrqnb03Lxml79K.4OKI0n51SBnRa0.ZqrUHhN0nRX1QZ.622"], ["created_at", "2019-10-22 09:16:12.180943"], ["updated_at", "2019-10-22 09:16:12.180943"], ["jti", "8362ab90-9d4d-4fc8-9ec6-a36cfe53818f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test78@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test78@sys_expert.com"], ["encrypted_password", "$2a$04$XULM8wxGySTqUHU8Aq23ZOXiCafiquZnT58GLpaZHhz6XBhomtU/C"], ["created_at", "2019-10-22 09:16:12.190622"], ["updated_at", "2019-10-22 09:16:12.190622"], ["jti", "62150d6e-5e91-406a-bfdb-effb403b9ddc"], ["role", 2]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test73@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test73@sys_admin.com"], ["encrypted_password", "$2a$04$/6qClfMVfAOzCWaPjToNxeHi1iMk9w.TWTqgLSAx5MInH/Nd0MnZG"], ["created_at", "2019-10-22 09:16:12.197065"], ["updated_at", "2019-10-22 09:16:12.197065"], ["jti", "c5912dce-bc01-417b-b26e-7db49f1ecaa6"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName24"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 368], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName24"], ["address", "CoffeeShopAddress26"], ["owner_id", 368], ["creator_id", 370], ["created_at", "2019-10-22 09:16:12.203102"], ["updated_at", "2019-10-22 09:16:12.203102"], ["maintainer_id", 369]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName25"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 368], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test78@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test78@coffee_owner.com"], ["encrypted_password", "$2a$04$syY.t3/Eqh0iYzrdY9JyDO6QbzFvkY/GFAySUMJi8SvdQ78cgy17y"], ["created_at", "2019-10-22 09:16:12.219624"], ["updated_at", "2019-10-22 09:16:12.219624"], ["jti", "d643ccd1-1de4-49ce-88a9-6ef9c37cd723"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test80@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test80@sys_expert.com"], ["encrypted_password", "$2a$04$pcjICa3xe4Jvzb2KBT9MUO/VY0PW.IZ55/H/FekYV5/NLmF.74Kr2"], ["created_at", "2019-10-22 09:16:12.226048"], ["updated_at", "2019-10-22 09:16:12.226048"], ["jti", "cfc7053b-9655-4afe-aa3e-7a75a54a9db7"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test75@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test75@sys_admin.com"], ["encrypted_password", "$2a$04$UpBQsNRyu2ct7WZZ2JAiE.5fosW.pC8xQjR4ZcX/XBxLQpjjqdUum"], ["created_at", "2019-10-22 09:16:12.232271"], ["updated_at", "2019-10-22 09:16:12.232271"], ["jti", "09f9a9c8-77f1-476c-9ebc-32801b48c7fa"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName26"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 371], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test79@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test79@coffee_owner.com"], ["encrypted_password", "$2a$04$G.kAC/3u8dZTSxLDAh/rb.3/mgIlu/p/U3majKxCqEiYZW4/8YVkq"], ["created_at", "2019-10-22 09:16:12.244454"], ["updated_at", "2019-10-22 09:16:12.244454"], ["jti", "ee42352a-0587-4b8a-ab5a-edf7a71656e1"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test76@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test76@sys_admin.com"], ["encrypted_password", "$2a$04$JLCumDqazsy6W.qxjufCBeCX/4wPsPmLJfo9dVgnqu/afIulbuz7i"], ["created_at", "2019-10-22 09:16:12.249107"], ["updated_at", "2019-10-22 09:16:12.249107"], ["jti", "9e099858-2906-4619-bdf2-912ddb12bad6"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test81@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test81@sys_expert.com"], ["encrypted_password", "$2a$04$6Wks8skuJQ2DZmw1LDt7HeM/Ghh/i3RFtMX3kaROhPXiPJYFVLcJO"], ["created_at", "2019-10-22 09:16:12.254828"], ["updated_at", "2019-10-22 09:16:12.254828"], ["jti", "88faee5f-6bad-45bd-bcff-c744ba95c100"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName27"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 374], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName27"], ["address", "CoffeeShopAddress29"], ["owner_id", 374], ["creator_id", 375], ["created_at", "2019-10-22 09:16:12.262392"], ["updated_at", "2019-10-22 09:16:12.262392"], ["maintainer_id", 376]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName27"], ["id", 28], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 374], ["id", 28], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 28], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 374], ["id", 28], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 28], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 374], ["id", 28], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test80@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test80@coffee_owner.com"], ["encrypted_password", "$2a$04$3EUeCcl9MBiU4oWNSD07qORo1NUZy3muSfuI.ID/cwzEehi3AYkdC"], ["created_at", "2019-10-22 09:16:12.284820"], ["updated_at", "2019-10-22 09:16:12.284820"], ["jti", "69e2dcc4-2084-43c4-af84-7c1ef5c85506"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test82@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test82@sys_expert.com"], ["encrypted_password", "$2a$04$i9AxOgjm.KYc0Nzzih1fqOUHFIz6pYWdheZVNCCjTN6bwz5rgEnja"], ["created_at", "2019-10-22 09:16:12.291583"], ["updated_at", "2019-10-22 09:16:12.291583"], ["jti", "499feb89-b929-404d-87a0-c7334290dd96"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test77@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test77@sys_admin.com"], ["encrypted_password", "$2a$04$B3OG.pQXV.jJQhuchXT0iuYl8lCUEXIove78xz220lMESc5wMotu."], ["created_at", "2019-10-22 09:16:12.297016"], ["updated_at", "2019-10-22 09:16:12.297016"], ["jti", "101b7d7c-1d63-4ff4-8dc5-ef94a49907c5"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName28"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 377], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName28"], ["address", "CoffeeShopAddress30"], ["owner_id", 377], ["creator_id", 379], ["created_at", "2019-10-22 09:16:12.302504"], ["updated_at", "2019-10-22 09:16:12.302504"], ["maintainer_id", 378]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test81@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test81@coffee_owner.com"], ["encrypted_password", "$2a$04$JmEB2Sc0HvPlj.kKsgKGq.IX8Cn2Izxsc3k5pPQqYp/48MGrGzlcW"], ["created_at", "2019-10-22 09:16:12.331462"], ["updated_at", "2019-10-22 09:16:12.331462"], ["jti", "7b4bc6ea-3479-48bb-bb14-17b940ebe8c6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test83@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test83@sys_expert.com"], ["encrypted_password", "$2a$04$31tMjMLfffKU6mAkX3BWnOVocHlovGd8VpYXjtSFPUlZbfH17NP3i"], ["created_at", "2019-10-22 09:16:12.337311"], ["updated_at", "2019-10-22 09:16:12.337311"], ["jti", "c94baab1-8989-4ef8-808c-3f83d70e507e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test78@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test78@sys_admin.com"], ["encrypted_password", "$2a$04$Vq3CsNNBHBTCBpDJnLuV2.xvyKI40p3ZDBiXltl79saDtued3EO2u"], ["created_at", "2019-10-22 09:16:12.343527"], ["updated_at", "2019-10-22 09:16:12.343527"], ["jti", "686d0372-a397-4d87-9aae-1f194466499d"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName29"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 380], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName29"], ["address", "CoffeeShopAddress31"], ["owner_id", 380], ["creator_id", 382], ["created_at", "2019-10-22 09:16:12.348897"], ["updated_at", "2019-10-22 09:16:12.348897"], ["maintainer_id", 381]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName29"], ["id", 30], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 380], ["id", 30], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test82@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test82@coffee_owner.com"], ["encrypted_password", "$2a$04$Dn9P7UcXgFiFBvAjMHRq0ubEVNM2OGcV1JDS67bTihmfGWZo5iRnW"], ["created_at", "2019-10-22 09:16:12.368710"], ["updated_at", "2019-10-22 09:16:12.368710"], ["jti", "629ee02a-6720-49e1-a324-3731abd5342f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test85@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test85@sys_expert.com"], ["encrypted_password", "$2a$04$3i7MR.odPoXfXa1ckQNkj.19K8juE2J3/kfbcAmoBFZsl.vME4aNW"], ["created_at", "2019-10-22 09:16:12.375812"], ["updated_at", "2019-10-22 09:16:12.375812"], ["jti", "62664df0-904f-48cb-9203-fc311d330fca"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test79@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test79@sys_admin.com"], ["encrypted_password", "$2a$04$qpDNIb5EwUs.rP3Jy9age.tv79XpFxzXAP8EXBYyAg.j9eRaLPMHq"], ["created_at", "2019-10-22 09:16:12.383441"], ["updated_at", "2019-10-22 09:16:12.383441"], ["jti", "2d36bb8c-572a-4335-bace-113fa8e324b9"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 383], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name"], ["address", "CoffeeShopAddress32"], ["owner_id", 383], ["creator_id", 385], ["created_at", "2019-10-22 09:16:12.390313"], ["updated_at", "2019-10-22 09:16:12.390313"], ["maintainer_id", 384]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test84@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test84@coffee_owner.com"], ["encrypted_password", "$2a$04$EX9N9WUwmJsbFPJymz512.pTX8qq8M2K0WRlDSpFex.iu2UqGl1OC"], ["created_at", "2019-10-22 09:16:12.413644"], ["updated_at", "2019-10-22 09:16:12.413644"], ["jti", "18940983-ffc6-456c-bb4f-b2f21d7fb2cd"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test87@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test87@sys_expert.com"], ["encrypted_password", "$2a$04$fVJJhZaJYp3/SqUS3mrH4urdjlsQkPshyeMVdmHsqCa1T01v5MUye"], ["created_at", "2019-10-22 09:16:12.421516"], ["updated_at", "2019-10-22 09:16:12.421516"], ["jti", "bf86917d-7212-40aa-b4ca-d3e9bc848e8d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test81@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test81@sys_admin.com"], ["encrypted_password", "$2a$04$UdaqpMOVMclM8CGCfNCW3OpIZkkDBO8Q3brCqbOrlkb.l.x9RD5UO"], ["created_at", "2019-10-22 09:16:12.427208"], ["updated_at", "2019-10-22 09:16:12.427208"], ["jti", "a1cd9687-f5d1-4803-9687-2596b0ad7b31"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName30"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 386], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName30"], ["address", "CoffeeShopAddress34"], ["owner_id", 386], ["creator_id", 388], ["created_at", "2019-10-22 09:16:12.435245"], ["updated_at", "2019-10-22 09:16:12.435245"], ["maintainer_id", 387]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName31"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 386], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test85@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test85@coffee_owner.com"], ["encrypted_password", "$2a$04$qlwAPBs2V63D2DwnrLfkt.5dDgxZX6oluUMR/m4FpQjLuFQ3jW0JG"], ["created_at", "2019-10-22 09:16:12.453263"], ["updated_at", "2019-10-22 09:16:12.453263"], ["jti", "bdf4a077-efa0-45a3-b900-e72d94977276"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test89@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test89@sys_expert.com"], ["encrypted_password", "$2a$04$ZkazDaP.PGviZwE8jelHr.rOh.gMFsTL/CG2h4FveNw0T7ZbLEh3q"], ["created_at", "2019-10-22 09:16:12.458837"], ["updated_at", "2019-10-22 09:16:12.458837"], ["jti", "544403eb-606f-4de2-91c3-9921a8c68f2a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test83@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test83@sys_admin.com"], ["encrypted_password", "$2a$04$5LOM8IYThClWQ9Xjgl1Xa.AC.poZbwNJulogAckd.6fecXKmoWriu"], ["created_at", "2019-10-22 09:16:12.466241"], ["updated_at", "2019-10-22 09:16:12.466241"], ["jti", "1639695c-a184-4499-b163-60a0f347d930"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName32"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 389], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test86@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test86@coffee_owner.com"], ["encrypted_password", "$2a$04$6AzlLOF0Vl3MRHc/p9Yd.eG5Xtir87SuMN.qBd2y2nbNU.jCsbWae"], ["created_at", "2019-10-22 09:16:12.477754"], ["updated_at", "2019-10-22 09:16:12.477754"], ["jti", "3026a807-5ef2-4719-9c14-415b8cd7fc98"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test84@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test84@sys_admin.com"], ["encrypted_password", "$2a$04$K7QbyNxTbiCGMM4ap7ouquZ486iRFVPWfcC9xPEilqCKs.ldgD.P6"], ["created_at", "2019-10-22 09:16:12.482735"], ["updated_at", "2019-10-22 09:16:12.482735"], ["jti", "9f2a3992-9481-4a63-81f2-b6369b61256f"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test90@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test90@sys_expert.com"], ["encrypted_password", "$2a$04$HTHwVkSmNTu5wlnqnNFq5.ovmsMabmAQm8gGgKunCNhbbRAaO6tF6"], ["created_at", "2019-10-22 09:16:12.488111"], ["updated_at", "2019-10-22 09:16:12.488111"], ["jti", "87ccdb7c-4721-45de-8e89-50f78fc2fd9c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName33"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 392], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName33"], ["address", "CoffeeShopAddress37"], ["owner_id", 392], ["creator_id", 393], ["created_at", "2019-10-22 09:16:12.493698"], ["updated_at", "2019-10-22 09:16:12.493698"], ["maintainer_id", 394]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName33"], ["id", 33], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 392], ["id", 33], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 33], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 392], ["id", 33], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 33], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 392], ["id", 33], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test87@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test87@coffee_owner.com"], ["encrypted_password", "$2a$04$VwhDm5zSiKlPSMSb9QiomOE2iHR5jg/81Ms9U07o5gYgl3tT59M.K"], ["created_at", "2019-10-22 09:16:12.516090"], ["updated_at", "2019-10-22 09:16:12.516090"], ["jti", "c49450ea-65f3-4aaf-a536-7d6bc11079a5"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test91@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test91@sys_expert.com"], ["encrypted_password", "$2a$04$nm3dxwLSkBjSfdUeueFswehInU9qEW74u39qxHiong8HWEZLETi6q"], ["created_at", "2019-10-22 09:16:12.521640"], ["updated_at", "2019-10-22 09:16:12.521640"], ["jti", "e5b04d00-779f-446a-b7f2-bb3bb8b4def5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test85@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test85@sys_admin.com"], ["encrypted_password", "$2a$04$BZuXdSwKl7CiiDW9I9qTbuSLNMnGSJblFAURoOCDSpu10bPzyhV9W"], ["created_at", "2019-10-22 09:16:12.527379"], ["updated_at", "2019-10-22 09:16:12.527379"], ["jti", "c94cfb68-d088-4a31-a516-ad320768ffaf"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName34"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 395], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName34"], ["address", "CoffeeShopAddress38"], ["owner_id", 395], ["creator_id", 397], ["created_at", "2019-10-22 09:16:12.534270"], ["updated_at", "2019-10-22 09:16:12.534270"], ["maintainer_id", 396]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test69@player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$nLeuO0VmHEl3OCv8cknfE.K5iR6tVMaoWf11LbaqD2vCpM.vqpaDS"], ["created_at", "2019-10-22 09:16:12.564946"], ["updated_at", "2019-10-22 09:16:12.564946"], ["jti", "15b25e55-ab07-4707-8b8e-39338fd6fcc3"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test70@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test70@player.com"], ["encrypted_password", "$2a$04$k0vceYnNkIA6Ri8ueq1Uo.IOaVBD0OZT9uOYEpfLBo2XFWS.EdwmO"], ["created_at", "2019-10-22 09:16:12.577739"], ["updated_at", "2019-10-22 09:16:12.577739"], ["jti", "61601170-9bee-435f-9d61-258a6defcc12"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$byIubvPKDoSytTIrCoax6eHSX2RjK0P2z1SX9lDt7jzYZR20UmRz6"], ["created_at", "2019-10-22 09:16:38.581588"], ["updated_at", "2019-10-22 09:16:38.581588"], ["jti", "f3fac121-8e64-4890-a3a3-8b9d388d6509"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$oJR/mSi2YLG6T7uefkvlpeILRHjvFjQpoaBJZVlHkgUY/7Z89FmxO"], ["created_at", "2019-10-22 09:17:23.362941"], ["updated_at", "2019-10-22 09:17:23.362941"], ["jti", "986fc787-4db7-43c8-9987-9403c182fd0e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$0/i0PcQTAFOp9ARek6A/TeO45yeZPLiVparpqs7G96rknaFFt8dHy"], ["created_at", "2019-10-22 09:17:23.371061"], ["updated_at", "2019-10-22 09:17:23.371061"], ["jti", "b4d7d939-aaaf-4f8a-9a9f-a2c88c01e06b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$T8jJTo3Hi05CGNy2KyBuwOqJ1YBxDDODs8.HnSzTVHg2DTisGKZNm"], ["created_at", "2019-10-22 09:17:23.376897"], ["updated_at", "2019-10-22 09:17:23.376897"], ["jti", "922426c8-c19e-4c95-a73a-92578d11e601"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 401], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.1ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 401], ["creator_id", 403], ["created_at", "2019-10-22 09:17:23.388402"], ["updated_at", "2019-10-22 09:17:23.388402"], ["maintainer_id", 402]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (1.2ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 35], ["created_at", "2019-10-22 09:17:23.392598"], ["updated_at", "2019-10-22 09:17:23.392598"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$uB/wcMPXaxE9l0FJv.rhDeHGpssCFzARGIGEgmmmFf7g9zXMbK8Dm"], ["created_at", "2019-10-22 09:19:51.540505"], ["updated_at", "2019-10-22 09:19:51.540505"], ["jti", "d322e896-67f1-46bf-baaf-d9eb12298778"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$hvqAEiYm7XXm5ptZFdpSTe8XZqdPLB4BSgfRhcUJhuWSTrUCEGGK."], ["created_at", "2019-10-22 09:19:51.547719"], ["updated_at", "2019-10-22 09:19:51.547719"], ["jti", "50f6f572-5772-4a3c-aeb5-96d673ecbc63"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$OGnfG8Fqk4mmd5S3UavmsuUHK8mbC.kTidLK1G2XWeyfY2.oafAc."], ["created_at", "2019-10-22 09:19:51.552957"], ["updated_at", "2019-10-22 09:19:51.552957"], ["jti", "5bd1f303-4fd7-40ce-8d2e-e58a6d53dead"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 404], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 404], ["creator_id", 406], ["created_at", "2019-10-22 09:19:51.562591"], ["updated_at", "2019-10-22 09:19:51.562591"], ["maintainer_id", 405]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 36], ["created_at", "2019-10-22 09:19:51.566417"], ["updated_at", "2019-10-22 09:19:51.566417"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$NR55QXZVSEB1DJwqGzKY2uPkPf8UtuBtIOCi.wDu7REJgEwGBn/W6"], ["created_at", "2019-10-22 09:20:15.390608"], ["updated_at", "2019-10-22 09:20:15.390608"], ["jti", "0b25f19e-38d6-4132-af05-4240fb923310"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$c3tPRwVPNSSbHAvcc/dYw.RTJXv5BPJjOFQB5e39HsW4s8pB5W7sy"], ["created_at", "2019-10-22 09:20:15.398211"], ["updated_at", "2019-10-22 09:20:15.398211"], ["jti", "217f55c3-bddf-4fdd-80bc-f326868d0c00"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$3oafMZND9b0BxGj0CBJbXOAhJL/M4JgStqBw.LuPipmii5I4WUL/y"], ["created_at", "2019-10-22 09:20:15.403997"], ["updated_at", "2019-10-22 09:20:15.403997"], ["jti", "dc50abc9-5610-4500-b0f2-09b8e790b79a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 407], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.4ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 407], ["creator_id", 409], ["created_at", "2019-10-22 09:20:15.413273"], ["updated_at", "2019-10-22 09:20:15.413273"], ["maintainer_id", 408]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (1.1ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 37], ["created_at", "2019-10-22 09:20:15.417278"], ["updated_at", "2019-10-22 09:20:15.417278"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$V3Ewy3GEmONM48N8KbgXpOYNYQfPwWW2CnrIDA0Wvjl0RjxSy0eJC"], ["created_at", "2019-10-22 09:20:25.338940"], ["updated_at", "2019-10-22 09:20:25.338940"], ["jti", "b371e227-2d21-42f9-b294-07825f5187c7"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$asirPtgwHurXC83sKcKQUuhOYHSAffLfsnWNVf37tcXw9woBMc1bS"], ["created_at", "2019-10-22 09:20:25.348655"], ["updated_at", "2019-10-22 09:20:25.348655"], ["jti", "e0c6c2b0-0a75-40c5-8915-bb3d2fc8817a"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$L3bs67f9AW6mwVcao0Ax2e88yzLuiPYjaz/oPASiGFu6OSc7a4MU."], ["created_at", "2019-10-22 09:20:25.354549"], ["updated_at", "2019-10-22 09:20:25.354549"], ["jti", "147fc81a-5125-4520-ae77-f6512610ca1e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 410], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.2ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 410], ["creator_id", 412], ["created_at", "2019-10-22 09:20:25.364443"], ["updated_at", "2019-10-22 09:20:25.364443"], ["maintainer_id", 411]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (1.0ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 38], ["created_at", "2019-10-22 09:20:25.367977"], ["updated_at", "2019-10-22 09:20:25.367977"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$vod8Czki4EWrdcTP.K4CyedW.kwlfSE2k1Q9ZmOzQl.G9JCpecfxK"], ["created_at", "2019-10-22 10:23:37.793969"], ["updated_at", "2019-10-22 10:23:37.793969"], ["jti", "b6c5b364-b4e4-46b3-af89-b084418cc87d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$ceC5OwJ8.GYZ4Cc8Q9tNI.kbJZ2FOJr0gNwPiZ7zsgW0Kxx0/yn9e"], ["created_at", "2019-10-22 10:23:37.801354"], ["updated_at", "2019-10-22 10:23:37.801354"], ["jti", "1c5789aa-0716-4525-9cc1-e67fe6e56207"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$45I6AZJ.h8yV9z3q/b0njOvXfDVWVY1xJbCS9Q7cPJTR3VUj4Jhre"], ["created_at", "2019-10-22 10:23:37.806844"], ["updated_at", "2019-10-22 10:23:37.806844"], ["jti", "708f4c6f-2879-4058-a429-f741ebd10094"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 413], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 413], ["creator_id", 415], ["created_at", "2019-10-22 10:23:37.815502"], ["updated_at", "2019-10-22 10:23:37.815502"], ["maintainer_id", 414]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Description Text"], ["creator_id", 39], ["created_at", "2019-10-22 10:23:37.818980"], ["updated_at", "2019-10-22 10:23:37.818980"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$iFXAUm6EFVbk0ZpQdgRrZeHzZ5rqHKtRTgYFltAtR9FsnYDY4wtAy"], ["created_at", "2019-10-22 10:24:21.933851"], ["updated_at", "2019-10-22 10:24:21.933851"], ["jti", "b067cb35-3810-4e18-8fc9-7b7af9b8f31b"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$RTyVNabvn1kaAwrEgdG/lO254jz7M5Xp4NYOplFcWU8zRDAPe7EAq"], ["created_at", "2019-10-22 10:24:21.940846"], ["updated_at", "2019-10-22 10:24:21.940846"], ["jti", "1fa04928-7862-4e26-9c54-290dea682057"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$GY4bdloB4AM2g8hmDA7.GuyrCvbA8Jpq0XDGjsZ2YRsoduEiT06YW"], ["created_at", "2019-10-22 10:24:21.945918"], ["updated_at", "2019-10-22 10:24:21.945918"], ["jti", "0435e008-3f66-4eab-837e-1c3a0272ada3"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 416], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 416], ["creator_id", 418], ["created_at", "2019-10-22 10:24:21.954843"], ["updated_at", "2019-10-22 10:24:21.954843"], ["maintainer_id", 417]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (0.7ms)[0m  [1m[32mINSERT INTO "board_games" ("description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Description Text"], ["creator_id", 40], ["created_at", "2019-10-22 10:24:21.958550"], ["updated_at", "2019-10-22 10:24:21.958550"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mBoardGame Create (0.9ms)[0m  [1m[32mINSERT INTO "board_games" ("description", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["description", "Description Text"], ["created_at", "2019-10-22 10:26:14.035918"], ["updated_at", "2019-10-22 10:26:14.035918"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$n0NYptsPqFDVLyOV4wEKqOteyNM15chBQB6cIUzibKEkjTI8BzX9e"], ["created_at", "2019-10-22 10:30:11.955593"], ["updated_at", "2019-10-22 10:30:11.955593"], ["jti", "355a359b-73e1-4feb-ad18-021943cf4004"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$9W4/AmVpCOWdzOLkOxNEVuRxlHLxlSsEiXGT9P3JhNkAyOQsC28/W"], ["created_at", "2019-10-22 10:30:11.962798"], ["updated_at", "2019-10-22 10:30:11.962798"], ["jti", "f98cd821-a563-49ff-9c37-82bf3d2b02ee"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ULqsCqiYIw1R3RJrzksma.lcyEo7zex3pBe6OGdx9p3WudEWJURKm"], ["created_at", "2019-10-22 10:30:11.969294"], ["updated_at", "2019-10-22 10:30:11.969294"], ["jti", "d8d9bfef-e569-43c8-9b20-72f49868b7c3"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 419], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.4ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 419], ["creator_id", 421], ["created_at", "2019-10-22 10:30:11.978242"], ["updated_at", "2019-10-22 10:30:11.978242"], ["maintainer_id", 420]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (0.9ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 41], ["created_at", "2019-10-22 10:30:11.998360"], ["updated_at", "2019-10-22 10:30:11.998360"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (0.9ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 41], ["created_at", "2019-10-22 10:30:12.001436"], ["updated_at", "2019-10-22 10:30:12.001436"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$74VnbuiTiRxAwDzkoiX2KOWar/4ZChy.vEnjCjgoVcbOvHX.so7D."], ["created_at", "2019-10-22 10:30:32.025483"], ["updated_at", "2019-10-22 10:30:32.025483"], ["jti", "7efa1014-96c2-40c0-88c3-2695bf71d563"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$KHiiZ2DczM6LGgM1s8PsVuYz7dHfOJAQwTS3fzvhF6t3TaVXDZDlW"], ["created_at", "2019-10-22 10:30:32.033135"], ["updated_at", "2019-10-22 10:30:32.033135"], ["jti", "a1606e21-0772-407d-bc8c-f85dd4eb0293"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ZmMj4O4w9gFY9JwY7pYbDeg7YYByg8x1C1UywsyNkWdqy3AFJfpSa"], ["created_at", "2019-10-22 10:30:32.038236"], ["updated_at", "2019-10-22 10:30:32.038236"], ["jti", "2c0e4d32-4f14-4498-a024-293e4aa55100"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 422], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 422], ["creator_id", 424], ["created_at", "2019-10-22 10:30:32.046638"], ["updated_at", "2019-10-22 10:30:32.046638"], ["maintainer_id", 423]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Create (1.1ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 42], ["created_at", "2019-10-22 10:30:32.068489"], ["updated_at", "2019-10-22 10:30:32.068489"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$YoSDL4RfNvJ984Uy5FQLFebeoeGhZ5K3TIZh28e3oZ1trKC/MA3dK"], ["created_at", "2019-10-22 10:33:37.696996"], ["updated_at", "2019-10-22 10:33:37.696996"], ["jti", "c5995c39-867f-40fb-917f-39f4a66a6071"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$HW/NwVpXS7QaBdI9lVw4uuE/Ld6oBlWzSKoeyvWtWVXV5atswCSHq"], ["created_at", "2019-10-22 10:33:37.704224"], ["updated_at", "2019-10-22 10:33:37.704224"], ["jti", "b48965d5-cc2c-4b89-88fc-793b484951a9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$YptiyyNbZ9CCMLvPpMjnOOBNua56yJFMeZbOgU2Mxe4O9YpDlgwbS"], ["created_at", "2019-10-22 10:33:37.709274"], ["updated_at", "2019-10-22 10:33:37.709274"], ["jti", "a5ae51fd-d200-4ea0-b5c2-4447fcb30e99"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 425], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 425], ["creator_id", 427], ["created_at", "2019-10-22 10:33:37.718094"], ["updated_at", "2019-10-22 10:33:37.718094"], ["maintainer_id", 426]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 43], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 43], ["created_at", "2019-10-22 10:33:37.740104"], ["updated_at", "2019-10-22 10:33:37.740104"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$v2P31wH/lHa7d1zz6zkNUO5bqYmzW3hzjG6hAIjbVkYvtUydtwkpO"], ["created_at", "2019-10-22 10:34:12.947481"], ["updated_at", "2019-10-22 10:34:12.947481"], ["jti", "9efaeec2-5b4d-425f-ac35-acd4280e5e8b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$03Wj9RMryWxfJ6p38rSHNO52pNvtihcqjYbgIU2FMH6XsGZkkNVBm"], ["created_at", "2019-10-22 10:34:12.954429"], ["updated_at", "2019-10-22 10:34:12.954429"], ["jti", "c974a641-070e-4cca-b374-ecdb34a7232b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$UOnWd6CCpmaeAHZMY1DFguPkoJEGxiE.GSYx8FubPvll/NYSZnB5y"], ["created_at", "2019-10-22 10:34:12.959951"], ["updated_at", "2019-10-22 10:34:12.959951"], ["jti", "0ae71a03-eadf-49ac-876d-f6a951472bff"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 428], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.4ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 428], ["creator_id", 430], ["created_at", "2019-10-22 10:34:12.968555"], ["updated_at", "2019-10-22 10:34:12.968555"], ["maintainer_id", 429]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 44], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 44], ["created_at", "2019-10-22 10:34:12.992074"], ["updated_at", "2019-10-22 10:34:12.992074"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 44], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$vutoa5cZ/P1nBkcSmh2Cbuc7GzyzZMvargzQ4lSFSDyOYyWu62ms6"], ["created_at", "2019-10-22 10:34:23.188762"], ["updated_at", "2019-10-22 10:34:23.188762"], ["jti", "cd876c08-c3a1-4cd8-ab2b-9713250adfa6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$88MbEiR4iuRoYMDgUGlnhuN/De3XVsfyo6Ksm2h6GTeqw4YdSABHe"], ["created_at", "2019-10-22 10:34:23.195668"], ["updated_at", "2019-10-22 10:34:23.195668"], ["jti", "87b90bf7-1ace-432e-ad23-e955d31bdfac"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$p2aZ7kuuBiYO/Cx9lX/buu.I9fgq5PNRMnchbbhEpvPuJOVy0tou6"], ["created_at", "2019-10-22 10:34:23.200929"], ["updated_at", "2019-10-22 10:34:23.200929"], ["jti", "e2430c38-ef70-4d25-94d6-22a7bbb04d49"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 431], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.9ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 431], ["creator_id", 433], ["created_at", "2019-10-22 10:34:23.210125"], ["updated_at", "2019-10-22 10:34:23.210125"], ["maintainer_id", 432]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 45], ["LIMIT", 1]]
  [1m[36mBoardGame Create (1.0ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 45], ["created_at", "2019-10-22 10:34:23.232636"], ["updated_at", "2019-10-22 10:34:23.232636"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name2"], ["creator_id", 45], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$Zj14ygECNnZ22Btv8rEI7e9fxytJoyiO6quyxwGGiVjSiSyRcQX4W"], ["created_at", "2019-10-22 10:34:51.475119"], ["updated_at", "2019-10-22 10:34:51.475119"], ["jti", "dc343081-cbf2-4fd0-a242-816306dc5988"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$raGp2fAfgk4MwvgZIIUuvOmaKfKsRgfwqvfuzUoz8iX2uSP/MbaTC"], ["created_at", "2019-10-22 10:34:51.482172"], ["updated_at", "2019-10-22 10:34:51.482172"], ["jti", "54deb093-c48a-4685-844c-130dfa0efac6"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$GDyKQklGqSz3dpqkYMJRuesJofooX/nnIocqmhHlMyjf49w1NZAXq"], ["created_at", "2019-10-22 10:34:51.487428"], ["updated_at", "2019-10-22 10:34:51.487428"], ["jti", "79b2ee67-8175-42f8-9767-2c1253a5f9f8"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 434], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 434], ["creator_id", 436], ["created_at", "2019-10-22 10:34:51.495977"], ["updated_at", "2019-10-22 10:34:51.495977"], ["maintainer_id", 435]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 46], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.9ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 46], ["created_at", "2019-10-22 10:34:51.520484"], ["updated_at", "2019-10-22 10:34:51.520484"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 46], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$Ur39Wr2mM5J.zN4ETEG5OOJRPcC/RHtHVlc1jmSKXWYxpyuCp3WMu"], ["created_at", "2019-10-22 10:37:23.941417"], ["updated_at", "2019-10-22 10:37:23.941417"], ["jti", "cea1bb9f-5d3b-4a2c-b477-bed9800d9488"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Oh/TeAJv150JLwHWKVn.O.3414mnR/xU73iEf66di8KUPi9pR/i7."], ["created_at", "2019-10-22 10:37:23.948954"], ["updated_at", "2019-10-22 10:37:23.948954"], ["jti", "efa5aa01-f9c2-4902-a780-e89da3060808"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$qDq259Od79l5xrvN7nehW.ttRcDUvuMTA/Mn5tyi7Ehcpma4aBltO"], ["created_at", "2019-10-22 10:37:23.954208"], ["updated_at", "2019-10-22 10:37:23.954208"], ["jti", "64ef9461-5bf2-4a7c-9927-d234a6d794c4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 437], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.1ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 437], ["creator_id", 439], ["created_at", "2019-10-22 10:37:23.962099"], ["updated_at", "2019-10-22 10:37:23.962099"], ["maintainer_id", 438]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 47], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.9ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 47], ["created_at", "2019-10-22 10:37:23.983871"], ["updated_at", "2019-10-22 10:37:23.983871"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 47], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$YbSEDjL4Ksxoxipj6z2JW.wVS5jK79I6MqpeUOoG9Pq1mcRt.beHe"], ["created_at", "2019-10-22 10:42:32.977554"], ["updated_at", "2019-10-22 10:42:32.977554"], ["jti", "096c5aca-6439-4f23-ab9b-a43ec7f982d7"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$WZmOj8zBloMtovFJ97lJk.Sb87hFCoLPQN0TTCbKGh2tyYasZ1xFK"], ["created_at", "2019-10-22 10:42:32.985630"], ["updated_at", "2019-10-22 10:42:32.985630"], ["jti", "6ccc8525-f748-475b-b3c0-d48a7edf2f2c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$.hw43L9dwkhFrlrha4dnzesvF8PX9ur4oXTuqknDh/PMjmEXm8a42"], ["created_at", "2019-10-22 10:42:32.992083"], ["updated_at", "2019-10-22 10:42:32.992083"], ["jti", "f6b1138c-1eb7-45ba-b420-33ef5edc38e4"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 440], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 440], ["creator_id", 442], ["created_at", "2019-10-22 10:42:33.002613"], ["updated_at", "2019-10-22 10:42:33.002613"], ["maintainer_id", 441]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 48], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.7ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 48], ["created_at", "2019-10-22 10:42:33.029590"], ["updated_at", "2019-10-22 10:42:33.029590"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 48], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$CNiOkwQoLr/6tzQSEyHtv.31Uy6uO7jHlbSkY5LsepaQzO3UK60Vm"], ["created_at", "2019-10-22 10:43:45.740371"], ["updated_at", "2019-10-22 10:43:45.740371"], ["jti", "01e24d2d-e1bb-4ceb-ab74-1368c3375a06"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$2lcBH8vgtDNWQ18nAsPcquzCye36TbKPFQICF5PwyTcSb4.4p1bCa"], ["created_at", "2019-10-22 10:43:45.747337"], ["updated_at", "2019-10-22 10:43:45.747337"], ["jti", "4d896fe3-ac7d-4d30-9e06-04c44dd98948"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$0Ni7xJK45xArGZp1XaHheOrJ/k4Xtl03FZtZ5N55vbSaZ.W0ADRo."], ["created_at", "2019-10-22 10:43:45.752367"], ["updated_at", "2019-10-22 10:43:45.752367"], ["jti", "5954669f-a99e-4fc8-a1fc-6d7160565555"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 443], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 443], ["creator_id", 445], ["created_at", "2019-10-22 10:43:45.760647"], ["updated_at", "2019-10-22 10:43:45.760647"], ["maintainer_id", 444]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 49], ["LIMIT", 1]]
  [1m[36mBoardGame Create (1.0ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 49], ["created_at", "2019-10-22 10:43:45.783627"], ["updated_at", "2019-10-22 10:43:45.783627"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 49], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$tiMokidGHna.9BC7DKdAL.GKNCKFN4gIF8I9kw9hPQA9tXeXYryue"], ["created_at", "2019-10-22 10:45:06.011348"], ["updated_at", "2019-10-22 10:45:06.011348"], ["jti", "62aa5a76-6b75-4435-acd1-5f29973ef506"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$fJ4rsISHuGEzcT2lP1.fOOqQ5opvzKvi79trDgg32ay5WlA6/nzTa"], ["created_at", "2019-10-22 10:45:06.019757"], ["updated_at", "2019-10-22 10:45:06.019757"], ["jti", "525393df-d49f-4e90-a2a0-39f1cb3dff5a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$v/bBq.zpba4IWENK33/nkuygUq1/AJgAtsucG5TLAawsSsj11Y.Qq"], ["created_at", "2019-10-22 10:45:06.025947"], ["updated_at", "2019-10-22 10:45:06.025947"], ["jti", "67b77b3f-36a1-49bd-aa70-8795c700d0b7"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 446], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.2ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 446], ["creator_id", 448], ["created_at", "2019-10-22 10:45:06.035799"], ["updated_at", "2019-10-22 10:45:06.035799"], ["maintainer_id", 447]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 50], ["LIMIT", 1]]
  [1m[36mBoardGame Create (1.0ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 50], ["created_at", "2019-10-22 10:45:06.059146"], ["updated_at", "2019-10-22 10:45:06.059146"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 50], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$aKqnEvGnmm.2CFeKtzTkc.JiztZ0HmrGNGPfoQbSLzevDp6YCNPiC"], ["created_at", "2019-10-22 10:47:42.577955"], ["updated_at", "2019-10-22 10:47:42.577955"], ["jti", "b7d697bf-f285-470a-9c48-86460a90f41f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$m0EWhPRW9itsHydwCveovOfUHVwm2eZbbP2zb.qaNnpUwTc6jdyx2"], ["created_at", "2019-10-22 10:47:42.584595"], ["updated_at", "2019-10-22 10:47:42.584595"], ["jti", "ea4b4cbb-28ef-47bc-a455-58e4bd8bfb00"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$yF5uZwPCdRgb5LvTxWMg7uHXerfHUIr9hF4VECVRWAfIzgGnBmSZi"], ["created_at", "2019-10-22 10:47:42.589936"], ["updated_at", "2019-10-22 10:47:42.589936"], ["jti", "1b0686eb-5461-4c65-bd41-78fbcce60f6f"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 449], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 449], ["creator_id", 451], ["created_at", "2019-10-22 10:47:42.599536"], ["updated_at", "2019-10-22 10:47:42.599536"], ["maintainer_id", 450]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 51], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$cKEnD.J/3/opxlz/4OzRm.PfHcTHXB874rQtVyOwbUE2v40DFO9g2"], ["created_at", "2019-10-22 10:51:21.864523"], ["updated_at", "2019-10-22 10:51:21.864523"], ["jti", "38da8ab1-0657-49a3-9441-d82c8fa5084b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$zbblJdEH831AwlJUh8UjOuxTlaCnoRQMkjv2r3/X3n3f6bp1yoIVC"], ["created_at", "2019-10-22 10:51:21.874232"], ["updated_at", "2019-10-22 10:51:21.874232"], ["jti", "11bf0312-0945-480f-a1fb-7797780f17f3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$bF3dsXKaLl1.CbBiBQBVzezTUGVJZM0cOy/yHWIq84skUPctLPapC"], ["created_at", "2019-10-22 10:51:21.880249"], ["updated_at", "2019-10-22 10:51:21.880249"], ["jti", "479f09d6-b066-40b3-8da7-d0f6be3093ec"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 452], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.9ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 452], ["creator_id", 454], ["created_at", "2019-10-22 10:51:21.891758"], ["updated_at", "2019-10-22 10:51:21.891758"], ["maintainer_id", 453]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 52], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$JlpxDpsbJTUdWrlGJfan1e0SiTPVrJhwtMxobjZo5unYSxDXnJlW2"], ["created_at", "2019-10-22 10:55:36.469475"], ["updated_at", "2019-10-22 10:55:36.469475"], ["jti", "eafb74cf-7549-4132-8989-cbae7ff7b37e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$R3JcMWwj.2exQkvoAHaKXuMcoT.Vvn8RtbxYnJYCko88xYx21f/ce"], ["created_at", "2019-10-22 10:55:36.480523"], ["updated_at", "2019-10-22 10:55:36.480523"], ["jti", "c3e1f6a4-ee51-49df-b7f3-b82ec2ac5586"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$q2UB0SQCVer.a7xbKoC/7OmSi/vc/SlW4pU6y.KOUWtDyeCOce6zq"], ["created_at", "2019-10-22 10:55:36.487098"], ["updated_at", "2019-10-22 10:55:36.487098"], ["jti", "26c31b37-d8c0-44a6-aaa1-0841f5d4b7b2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 455], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.2ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 455], ["creator_id", 457], ["created_at", "2019-10-22 10:55:36.496959"], ["updated_at", "2019-10-22 10:55:36.496959"], ["maintainer_id", 456]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName1"], ["id", 53], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 455], ["id", 53], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@coffee_owner.com"], ["encrypted_password", "$2a$04$tQHdLNTSn.//2XGMAWRu4ulBXMuCoaZrUBU0Y8aYLseHiraULL6Dy"], ["created_at", "2019-10-22 10:55:36.612781"], ["updated_at", "2019-10-22 10:55:36.612781"], ["jti", "5b4d1d09-8a96-465b-9a7c-bbfc37ac7680"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$qGRS5rLyCqK891uZH9SqmOD2PW6WGebHXxNw2dYW3.0gnUGaZ7HlS"], ["created_at", "2019-10-22 10:55:36.617960"], ["updated_at", "2019-10-22 10:55:36.617960"], ["jti", "a0d5cfa4-8613-4c09-a5b8-b4255fc91faf"], ["role", 2]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_admin.com"], ["encrypted_password", "$2a$04$lUcJw8fdeRgWKAWhygp21.4gMIih9ZAaHQZNsXPIAIe79QPP6xuja"], ["created_at", "2019-10-22 10:55:36.624062"], ["updated_at", "2019-10-22 10:55:36.624062"], ["jti", "1ff5d143-7250-40f5-9195-2a70c993ce0c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 458], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name"], ["address", "CoffeeShopAddress2"], ["owner_id", 458], ["creator_id", 460], ["created_at", "2019-10-22 10:55:36.630869"], ["updated_at", "2019-10-22 10:55:36.630869"], ["maintainer_id", 459]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@coffee_owner.com"], ["encrypted_password", "$2a$04$FIRXoOwBb3uJkpTG5VM7Xu2JZ5V4rBq7br.gKBZV/jUCOyeQJUojK"], ["created_at", "2019-10-22 10:55:36.648124"], ["updated_at", "2019-10-22 10:55:36.648124"], ["jti", "f6002654-a661-42c6-b6de-53476bcdf634"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$McYwqoejxwcoOH3mB.t0v.r2uGIjHvxt.GUXbbGKPWLpXyM1cGclO"], ["created_at", "2019-10-22 10:55:36.653828"], ["updated_at", "2019-10-22 10:55:36.653828"], ["jti", "a3f1eea0-4431-411c-a6d3-c121127e2807"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$umqKIvVCUgbllI9lRFSTa.xTB/2poPPZ5yCheGTuGRWLLxsadaADe"], ["created_at", "2019-10-22 10:55:36.659194"], ["updated_at", "2019-10-22 10:55:36.659194"], ["jti", "f1417fb0-d6e3-4413-b1ff-54f96afb457b"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName2"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 461], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName2"], ["address", "CoffeeShopAddress4"], ["owner_id", 461], ["creator_id", 463], ["created_at", "2019-10-22 10:55:36.666595"], ["updated_at", "2019-10-22 10:55:36.666595"], ["maintainer_id", 462]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName3"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 461], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@coffee_owner.com"], ["encrypted_password", "$2a$04$yIkUHXsvdBn0JiLp0uuLzOW1SZuGm463E/NCqAbeEHx43zDN2mcG6"], ["created_at", "2019-10-22 10:55:36.682877"], ["updated_at", "2019-10-22 10:55:36.682877"], ["jti", "bb31218b-7eab-483b-a75d-04625cb880f5"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$y7PzH0rdj8DLC1.VyW04AuQ2rIGiEJ2jN7vUjT3.NMHtuC.tVawXi"], ["created_at", "2019-10-22 10:55:36.688524"], ["updated_at", "2019-10-22 10:55:36.688524"], ["jti", "f74e0e05-e3c9-402a-af93-95ed17c766e9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$YxXimtlgvHd4Zyew6xK9feJm3wxH4GawPIZ6h/R51j2.odp6w6Nf6"], ["created_at", "2019-10-22 10:55:36.693864"], ["updated_at", "2019-10-22 10:55:36.693864"], ["jti", "c1c243e2-e1ea-4823-9484-9285e3add18c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 464], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@coffee_owner.com"], ["encrypted_password", "$2a$04$ny7p/FZ/wLxsMa9UeYYqx.GycKyK6BXEY957T36gOd0.02lFuDWzu"], ["created_at", "2019-10-22 10:55:36.705411"], ["updated_at", "2019-10-22 10:55:36.705411"], ["jti", "01e30807-075c-4b30-8644-70b2aef26244"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@coffee_owner.com"], ["encrypted_password", "$2a$04$BLnmf8MCav37tUkpMPdc4.mf/jF3jFKusrLAhTY6bdCUpny/wqtdK"], ["created_at", "2019-10-22 10:55:36.712555"], ["updated_at", "2019-10-22 10:55:36.712555"], ["jti", "323f9fba-f508-4ad4-a1b8-e5977b0706c3"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_expert.com"], ["encrypted_password", "$2a$04$ASEwTbFrm.AweZshxja5dea7d0GyH2rZympoBHw2IEOnWEhcZf6ca"], ["created_at", "2019-10-22 10:55:36.719629"], ["updated_at", "2019-10-22 10:55:36.719629"], ["jti", "96c11440-1f41-42ce-a010-1593de42ff88"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$ZmxSKPDAmkJYI0hEGoJp6edCgKoUvs4WQYahkXY7XuRAZe4hA0mca"], ["created_at", "2019-10-22 10:55:36.726020"], ["updated_at", "2019-10-22 10:55:36.726020"], ["jti", "2aacdd5a-9329-4154-9a56-b7786e8a1c37"], ["role", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 468], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.9ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName5"], ["address", "CoffeeShopAddress7"], ["owner_id", 468], ["creator_id", 470], ["created_at", "2019-10-22 10:55:36.734130"], ["updated_at", "2019-10-22 10:55:36.734130"], ["maintainer_id", 469]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$FVXzDztPgaNjaeruZCvfpuRM8M0JGHaRNHrkNXiZW1oW4H/AaVxSO"], ["created_at", "2019-10-22 10:55:58.359208"], ["updated_at", "2019-10-22 10:55:58.359208"], ["jti", "6fb48393-99b0-45ba-b69d-696eda0c9ae8"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$pl3zkErfObU/IEdQESuPmOkJmlGhmRIIsglpXNTtB5MjSV5Kpv0N."], ["created_at", "2019-10-22 10:55:58.367188"], ["updated_at", "2019-10-22 10:55:58.367188"], ["jti", "a5cbb646-f7d3-478c-a707-d75d161602cd"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ySNLD3Ks28NPCGotDB9xqu05MMh9t8daFaPN7ApFdS9Xwbm.I9u/y"], ["created_at", "2019-10-22 10:55:58.373620"], ["updated_at", "2019-10-22 10:55:58.373620"], ["jti", "c00fc9f8-b7bc-4208-9754-d03190c542b8"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 471], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 471], ["creator_id", 473], ["created_at", "2019-10-22 10:55:58.383613"], ["updated_at", "2019-10-22 10:55:58.383613"], ["maintainer_id", 472]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName1"], ["id", 57], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 471], ["id", 57], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@coffee_owner.com"], ["encrypted_password", "$2a$04$xZFwIkUm2WGmYnxL471DduJI2Ezfppk483Bf4QZtkQrr0qdiLioNy"], ["created_at", "2019-10-22 10:55:58.498361"], ["updated_at", "2019-10-22 10:55:58.498361"], ["jti", "0f5d8556-a26b-4f06-8e1a-17cdb88cc090"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$ERWiu4zxkfnvEto2Ejy6YuJt4cSeN8I40a/5HDm9oBbYPbc1in3tq"], ["created_at", "2019-10-22 10:55:58.503384"], ["updated_at", "2019-10-22 10:55:58.503384"], ["jti", "e8215072-8c19-4220-a665-c3772bff4b4f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_admin.com"], ["encrypted_password", "$2a$04$NAOnBkzmzEDOxN9KVOIGoenzqJc2TEmWQzbj.OctNji8.tQCfYXCK"], ["created_at", "2019-10-22 10:55:58.508870"], ["updated_at", "2019-10-22 10:55:58.508870"], ["jti", "77a26f17-7001-4f23-8859-96a1a0b2afe3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 474], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.9ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name"], ["address", "CoffeeShopAddress2"], ["owner_id", 474], ["creator_id", 476], ["created_at", "2019-10-22 10:55:58.514987"], ["updated_at", "2019-10-22 10:55:58.514987"], ["maintainer_id", 475]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "Name"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@coffee_owner.com"], ["encrypted_password", "$2a$04$zL9lKzgRPnM8n23YrXJ31OJ2rqng/3.ORSSwg9UA2fRnZH97iTMQK"], ["created_at", "2019-10-22 10:55:58.536290"], ["updated_at", "2019-10-22 10:55:58.536290"], ["jti", "053ea7a4-3e76-4e96-b62a-a8423be75d8f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$2WtWxL9MM8qNUyRUmTOjk.1sWdsxWc805vRSvaWFOS3pAHDQ0av.."], ["created_at", "2019-10-22 10:55:58.543913"], ["updated_at", "2019-10-22 10:55:58.543913"], ["jti", "7bd16dd6-796f-47ec-a42e-a1b00ef41c76"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$nIIP.Cc8XsqYcRgV3K2.fOBTmp58l9.o7xBcXL.S0PGwjup8xXp06"], ["created_at", "2019-10-22 10:55:58.552134"], ["updated_at", "2019-10-22 10:55:58.552134"], ["jti", "b0ed7f0a-07fb-40fb-b8da-264acb42513d"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName2"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 477], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName2"], ["address", "CoffeeShopAddress4"], ["owner_id", 477], ["creator_id", 479], ["created_at", "2019-10-22 10:55:58.558447"], ["updated_at", "2019-10-22 10:55:58.558447"], ["maintainer_id", 478]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName3"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 477], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@coffee_owner.com"], ["encrypted_password", "$2a$04$FwwHfDvrbymdz.3SI9qRD.cXiTMItpo1MTL6sJ1qdaqkh4yb65bMq"], ["created_at", "2019-10-22 10:55:58.577366"], ["updated_at", "2019-10-22 10:55:58.577366"], ["jti", "15190621-841f-420f-8353-9eae7bbede6b"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$AgyNjIwyY8uk9Tcv5BYcb.5.GAMKPQb66xvkP6UnkQsRqFaP9bba2"], ["created_at", "2019-10-22 10:55:58.585012"], ["updated_at", "2019-10-22 10:55:58.585012"], ["jti", "daa20da5-ba7e-4d50-8b23-5a675e6c03d3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$OHs.P/HJAEqSi1AUGAoqKu.NnVD5gH/8c8sD8LMOPtfJReB8SQLpq"], ["created_at", "2019-10-22 10:55:58.592312"], ["updated_at", "2019-10-22 10:55:58.592312"], ["jti", "ba9ccf64-4daa-467d-bc16-fd65d32cdd99"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 480], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@coffee_owner.com"], ["encrypted_password", "$2a$04$alS9E3MgvTNtMnms740oh.LbOYYvMf8sCR4hW/iH2s1KfotKm1g.m"], ["created_at", "2019-10-22 10:55:58.606908"], ["updated_at", "2019-10-22 10:55:58.606908"], ["jti", "ccf25903-fde3-480f-a3e3-d04b11891fa2"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_expert.com"], ["encrypted_password", "$2a$04$9Ry2d85oKfUp/MPI7U1zh.GYs8SXYo3Ki6FaZbX4zKnnntrCEmBzO"], ["created_at", "2019-10-22 10:55:58.611590"], ["updated_at", "2019-10-22 10:55:58.611590"], ["jti", "f6aa1a6f-69d4-47a2-a968-cc47ad65cf1e"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$hZO7UYJiR6HjGhcAt2JC4.n9O0HiHIzascPTiy5FK56pFIirw33VK"], ["created_at", "2019-10-22 10:55:58.617067"], ["updated_at", "2019-10-22 10:55:58.617067"], ["jti", "7edc4225-d98b-463c-b0bb-e9f66ba4346b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 483], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName5"], ["address", "CoffeeShopAddress7"], ["owner_id", 483], ["creator_id", 485], ["created_at", "2019-10-22 10:55:58.622646"], ["updated_at", "2019-10-22 10:55:58.622646"], ["maintainer_id", 484]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "CoffeeShopName5"], ["id", 60], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 483], ["id", 60], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 60], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 483], ["id", 60], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["name", "newName"], ["id", 60], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 AND "coffee_shops"."id" != $2 LIMIT $3[0m  [["owner_id", 483], ["id", 60], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@coffee_owner.com"], ["encrypted_password", "$2a$04$.0RWPKKWdS7b6P/Zlw8T0O3g9VwPiKNOGk2iq84aJS5mwdQGsTrRG"], ["created_at", "2019-10-22 10:55:58.642212"], ["updated_at", "2019-10-22 10:55:58.642212"], ["jti", "15de6bf5-bed8-44c2-852d-e60a6e06c8d9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_expert.com"], ["encrypted_password", "$2a$04$8V9Jbk8izakaLjKy1CIIVOsR0cwQk6IJ3Elr3l7rluI6VfxAdKy9i"], ["created_at", "2019-10-22 10:55:58.648635"], ["updated_at", "2019-10-22 10:55:58.648635"], ["jti", "6c34ac8a-5f0c-42ac-8e52-01736d73aa16"], ["role", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_admin.com"], ["encrypted_password", "$2a$04$o0nhSyfckcQtDi1tQX9dK.aXCFC8Nl49wOQShPUkRNzVZIMPUhKRa"], ["created_at", "2019-10-22 10:55:58.655527"], ["updated_at", "2019-10-22 10:55:58.655527"], ["jti", "ef26c62e-cd84-46b1-93d0-4f3beb6ba859"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 486], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName6"], ["address", "CoffeeShopAddress8"], ["owner_id", 486], ["creator_id", 488], ["created_at", "2019-10-22 10:55:58.662179"], ["updated_at", "2019-10-22 10:55:58.662179"], ["maintainer_id", 487]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$3kY52jbaZY2y24.XOUBqDe7TZIn.bRcNsR0032AAHTtM989Gib6Xm"], ["created_at", "2019-10-22 10:59:29.320696"], ["updated_at", "2019-10-22 10:59:29.320696"], ["jti", "bb1c8dc6-82be-44ef-a630-22929530c4ca"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$H2CkN49ykd2Xc8DsP5iRc.8JIyslulW2NpYZ0U13QNjVzEmakrbQe"], ["created_at", "2019-10-22 10:59:29.332462"], ["updated_at", "2019-10-22 10:59:29.332462"], ["jti", "df942f05-ec16-4969-bee9-5476306667ae"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ai7nULiZgtzCvLqhT.MEdu55tW4WDCRdcEuMYksiWfcR7nYM.xz3i"], ["created_at", "2019-10-22 10:59:29.338127"], ["updated_at", "2019-10-22 10:59:29.338127"], ["jti", "454ca5fc-0ca5-4983-9018-f7c64f0b101a"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 489], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.5ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 489], ["creator_id", 491], ["created_at", "2019-10-22 10:59:29.347067"], ["updated_at", "2019-10-22 10:59:29.347067"], ["maintainer_id", 490]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 62], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 62], ["created_at", "2019-10-22 10:59:29.371600"], ["updated_at", "2019-10-22 10:59:29.371600"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "BoardGame_Name1"], ["id", 19], ["creator_id", 62], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 19], ["creator_id", 62], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 19], ["creator_id", 62], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$WOQxGCzyNnC8wsp4RzbqduH0cbYI.2vTHSUJHei0ZftR6goT7vmrq"], ["created_at", "2019-10-22 11:00:05.619069"], ["updated_at", "2019-10-22 11:00:05.619069"], ["jti", "381703d2-117d-4337-a82a-4c3f477e084a"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$ATRVQFMBlbc8/i4k7hXhRugHQqKdffahEPpDEOHoDrlBe6hTQkOdS"], ["created_at", "2019-10-22 11:00:05.627191"], ["updated_at", "2019-10-22 11:00:05.627191"], ["jti", "b9e72d73-728f-431c-8c9c-d9592235d84e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$b0BWyHN3uwh/iFLOtfFyDepz/u2QMAkGueIcxEmIK/pa0r1943R7u"], ["created_at", "2019-10-22 11:00:05.634685"], ["updated_at", "2019-10-22 11:00:05.634685"], ["jti", "6a0ad749-1a09-4328-8477-61a9dae07fbc"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 492], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 492], ["creator_id", 494], ["created_at", "2019-10-22 11:00:05.644340"], ["updated_at", "2019-10-22 11:00:05.644340"], ["maintainer_id", 493]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 63], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.9ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 63], ["created_at", "2019-10-22 11:00:05.671999"], ["updated_at", "2019-10-22 11:00:05.671999"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "BoardGame_Name1"], ["id", 20], ["creator_id", 63], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 20], ["creator_id", 63], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 20], ["creator_id", 63], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$SKuUvuFXYn9PelHZnM6tDel7CYtBozY1iWRlLsyhMWeuag7RUHI7K"], ["created_at", "2019-10-22 11:00:31.464605"], ["updated_at", "2019-10-22 11:00:31.464605"], ["jti", "41b1df6c-2c4c-49f8-b5a3-6a2245a13a23"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$GB8Sa4ciY49QAxb4Nh3BoeqrR/o6vphl7VONyotoFPZLu1A/GTOG2"], ["created_at", "2019-10-22 11:00:31.472326"], ["updated_at", "2019-10-22 11:00:31.472326"], ["jti", "326f7795-ddd5-42ff-b3d3-5f3b98bbee70"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$SNdOKyAWENhPDGEeuMjtYuAUWxBkHb/yxI/X3ujFtfZuv/esPetPe"], ["created_at", "2019-10-22 11:00:31.477826"], ["updated_at", "2019-10-22 11:00:31.477826"], ["jti", "ae656c1e-a02e-471f-bb9d-062238324df9"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 495], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.2ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 495], ["creator_id", 497], ["created_at", "2019-10-22 11:00:31.486119"], ["updated_at", "2019-10-22 11:00:31.486119"], ["maintainer_id", 496]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 64], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 64], ["created_at", "2019-10-22 11:00:31.491176"], ["updated_at", "2019-10-22 11:00:31.491176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$u30iWJI70C8CmDRh5gMSn.hKnJOvTA36c918JPsP.YJxWJI.ZgMTG"], ["created_at", "2019-10-22 11:00:35.047997"], ["updated_at", "2019-10-22 11:00:35.047997"], ["jti", "7aee7844-04f3-4b80-933c-2db1b6306d92"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$9GFMLJHzf0McfnvIJOYjReBXU/z1pSwj6VbT8UEd0HrxYsR/HRkyO"], ["created_at", "2019-10-22 11:00:35.056417"], ["updated_at", "2019-10-22 11:00:35.056417"], ["jti", "12e05148-1c5d-4cf7-89a0-84a48fcec526"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$K2gMrk1.rmW9E/EFCTlzKuKOWcqpwGxU10RCLEpKDxTgGWwVQ1ngu"], ["created_at", "2019-10-22 11:00:35.063548"], ["updated_at", "2019-10-22 11:00:35.063548"], ["jti", "7995f5ba-8f80-4f23-8a6f-0431c6169876"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 498], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.9ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 498], ["creator_id", 500], ["created_at", "2019-10-22 11:00:35.070923"], ["updated_at", "2019-10-22 11:00:35.070923"], ["maintainer_id", 499]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 65], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.7ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 65], ["created_at", "2019-10-22 11:00:35.075495"], ["updated_at", "2019-10-22 11:00:35.075495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "BoardGame_Name1"], ["id", 22], ["creator_id", 65], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" IS NULL AND "board_games"."creator_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@coffee_owner.com"], ["encrypted_password", "$2a$04$ezpt5TPBFUpJxv409PIUte7m.CRhJIQ6PSdcNde3bj0ovVECJeVqC"], ["created_at", "2019-10-22 11:00:35.185898"], ["updated_at", "2019-10-22 11:00:35.185898"], ["jti", "45647e08-0257-4654-9604-c0a4e2a69ad9"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$UMZYTl.r5sWelWbTYSMRe.aiXRgcwT6J4vjz.YidC4tFsL9AupTyy"], ["created_at", "2019-10-22 11:00:35.191310"], ["updated_at", "2019-10-22 11:00:35.191310"], ["jti", "e6de61f9-2ae1-4e64-a6d1-73b5608ebd7c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_admin.com"], ["encrypted_password", "$2a$04$qwCH/x0J93ZjZLgnxmVRMe1a9uYNkZ81sVgQbrJhuEcXf4e2jGMo2"], ["created_at", "2019-10-22 11:00:35.198570"], ["updated_at", "2019-10-22 11:00:35.198570"], ["jti", "c99ca3d4-509c-4883-a1c8-3ac76476b0c2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName3"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 501], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName3"], ["address", "CoffeeShopAddress3"], ["owner_id", 501], ["creator_id", 503], ["created_at", "2019-10-22 11:00:35.205512"], ["updated_at", "2019-10-22 11:00:35.205512"], ["maintainer_id", 502]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 66], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.5ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 66], ["created_at", "2019-10-22 11:00:35.211362"], ["updated_at", "2019-10-22 11:00:35.211362"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 66], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@coffee_owner.com"], ["encrypted_password", "$2a$04$0seEsK94tXGeQFMvG5LGqeDXq9RBoJb0AWErxfIKj1FhiUzK98pne"], ["created_at", "2019-10-22 11:00:35.223545"], ["updated_at", "2019-10-22 11:00:35.223545"], ["jti", "f3af3240-d5fc-4a49-90fa-ffdc578bc1e9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_expert.com"], ["encrypted_password", "$2a$04$PYHC6pA/WrHOLV1d6eadEOZXvpn9eqM1TsvoYAGKkjBxoJ7Xn4Kza"], ["created_at", "2019-10-22 11:00:35.230574"], ["updated_at", "2019-10-22 11:00:35.230574"], ["jti", "a0d1c637-222a-48f6-9e69-514a0559b947"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$KsFo70WftpbLofrcUrEeH.qcBBj5iL5i13iDuUMJKwlKtjBJ7VAlK"], ["created_at", "2019-10-22 11:00:35.237598"], ["updated_at", "2019-10-22 11:00:35.237598"], ["jti", "d0b7524c-adef-4231-ad8f-8f1d79608f2e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 504], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.6ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName4"], ["address", "CoffeeShopAddress4"], ["owner_id", 504], ["creator_id", 506], ["created_at", "2019-10-22 11:00:35.244221"], ["updated_at", "2019-10-22 11:00:35.244221"], ["maintainer_id", 505]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name2"], ["creator_id", 67], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@coffee_owner.com"], ["encrypted_password", "$2a$04$JCHcpwzPLik3g6sF/V6mYuWnSNtmS6CAEMCAqdo9I.kMOV7m5nXzC"], ["created_at", "2019-10-22 11:00:35.255417"], ["updated_at", "2019-10-22 11:00:35.255417"], ["jti", "4b09a5eb-a82e-4d2e-914c-381755dc5090"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$wvFSZsqxy5w4J8rYzjkkhOdEzedNlnuIQ50DkjrEWa4jmzIdAqWKy"], ["created_at", "2019-10-22 11:00:35.261447"], ["updated_at", "2019-10-22 11:00:35.261447"], ["jti", "50d3b25c-5864-45e2-9770-152cd7cc8af9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_admin.com"], ["encrypted_password", "$2a$04$u5kiDHmXutcaeQHge5SCCu1k9Cn2lV3.hZtmuFms/awSlw2kZNeA6"], ["created_at", "2019-10-22 11:00:35.266809"], ["updated_at", "2019-10-22 11:00:35.266809"], ["jti", "8966e612-2418-4ca1-88f1-3fe01c8f6f22"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 507], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.0ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName5"], ["address", "CoffeeShopAddress5"], ["owner_id", 507], ["creator_id", 509], ["created_at", "2019-10-22 11:00:35.273178"], ["updated_at", "2019-10-22 11:00:35.273178"], ["maintainer_id", 508]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name3"], ["creator_id", 68], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.6ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name3"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 68], ["created_at", "2019-10-22 11:00:35.278409"], ["updated_at", "2019-10-22 11:00:35.278409"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "BoardGame_Name3"], ["id", 24], ["creator_id", 68], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 24], ["creator_id", 68], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 24], ["creator_id", 68], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@coffee_owner.com"], ["encrypted_password", "$2a$04$JzV8L./qmdfB0Kxq9Ss1S.9NSeGvVR1aSCq4/GZ1YtGTu1AsxQMVe"], ["created_at", "2019-10-22 11:00:35.291806"], ["updated_at", "2019-10-22 11:00:35.291806"], ["jti", "92110d48-feea-4181-8b30-da42bd1fff14"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_expert.com"], ["encrypted_password", "$2a$04$cCTMWnf3oJ87loflk5rN..X2z9ENbVZDoIHr07L5sR0D7lTJ9Qdzq"], ["created_at", "2019-10-22 11:00:35.297384"], ["updated_at", "2019-10-22 11:00:35.297384"], ["jti", "c3006d4a-ab84-45fd-847e-2efb3b26a6b3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$f2yd1oenFI27jdy/4ca61u6bgloEJ1law2FgUtMI3lNJUEB7xouLe"], ["created_at", "2019-10-22 11:00:35.303489"], ["updated_at", "2019-10-22 11:00:35.303489"], ["jti", "87d0a5c2-24d1-465a-8c1e-66e9ec747a98"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 510], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.9ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName6"], ["address", "CoffeeShopAddress6"], ["owner_id", 510], ["creator_id", 512], ["created_at", "2019-10-22 11:00:35.309425"], ["updated_at", "2019-10-22 11:00:35.309425"], ["maintainer_id", 511]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name4"], ["creator_id", 69], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.6ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name4"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 69], ["created_at", "2019-10-22 11:00:35.313638"], ["updated_at", "2019-10-22 11:00:35.313638"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@coffee_owner.com"], ["encrypted_password", "$2a$04$vGNr3LMmw8WPkgLYngOcSeF4p36yMnCK/uFwNbem0mGQ3C1eMVzri"], ["created_at", "2019-10-22 11:49:29.075065"], ["updated_at", "2019-10-22 11:49:29.075065"], ["jti", "7e161163-f225-47c1-96b9-9985710437bf"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$8tcwwe9pjPoZPhdBy0aTduydVHRuZ4DWsNfB4gfgfJxRQ2SBjdBl6"], ["created_at", "2019-10-22 11:49:29.082966"], ["updated_at", "2019-10-22 11:49:29.082966"], ["jti", "089c5ab1-6354-4ed7-a9a0-8ea13a1c084a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$lYhvA6/LaQFyTBWbcuzlV.MFlIMgDndb4HZM1RJi2AZCZaw/KgjEW"], ["created_at", "2019-10-22 11:49:29.088078"], ["updated_at", "2019-10-22 11:49:29.088078"], ["jti", "a5bcc51b-2e2c-4192-b709-edf62a4986b3"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName1"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 513], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.2ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName1"], ["address", "CoffeeShopAddress1"], ["owner_id", 513], ["creator_id", 515], ["created_at", "2019-10-22 11:49:29.096210"], ["updated_at", "2019-10-22 11:49:29.096210"], ["maintainer_id", 514]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name1"], ["creator_id", 70], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.7ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name1"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 70], ["created_at", "2019-10-22 11:49:29.101086"], ["updated_at", "2019-10-22 11:49:29.101086"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "BoardGame_Name1"], ["id", 26], ["creator_id", 70], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" IS NULL AND "board_games"."creator_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@coffee_owner.com"], ["encrypted_password", "$2a$04$A7wf9fcxdS4Rk.1sbp/C4..EWRoOb3KXxP.eg0PV8IPAJ9DIFYD96"], ["created_at", "2019-10-22 11:49:29.213021"], ["updated_at", "2019-10-22 11:49:29.213021"], ["jti", "5968681d-7fab-4170-b7d3-3b2a67358d4c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$39FsuxUJ4EGq7lfzbHkS9eTONWIeNjdB5qC5aMyTBBlQyebvtNSCW"], ["created_at", "2019-10-22 11:49:29.219014"], ["updated_at", "2019-10-22 11:49:29.219014"], ["jti", "5aba8f7f-a266-44ad-b7c2-799daea5104c"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_admin.com"], ["encrypted_password", "$2a$04$QCDB6RCBDqrR3jCnKZFRS.mZiTZLPNm26roSns/gl7olkxBI3OKEq"], ["created_at", "2019-10-22 11:49:29.224551"], ["updated_at", "2019-10-22 11:49:29.224551"], ["jti", "9f9ed101-5eaf-4587-9a62-0c31057d4cdb"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName3"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 516], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName3"], ["address", "CoffeeShopAddress3"], ["owner_id", 516], ["creator_id", 518], ["created_at", "2019-10-22 11:49:29.229898"], ["updated_at", "2019-10-22 11:49:29.229898"], ["maintainer_id", 517]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 71], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.8ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 71], ["created_at", "2019-10-22 11:49:29.234039"], ["updated_at", "2019-10-22 11:49:29.234039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 71], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@coffee_owner.com"], ["encrypted_password", "$2a$04$AQ5ml6nYqWM1p/qaqhAYRek4O149KRe4YPcmbdwAGftvjCgBjSQ86"], ["created_at", "2019-10-22 11:49:29.244015"], ["updated_at", "2019-10-22 11:49:29.244015"], ["jti", "2d50d313-85cd-4233-9069-dc033395d1ae"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_expert.com"], ["encrypted_password", "$2a$04$.BZy.JrKpSeZTHxloLgd/utLIu5hXD0Evvvgt9zE4vMkS1JJpnRre"], ["created_at", "2019-10-22 11:49:29.250803"], ["updated_at", "2019-10-22 11:49:29.250803"], ["jti", "78e48004-d84a-4984-b7d2-fbe0287074f6"], ["role", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$C71TWZ4ny0xzCQtDXeX6l.hvqSE8RcPonJaZ2un/c7JoiN8AAfxUO"], ["created_at", "2019-10-22 11:49:29.256779"], ["updated_at", "2019-10-22 11:49:29.256779"], ["jti", "abbbf9b6-89b9-4959-9f06-8acb381bd15e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName4"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 519], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName4"], ["address", "CoffeeShopAddress4"], ["owner_id", 519], ["creator_id", 521], ["created_at", "2019-10-22 11:49:29.262334"], ["updated_at", "2019-10-22 11:49:29.262334"], ["maintainer_id", 520]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "Name"], ["creator_id", 72], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.6ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Name"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 72], ["created_at", "2019-10-22 11:49:29.266012"], ["updated_at", "2019-10-22 11:49:29.266012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "Name"], ["id", 28], ["creator_id", 72], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@coffee_owner.com"], ["encrypted_password", "$2a$04$NQ9uNEbOlcZUm0oKjIthK.QV9HCHAPjONMFpNoxjeHoKjFGKa7Q4W"], ["created_at", "2019-10-22 11:49:29.276652"], ["updated_at", "2019-10-22 11:49:29.276652"], ["jti", "a9c9cd17-fd96-44c0-8609-608170028915"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$N8ZyKmPC5MBGMR6Ayw8Bfe2gwvU0vzZAUGolw48.Hrn84H/MNF596"], ["created_at", "2019-10-22 11:49:29.283445"], ["updated_at", "2019-10-22 11:49:29.283445"], ["jti", "ed6f52ee-82f3-4c1b-9c5e-3f44e63cbef3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_admin.com"], ["encrypted_password", "$2a$04$sloh6LctpfC9BcOtLGAvY.RrLt2tTz.4kDb.IyzJ5B3WrTENzX8DC"], ["created_at", "2019-10-22 11:49:29.290049"], ["updated_at", "2019-10-22 11:49:29.290049"], ["jti", "9d7e38f4-c3f8-43a5-a7a0-5790f1e60296"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName5"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 522], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.7ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName5"], ["address", "CoffeeShopAddress5"], ["owner_id", 522], ["creator_id", 524], ["created_at", "2019-10-22 11:49:29.295803"], ["updated_at", "2019-10-22 11:49:29.295803"], ["maintainer_id", 523]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name2"], ["creator_id", 73], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@coffee_owner.com"], ["encrypted_password", "$2a$04$y9bMzjT44oMVbA07eZiP6.nZzo77n9ckNtMYbcHjkGgwoPwF3mlv6"], ["created_at", "2019-10-22 11:49:29.306546"], ["updated_at", "2019-10-22 11:49:29.306546"], ["jti", "77695746-ee07-4609-bbf1-454fa108a24f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_expert.com"], ["encrypted_password", "$2a$04$Ux1Bb5vEXE6hLwBskZzniO1GNlKYZHnTB2af54CcmGUuhVVFKi3fu"], ["created_at", "2019-10-22 11:49:29.312840"], ["updated_at", "2019-10-22 11:49:29.312840"], ["jti", "af5197ab-915d-43f8-a4bf-2fa14e2d974d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$KpVOcgNEl7j4rI021QUY1Oy0zam9m7uWBhIyFN6o2WxD6q0R.3VN6"], ["created_at", "2019-10-22 11:49:29.319691"], ["updated_at", "2019-10-22 11:49:29.319691"], ["jti", "47c49882-3835-4ab9-b417-11106f6852ad"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName6"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 525], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (1.3ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName6"], ["address", "CoffeeShopAddress6"], ["owner_id", 525], ["creator_id", 527], ["created_at", "2019-10-22 11:49:29.325563"], ["updated_at", "2019-10-22 11:49:29.325563"], ["maintainer_id", 526]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name3"], ["creator_id", 74], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.6ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name3"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 74], ["created_at", "2019-10-22 11:49:29.331682"], ["updated_at", "2019-10-22 11:49:29.331682"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "BoardGame_Name3"], ["id", 29], ["creator_id", 74], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 29], ["creator_id", 74], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."id" != $2 AND "board_games"."creator_id" = $3 LIMIT $4[0m  [["name", "newName"], ["id", 29], ["creator_id", 74], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@coffee_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@coffee_owner.com"], ["encrypted_password", "$2a$04$CfgEZ.3d0URikZ8VRx7z6e5sMRYPq8ICgMSWCVk09UuSer1hbKibO"], ["created_at", "2019-10-22 11:49:29.346903"], ["updated_at", "2019-10-22 11:49:29.346903"], ["jti", "e3282100-eb97-4232-be77-4a934fea4df8"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$UC.ALBRyeL0JULpvWbimwuLNbQTmOCGQE1qiJw3htmqFmGhAXlsrq"], ["created_at", "2019-10-22 11:49:29.353215"], ["updated_at", "2019-10-22 11:49:29.353215"], ["jti", "190c082f-9938-4023-8fb1-a42ebca731e6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$CHuQtL8toA2o0g/Y49QB3OUBAktRhplsmpr04R3ywf4c5sItg.Wwe"], ["created_at", "2019-10-22 11:49:29.359743"], ["updated_at", "2019-10-22 11:49:29.359743"], ["jti", "3cf8aff7-db61-4ab1-bff1-56929b7c8b54"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCoffeeShop Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE LOWER("coffee_shops"."name") = LOWER($1) LIMIT $2[0m  [["name", "CoffeeShopName7"], ["LIMIT", 1]]
  [1m[36mCoffeeShop Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "coffee_shops" WHERE "coffee_shops"."owner_id" = $1 LIMIT $2[0m  [["owner_id", 528], ["LIMIT", 1]]
  [1m[36mCoffeeShop Create (0.8ms)[0m  [1m[32mINSERT INTO "coffee_shops" ("name", "address", "owner_id", "creator_id", "created_at", "updated_at", "maintainer_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "CoffeeShopName7"], ["address", "CoffeeShopAddress7"], ["owner_id", 528], ["creator_id", 530], ["created_at", "2019-10-22 11:49:29.366913"], ["updated_at", "2019-10-22 11:49:29.366913"], ["maintainer_id", 529]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBoardGame Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "board_games" WHERE "board_games"."name" = $1 AND "board_games"."creator_id" = $2 LIMIT $3[0m  [["name", "BoardGame_Name4"], ["creator_id", 75], ["LIMIT", 1]]
  [1m[36mBoardGame Create (0.6ms)[0m  [1m[32mINSERT INTO "board_games" ("name", "publisher", "min_player", "max_player", "play_time", "description", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "BoardGame_Name4"], ["publisher", "MyString"], ["min_player", 2], ["max_player", 7], ["play_time", 30], ["description", "Description Text"], ["creator_id", 75], ["created_at", "2019-10-22 11:49:29.371852"], ["updated_at", "2019-10-22 11:49:29.371852"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
