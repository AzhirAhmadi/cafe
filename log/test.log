  [1m[35m (353.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_test"[0m
  [1m[35m (1482.8ms)[0m  [1m[35mCREATE DATABASE "cafe_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (40.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (106.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer)[0m
  [1m[35m (74.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (58.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_jti" ON "users"  ("jti")[0m
  [1m[35m (42.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (85.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191001130712)[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191001064950),
(20191001064949);

[0m
  [1m[35m (115.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-02 13:30:38.640308"], ["updated_at", "2019-10-02 13:30:38.640308"]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."login" = $1 LIMIT $2[0m  [["login", "jsmith"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "a@b"], ["encrypted_password", "$2a$04$O8qMkwrwuTfBvbcHt5PkJeb5xdTeJJmmifphT2SjzozL9zUSaK/Ay"], ["created_at", "2019-10-02 14:34:47.948619"], ["updated_at", "2019-10-02 14:34:47.948619"], ["jti", "1627f32b-e861-48f2-aa9f-a488902ab9a5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "a@b"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "a@b"], ["encrypted_password", "$2a$04$3litoVWG93aPW1GPuS66YuaPtkD9co3ncpeo1wCtzWg5/simz1dw6"], ["created_at", "2019-10-02 14:35:08.098462"], ["updated_at", "2019-10-02 14:35:08.098462"], ["jti", "76bb2992-48e4-437e-9af4-a53d8e954c96"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@test.com"], ["encrypted_password", "$2a$04$zJqnxF4P375Q.djYWN343eZGNDMK.duy.JolttvPzEkKCifI4XlUS"], ["created_at", "2019-10-02 14:36:18.664523"], ["updated_at", "2019-10-02 14:36:18.664523"], ["jti", "46c8ad5a-4b90-4749-af31-79cc68d82a70"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@test.com"], ["encrypted_password", "$2a$04$mRIbQp4Pr8NrTA.WxK3paeOGiRTOl65E.xSJyN1b5wPGNbjoBPAAa"], ["created_at", "2019-10-02 14:36:31.661323"], ["updated_at", "2019-10-02 14:36:31.661323"], ["jti", "b70be850-6985-4bd3-9321-8d4cb026ab7b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (56.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (49.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."role" = $1 LIMIT $2[0m  [["role", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."role" = $1 LIMIT $2[0m  [["role", 1], ["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."role" = $1 LIMIT $2[0m  [["role", 1], ["LIMIT", 11]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (55.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$ankDBKhNsxwU961nvugDpOxSjGPhkSe.9jCub6Xeac.e2wktwUTmO"], ["created_at", "2019-10-03 08:01:26.682114"], ["updated_at", "2019-10-03 08:01:26.682114"], ["jti", "bd368f6a-e7ad-4710-8eb9-e133dea33358"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$c.Gutdb0vBQPVzaRYD0cZ.PNlRlGBwLn0OEYZFzTI8Fn0OKcJStHa"], ["created_at", "2019-10-03 08:01:40.372472"], ["updated_at", "2019-10-03 08:01:40.372472"], ["jti", "c5877444-78e1-4b6b-83c0-9f0b504032f7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$cXzVQC38W/QITYmyppmXvu0hbAMkOwVwBng1d9GiBq0kWM67fevBW"], ["created_at", "2019-10-03 08:02:03.646737"], ["updated_at", "2019-10-03 08:02:03.646737"], ["jti", "8123c5ab-c82e-4676-93c2-cd937ba96c3e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$rX6bRSb2wIp.5ukCTdXzwugydZ0YkzF4FOf9zwktRzBmqZjLcNwke"], ["created_at", "2019-10-03 08:02:44.250236"], ["updated_at", "2019-10-03 08:02:44.250236"], ["jti", "646bdf3d-96ec-4eac-8e28-9a2ee1f33794"], ["role", 4]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (55.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (26.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (447.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "cafe_test"[0m
  [1m[35m (1516.1ms)[0m  [1m[35mCREATE DATABASE "cafe_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (152.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "jti" character varying NOT NULL, "role" integer, "deleted_at" timestamp)[0m
  [1m[35m (73.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (74.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_jti" ON "users"  ("jti")[0m
  [1m[35m (61.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (107.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191007115352)[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191001064950),
(20191001064949),
(20191001130712),
(20191007114845);

[0m
  [1m[35m (108.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-07 13:24:56.347048"], ["updated_at", "2019-10-07 13:24:56.347048"]]
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$u9tpSWlNm0nQmasnQOOYAeoCVwG7IGe/kvy7wMfDIVtFPqcBS2FBC"], ["created_at", "2019-10-07 13:24:56.556791"], ["updated_at", "2019-10-07 13:24:56.556791"], ["jti", "8e1a1a66-c1a8-46bc-b4a6-b8dc2125e8da"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$v8pt/0F3hoGqeQ2wiJ6XLupQ0OO40SyAf0C5NBoo2WbElmit7EdOa"], ["created_at", "2019-10-07 13:25:47.383813"], ["updated_at", "2019-10-07 13:25:47.383813"], ["jti", "0c913bde-f8eb-4a50-bb2b-d9a6d29b5a14"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$Tmcz3EB1cYu/bzQZb9TlCeqtFv4bkJ2bGwg9Fc35dqvlsk3ON8LIW"], ["created_at", "2019-10-07 13:27:12.792311"], ["updated_at", "2019-10-07 13:27:12.792311"], ["jti", "b7502ffe-c933-4ed5-9cdc-9c0253e0bb5f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$X.i5/MSoVnE3447vFIwbyeh4VwkPan88gIIid4B/yF/rXZBZOLNf6"], ["created_at", "2019-10-07 14:33:52.481828"], ["updated_at", "2019-10-07 14:33:52.481828"], ["jti", "668f72a9-d70a-4cdf-a0a7-88f1af697134"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as HTML
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 51ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (52.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (87.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$b0uoNsiImdxPNL1lAcrh6ODbsEwN2o8dxx9mP/MFErE2YqDP7HZ82"], ["created_at", "2019-10-08 06:33:58.283977"], ["updated_at", "2019-10-08 06:33:58.283977"], ["jti", "8d77df46-0abc-4a86-b5e1-e28cc586599c"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"5"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 5ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$TNe/.b71hGprU7HXmMpZGOF/jGWaDSqtdHmnBg85A74XUmJmUd.l6"], ["created_at", "2019-10-08 06:33:58.778957"], ["updated_at", "2019-10-08 06:33:58.778957"], ["jti", "2dea71fb-86ae-4234-8508-0118e9101a53"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$vijD.BUM5Oh9d3VXfyt8/./N.gpoI.prm/.vbgjXgJBYQQR8Cxxke"], ["created_at", "2019-10-08 06:34:50.434389"], ["updated_at", "2019-10-08 06:34:50.434389"], ["jti", "44b2bd0f-42bd-45ac-8ac2-a6629a54a1f9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"7"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$kJwm1tw41iyxRtMN2QhADutRAoske9kcWqsDA/ytwbIWu8tw4hRay"], ["created_at", "2019-10-08 06:34:50.482321"], ["updated_at", "2019-10-08 06:34:50.482321"], ["jti", "7d67c59f-69b1-40c4-b5fd-382855dc0f77"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$AxCjxxLLiTnPUlJGGeOaO.27nTFGgkphk8sL400EbRh3XzK82yhCm"], ["created_at", "2019-10-08 06:36:16.496511"], ["updated_at", "2019-10-08 06:36:16.496511"], ["jti", "e4b8bca5-88aa-4cb6-b3ef-a13f74519e37"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"9"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$nZpnES.GCAAstFWg1AupqugY/ZqNdWsm5gB8f4xQgiFT5IIsGcuyS"], ["created_at", "2019-10-08 06:36:16.540743"], ["updated_at", "2019-10-08 06:36:16.540743"], ["jti", "dc595f99-a20a-45bb-952b-0732f1382a1b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@test.com"], ["encrypted_password", "$2a$04$b/l/xs9iqcQ5SxwZ73.M6.hPdjX0fUOnOytk9fY2T2yixOUyXD/.u"], ["created_at", "2019-10-08 06:38:52.740663"], ["updated_at", "2019-10-08 06:38:52.740663"], ["jti", "08d64c34-8018-49ab-8bb6-46772628908d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"11"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$ROX5s4Pv3DVSUPKAfMkjpO4gINRA1zAPKD24aVzICAsHcVd2rxzpK"], ["created_at", "2019-10-08 06:38:52.788243"], ["updated_at", "2019-10-08 06:38:52.788243"], ["jti", "81bb6972-6f3c-4d60-8f21-e1550219ef7e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$LQxYbYlT8WhhE2XvShC70OP5jF8NrqcudchCZyGukRgX.88j4sDdi"], ["created_at", "2019-10-08 12:33:15.585665"], ["updated_at", "2019-10-08 12:33:15.585665"], ["jti", "fba0570f-9a6b-4d7a-978b-cd7af821bb88"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"13"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$EOS.krkaa8sW4W1HiasGiOQfuiwKAM1OLQTYJ8Mmxq7dh3gMGZHuS"], ["created_at", "2019-10-08 12:33:44.622161"], ["updated_at", "2019-10-08 12:33:44.622161"], ["jti", "6780bd2e-8def-405a-a707-52ef5ee8e056"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>"14"}
[Devise] Could not find devise mapping for path "/api/login.json".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$.ZCJhWx6oCKttKbsg1PXe.uVnFPsYXVxZIgz4Sn6/nh6s3uGULq/e"], ["created_at", "2019-10-08 12:36:25.930703"], ["updated_at", "2019-10-08 12:36:25.930703"], ["jti", "17cfd8ce-5b51-4ca9-afb7-be8a29d12c62"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$VPvBDSnixFnlk6Mj4DTBweAB5zXIdoBBxQ6fm4Ljr/GptIZ8379gi"], ["created_at", "2019-10-08 12:45:32.659720"], ["updated_at", "2019-10-08 12:45:32.659720"], ["jti", "4b9b064a-013d-4e0b-8b87-371d7d134eb4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$JG5fng.l74Yy35maMMVbZ.k2PdlDzFJb2KL6toju81fBm2ZSqKfe2"], ["created_at", "2019-10-08 12:46:56.890821"], ["updated_at", "2019-10-08 12:46:56.890821"], ["jti", "f24e3039-3e32-4bbe-9f87-643326923079"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$y3Y9.PybCGyk7hLAB5RixOdzR2OHcUdbOyvOwFxKhfqtyWFU9mXhG"], ["created_at", "2019-10-08 13:15:17.859422"], ["updated_at", "2019-10-08 13:15:17.859422"], ["jti", "260307b0-3ebb-4275-ae6b-bc700b4c15b2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$MMok7HySEWaTBhnMVUtV4.7bEAoJqBwrwHbnvs3bVgsIjDtcHBgGG"], ["created_at", "2019-10-08 13:15:53.281090"], ["updated_at", "2019-10-08 13:15:53.281090"], ["jti", "ace2eea7-56f9-47ba-b96e-ea5dcda40bc8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$NRLkoeYevuA0vV9C9IUGSuhvyBF9B6FICR4d.wI2F/zMOhJ07NXy."], ["created_at", "2019-10-08 13:21:26.477215"], ["updated_at", "2019-10-08 13:21:26.477215"], ["jti", "80c8bb9a-1d81-4484-9a16-640179346194"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$j6OQdKrbdQ/skAKjf.GBZuIjVPmXLIABh24R/nlGMbD0hcBiTf9Si"], ["created_at", "2019-10-08 13:23:14.356499"], ["updated_at", "2019-10-08 13:23:14.356499"], ["jti", "d870c6ee-7f8f-4b64-adea-828af7be9fce"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$xLtp6mR0bzOlhypXsmsqzuQneEw60mE2rw6WC1MmmZwZ3NVoM9on."], ["created_at", "2019-10-08 13:23:58.105450"], ["updated_at", "2019-10-08 13:23:58.105450"], ["jti", "633da64a-8792-48a1-8efe-91a9858895fb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$dq20/CZLbSuNAmsE2ri18efX6u0c7t2R45520EmdAoWm6cYonEfxO"], ["created_at", "2019-10-08 13:24:43.221861"], ["updated_at", "2019-10-08 13:24:43.221861"], ["jti", "9620a29b-9e1e-45fb-9187-79fe55265e91"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$WvKVz.Sdgqc8HKUlIaPpgeoJZ1xj8HaI1yGUnik0A6bJ1nnxv8GgC"], ["created_at", "2019-10-08 13:47:31.776769"], ["updated_at", "2019-10-08 13:47:31.776769"], ["jti", "2bf7b189-6818-46fe-9328-487e3f283164"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Qz8uw7c8bgl6TMPnt18pg.J0Qu.tABYEVQEGnfN4/RT4iXN4qdPdW"], ["created_at", "2019-10-08 14:03:48.880164"], ["updated_at", "2019-10-08 14:03:48.880164"], ["jti", "7b90c98b-9155-456c-a078-c65172e02e79"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$9qD9AA5CEU3VEzlxl7ku/Okl17qKoDzOHyUO0/hYfaKEpEIgAqK8W"], ["created_at", "2019-10-08 14:04:09.273081"], ["updated_at", "2019-10-08 14:04:09.273081"], ["jti", "dce85cae-bccf-4bac-9384-daf095d9b7e5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$BjNOUAZq/KYtHIPKUadfQOgK5Aj1SyDiP8hCIDy2pWb5Rj68XZntW"], ["created_at", "2019-10-08 14:04:12.165068"], ["updated_at", "2019-10-08 14:04:12.165068"], ["jti", "5b04b4f3-26ca-4304-99cb-02d1b32e82b9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$tnSs4J4hCmGGwOzHk0p.7e41EeTKE5Dyru3tSAM2pl42inyLb1oK6"], ["created_at", "2019-10-08 14:09:10.813427"], ["updated_at", "2019-10-08 14:09:10.813427"], ["jti", "07db0500-9d78-4623-b841-1446227bbf98"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$4yQwyXUEY2Lr9B6UvVI1xeX2u4o/6rKSl3YcMnbL7IktBbba68Tvu"], ["created_at", "2019-10-08 14:09:27.102541"], ["updated_at", "2019-10-08 14:09:27.102541"], ["jti", "6ad9420a-93ac-408e-8b85-e85c3ea8304e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$upB69U93nsDGtSEYS..i3.YukmlLFJHAXIF9vE0acGRRLJ46l73gq"], ["created_at", "2019-10-08 14:09:57.538370"], ["updated_at", "2019-10-08 14:09:57.538370"], ["jti", "3ccee9e7-48b1-4b1e-990f-5310ae2eb7f4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$rqQaWP6TW6T8fTnmz8WEhuunPOhZSQTijPO3piwklflBe/baFrYVC"], ["created_at", "2019-10-08 14:10:20.688658"], ["updated_at", "2019-10-08 14:10:20.688658"], ["jti", "e9bae962-242f-4dab-8a81-50ad4b4f4535"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$LjdpFOKORwR0XCf/ekmWiuaiokhpPNHxI0ivj47/Dz.8fHbg3ObkC"], ["created_at", "2019-10-08 14:15:04.692498"], ["updated_at", "2019-10-08 14:15:04.692498"], ["jti", "30447675-a6b4-4b76-ac65-77f3cfcecfbe"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$vTcsJaSb1Cqcao6MBzjb5eb1HYha849HW8zUGGxUFtJjabdbcOTrW"], ["created_at", "2019-10-08 14:15:34.869872"], ["updated_at", "2019-10-08 14:15:34.869872"], ["jti", "d49c458c-1adc-4496-ba1e-6508431a2c16"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$4wYSRFwaExlLqHkk39Xxve8ObHWOM9rnrVCv7yYae2c6VztkEdGaC"], ["created_at", "2019-10-08 14:15:49.076062"], ["updated_at", "2019-10-08 14:15:49.076062"], ["jti", "3546a39b-8157-42ae-b457-c5993fe6192a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$gXc10EA3vfDQOJZoz6/NduVdR7YGlrBEz6UiQgY5kzsksKDHnBDbS"], ["created_at", "2019-10-08 14:20:56.070653"], ["updated_at", "2019-10-08 14:20:56.070653"], ["jti", "219777d7-11bc-48a3-b4c3-63bc296234b2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$nC4HV5RErO6RtebZFRd90eCXZ7WSNwfEfD.sLuhCdWPG8b113GUQ."], ["created_at", "2019-10-08 14:21:47.030979"], ["updated_at", "2019-10-08 14:21:47.030979"], ["jti", "122fc8c7-559c-4532-9e90-71e6060c7e40"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
[Devise] Could not find devise mapping for path "/api/login".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$smhT2Slw4cfWD.o2s/hKBuiUMFu7KwLgRUQAq2LnnWlWUK4Uv5TNy"], ["created_at", "2019-10-08 14:54:46.598169"], ["updated_at", "2019-10-08 14:54:46.598169"], ["jti", "c48cef10-5f2f-4c1d-bb2b-1cec87e61db5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$A5WfV56kDLvpkRtyWmchTe2qMC/7owdVrFHHCRAJiYczV8or4ErQ6"], ["created_at", "2019-10-08 14:55:30.357222"], ["updated_at", "2019-10-08 14:55:30.357222"], ["jti", "fe473ce4-83ea-42e8-9630-dd017cec0385"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$d1fOy/j/x3sNSJVAtDjoSez7V6UdCLbqt2OlPAJMooo4V/O48Vrfq"], ["created_at", "2019-10-08 14:58:35.472894"], ["updated_at", "2019-10-08 14:58:35.472894"], ["jti", "755359b4-cf78-46ee-83b8-53ccf69ddd1c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$YXf29tqCBckyU4WTclYep.ZWBI0WlgSJmM1zavHxtW5gehRrZP5V2"], ["created_at", "2019-10-08 14:58:49.360184"], ["updated_at", "2019-10-08 14:58:49.360184"], ["jti", "4983f14c-2031-4084-b0d9-7185fde8219e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$p3Tlj/A6OcnkV0qcrgNw4eRv9mDpVY5NxjCqahuGxVWlE4mF7r3g2"], ["created_at", "2019-10-08 14:59:29.429411"], ["updated_at", "2019-10-08 14:59:29.429411"], ["jti", "8069bd98-bc15-4e18-bd41-84ea228bfe68"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (56.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (85.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$7TlwJXrR0LtpE3wiHe9tluyKEHig8zIqHokRF2jtoWhfwYCjW0MQq"], ["created_at", "2019-10-09 10:39:23.690827"], ["updated_at", "2019-10-09 10:39:23.690827"], ["jti", "8760eca8-ce01-4462-87f2-d373305b9a62"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$PqdFpfDSESZvZy24TKeiQu1PgJzMIT7NkJfLhD.REIrgfX.K4acPe"], ["created_at", "2019-10-09 10:55:47.554595"], ["updated_at", "2019-10-09 10:55:47.554595"], ["jti", "f59b2b88-85ac-4b6c-963a-cbef72da3089"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$eIFbon.Irr2Vrn62DTLJPOU4OTLh4b9AYPcRL4RZYSvidTlsu6mHC"], ["created_at", "2019-10-09 11:49:34.457809"], ["updated_at", "2019-10-09 11:49:34.457809"], ["jti", "1ebddd0d-0306-4751-bc07-49eceb042e13"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$sUsG5LbeTxGsotgpd9Q/t.88ksZndt577c8Naaqp4STv6UPCNfCs6"], ["created_at", "2019-10-09 11:49:34.480498"], ["updated_at", "2019-10-09 11:49:34.480498"], ["jti", "01149660-d684-4d6b-971b-00f0208d36fa"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$KZQ0945Dqb5lRyri83m5H.T4Qp0ja7vqTnoVQU9kxD.Pv0O/U4uLK"], ["created_at", "2019-10-09 11:49:34.497687"], ["updated_at", "2019-10-09 11:49:34.497687"], ["jti", "ef7cef3b-4df3-4fdb-97ef-b80f2819defe"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$TTZQvZGPPS37Wi7WYIcHhOtjOt2qXPgTlBBnx8xyD2JbiIpFR7.aa"], ["created_at", "2019-10-09 11:49:34.513609"], ["updated_at", "2019-10-09 11:49:34.513609"], ["jti", "6bb9f777-66f8-49e4-abb8-64d28349f3d4"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$J9RxGxWyVJhyrP18Ucyldu2AReHMMbQBa3uzSBuLoupkkOjXduwWe"], ["created_at", "2019-10-09 11:50:03.553076"], ["updated_at", "2019-10-09 11:50:03.553076"], ["jti", "9ac28479-287a-4fdd-93de-c2f1fb6f2fbe"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$evSF6bAU1tGQHt6dVWcqq.Dy/YvxfO0e2HszWujyqqzgIvIiRasku"], ["created_at", "2019-10-09 11:50:04.886623"], ["updated_at", "2019-10-09 11:50:04.886623"], ["jti", "fcde4c51-31c7-4f32-b2fc-7b1df6db2435"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$QWXUqesOoBoFJr/KEEpAeutwj6OpiOry8oaSQ3yb0cHp.tzMWtmB."], ["created_at", "2019-10-09 11:50:34.872032"], ["updated_at", "2019-10-09 11:50:34.872032"], ["jti", "8e1aa3c6-21af-4898-a5ec-85483f7d6773"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$xpdvTZJXNT2fYyplRglP3.HXImMGNkUKAoI08HDbPpcqRgN.s.trW"], ["created_at", "2019-10-09 11:50:59.958170"], ["updated_at", "2019-10-09 11:50:59.958170"], ["jti", "7c4ab478-b34c-4f76-a07a-a4cc5ded7fd3"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$tCcbgbqUJyhWCf5SSh4P6OiBxeiclHNBbcAqF.Z5JgEOW6qndUyOy"], ["created_at", "2019-10-09 11:51:28.680753"], ["updated_at", "2019-10-09 11:51:28.680753"], ["jti", "651d9f56-6a18-4613-a14b-59deacab91e4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$RrX3DJ2B.ohyMQ0MmERe/uaPDVPe9J6m/Gk/PFJPMu.XaDS7QAf8u"], ["created_at", "2019-10-09 11:51:43.430131"], ["updated_at", "2019-10-09 11:51:43.430131"], ["jti", "e872e3bf-d665-47d2-a969-5fc6009e67b6"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$BPs.9FnUOTh1xhIGkwcY8eiHBWOWyTNqKZeqZDTwuGeM5WhPp2vre"], ["created_at", "2019-10-09 11:55:22.206112"], ["updated_at", "2019-10-09 11:55:22.206112"], ["jti", "d8538560-22ea-4dac-91aa-d1a79ea8d849"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$.G60CAspIp/YhEUOODW08.6gVhlRhxjoiFfXzdYPdVxuyh7zzsGgi"], ["created_at", "2019-10-09 11:57:29.433647"], ["updated_at", "2019-10-09 11:57:29.433647"], ["jti", "1e358713-6b04-4585-98f5-c60e1f4e7446"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$4Q5RgFLmqpOd2kF2jHsvbe.fWW9Q8CVhWPOBr0TZRbpOHkd2Txf.S"], ["created_at", "2019-10-09 11:57:29.457102"], ["updated_at", "2019-10-09 11:57:29.457102"], ["jti", "af660c3d-6a82-4a5b-87e4-f49dd81226c4"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$SVuB8hv.s1N51jcxsKBrx.6ddlzi0ZzbWOUPyizALDpGaahmNHNe2"], ["created_at", "2019-10-09 11:57:29.472567"], ["updated_at", "2019-10-09 11:57:29.472567"], ["jti", "fe24d1f9-5fa1-4b4f-be36-6a34bcf669b5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$2oLAq61ZTbWIo6if9.2M5.J176miO84PLMueTdXndzISL97ESBwvu"], ["created_at", "2019-10-09 11:57:29.487645"], ["updated_at", "2019-10-09 11:57:29.487645"], ["jti", "732e56b0-daf4-4849-958a-f41ce1cf2a38"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$/4Fd2qrRakTGPvGf5KJomuxtznVDY8puBOsPEYMpoiVs/jjUzKR1C"], ["created_at", "2019-10-09 11:57:29.499830"], ["updated_at", "2019-10-09 11:57:29.499830"], ["jti", "5851fa74-5018-4a68-a405-c4dad4d2fa69"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 40ms (Views: 0.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$.tGADJm7o3jZOuLRjJpf1.q8fJP8hCiAs8xkKg3kM7W2.27jaa01K"], ["created_at", "2019-10-09 12:02:09.720719"], ["updated_at", "2019-10-09 12:02:09.720719"], ["jti", "34bb1868-a7ad-4126-95e0-db97536e1ae7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$3AJ7Efkj35Bh2X7IrzDnJOSB3A7V.06mhHXcrZbQpaUFubIKIuSL2"], ["created_at", "2019-10-09 12:02:09.738781"], ["updated_at", "2019-10-09 12:02:09.738781"], ["jti", "a5d064f9-11a7-4885-96de-e8a2095c527e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$TtitZ3CdtH7XX6HT.3rYLui/2/Hp0OO/zGt1/IwubOkWnQBKpyHEy"], ["created_at", "2019-10-09 12:02:09.752829"], ["updated_at", "2019-10-09 12:02:09.752829"], ["jti", "87b1da9d-8218-44a7-a6c4-1013e4c5e8b5"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$/t.t4zQSdvdWD5f1OlZ.geE3vF.nREFTfhIWo7lU84D0xnoMaLRlG"], ["created_at", "2019-10-09 12:02:09.766268"], ["updated_at", "2019-10-09 12:02:09.766268"], ["jti", "13e8cd20-a41e-4b93-8798-317694a4201d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$KNRNltXDGedEHKO9gMK5z.wNeHm0jdLWsR.4.xb0ntw7NpHY.KSsG"], ["created_at", "2019-10-09 12:02:09.781360"], ["updated_at", "2019-10-09 12:02:09.781360"], ["jti", "87615071-8484-4bb2-b3c3-1ddeb967ad56"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$znITm0rYZRmBmOMOJo0pP.eHtQzA4GW.RMu0PeiX3Iid1P5TxlZye"], ["created_at", "2019-10-09 12:02:18.511427"], ["updated_at", "2019-10-09 12:02:18.511427"], ["jti", "9fa77c07-affb-4ca8-90bf-f74a99f1c345"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$VTJKYkgAV/1C56s9eRI1B.B4nH7hVDnCeinqQIruJWNTu1YJUJEFq"], ["created_at", "2019-10-09 12:02:18.526389"], ["updated_at", "2019-10-09 12:02:18.526389"], ["jti", "796ff1d4-7db8-43ce-b355-5c5f76b76158"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Tbdu0d11fCnVFydqKOIAYeMzRo72e0YZF3wwQoa1aipAKWqZZF5HC"], ["created_at", "2019-10-09 12:02:18.539594"], ["updated_at", "2019-10-09 12:02:18.539594"], ["jti", "e4824e9f-7bb7-42ba-8b41-4e1150158204"], ["role", 2]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$DhDRpCYf1aPfQAo3LuMJseZE1dKY4MtneE3X/gmRHgGUs9v8vMvMa"], ["created_at", "2019-10-09 12:02:18.552617"], ["updated_at", "2019-10-09 12:02:18.552617"], ["jti", "a5c441c2-c0a2-4f75-bbef-92ec355cd53e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$Cawch9q/5W9s2DD3e6ELv.hryP4Uqnsn9.b2I0NHI1/vU.nzQr8V6"], ["created_at", "2019-10-09 12:02:18.565673"], ["updated_at", "2019-10-09 12:02:18.565673"], ["jti", "93ec9367-8bef-4527-97ab-b6fd224f0da4"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$RSwfcHa6SNwA0kmMb5.IfuOT13YLZN3NbFaaT1Vw/nYgw5ZZbP/2e"], ["created_at", "2019-10-09 12:02:30.846079"], ["updated_at", "2019-10-09 12:02:30.846079"], ["jti", "5a797e38-4962-4be6-aaa9-bdbaf36c9e0a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$uN9nJ9qokLBvq.RJ0bt4y.IFq2jIqKaNOCWHlioLyE.v0BGe4ZWZe"], ["created_at", "2019-10-09 12:02:30.861960"], ["updated_at", "2019-10-09 12:02:30.861960"], ["jti", "7ecee88f-d5e7-4c48-9eb1-658ceb219a11"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$jioAyAK48c7aEQo2CAuRTOLAeN6BVrtmDjStbCIMBe2sPYIceTQB2"], ["created_at", "2019-10-09 12:02:30.878269"], ["updated_at", "2019-10-09 12:02:30.878269"], ["jti", "072c6e7b-d63f-4536-91ce-9bc29205a807"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Hg5Ej/Q/pc18ukwCZjG2D.SUKyCgbBnz/2elzlryCvZX7o3cDiG5O"], ["created_at", "2019-10-09 12:02:30.891684"], ["updated_at", "2019-10-09 12:02:30.891684"], ["jti", "4d081208-ef68-4e5b-92b9-0f24e1c85568"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$HfXJNPyGUCSD1F5Esf0fheDaoLKpSeQI0k8ClXLfZy/m40xHy/Djq"], ["created_at", "2019-10-09 12:02:30.906365"], ["updated_at", "2019-10-09 12:02:30.906365"], ["jti", "d88cf494-0cbe-430a-9e10-279c7683ddec"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$dZmfScJD16q06K5z8C5fNOih4dXN6bOAVGoZqsCqUJdSakJ2fpA.m"], ["created_at", "2019-10-09 12:03:20.662062"], ["updated_at", "2019-10-09 12:03:20.662062"], ["jti", "89a2cadf-3a1f-44c2-a277-6257de7dc888"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 10.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$JAEvlb/hZXVvjp1hcJIloufUVM12dyECCeZM9jNs2/Xyh7dGtLusy"], ["created_at", "2019-10-09 12:03:20.696393"], ["updated_at", "2019-10-09 12:03:20.696393"], ["jti", "bebaaf33-8ff3-4af0-938c-b216e912230c"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$QJ98Kbsfrl/d9Yn1Jfi5N.eN7haZl94efKZhnL5N5183c9jqhdNFO"], ["created_at", "2019-10-09 12:03:20.710917"], ["updated_at", "2019-10-09 12:03:20.710917"], ["jti", "2757871e-346c-4512-9bfa-83ff01c164cc"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$rMsyJzSoI2Me2sNSGHTn7.iJCVxJo3TihGVenA0vvOHH2L2AXcRiy"], ["created_at", "2019-10-09 12:03:20.725051"], ["updated_at", "2019-10-09 12:03:20.725051"], ["jti", "25150764-0665-4d10-9447-a767c9b19fac"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$VnFp27KKfdLiOUzKIgthdO1REcH7l6LD52Okkk8TWCglug3DDRPEu"], ["created_at", "2019-10-09 12:03:20.736721"], ["updated_at", "2019-10-09 12:03:20.736721"], ["jti", "06f38d4e-22a6-4b1c-ba89-aafc4ecead36"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$BkD/4IYI0cqIECKta0rDLe5Aw5q3ycU3.lrfjjafWTWO6IDUbNsle"], ["created_at", "2019-10-09 12:04:16.870702"], ["updated_at", "2019-10-09 12:04:16.870702"], ["jti", "aa87c933-b241-4a1a-afcc-d205637acac7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$9XWG/ymQ4T8gDrcp.pOCmuO.dV9AecI/G90.h81VNXa8X53istxOS"], ["created_at", "2019-10-09 12:04:16.887362"], ["updated_at", "2019-10-09 12:04:16.887362"], ["jti", "f8917f76-5d03-426e-a61a-bb138dc34558"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$V1tR8jjhPo/Fe4CNCJt79Ox.cTVi15jbZjcVFkyDN.rlCDNxZj2by"], ["created_at", "2019-10-09 12:04:16.902020"], ["updated_at", "2019-10-09 12:04:16.902020"], ["jti", "9cd3f628-a57d-4fbc-9c76-796a77de0ff1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$cKmWFY.hf4GdqJSMuwMItOqTRfU17diqUjIerndvBy1gil02ft5em"], ["created_at", "2019-10-09 12:04:16.915700"], ["updated_at", "2019-10-09 12:04:16.915700"], ["jti", "586bcccb-0437-46e7-a390-1f3e3d5e462c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$B18mzUMJrc0xWeNDc0YOe.NuEGCDTw4Ap4Y4h/3gxjbPMFzijHi82"], ["created_at", "2019-10-09 12:04:16.929414"], ["updated_at", "2019-10-09 12:04:16.929414"], ["jti", "c65d8bc9-aba8-4c34-89bf-090256974e79"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$iI3ZCycbbKnO7JPBj1Cpt.zyzfLQc4Xzhbcp1lxBDbeSJpm7/Yq2u"], ["created_at", "2019-10-09 12:04:29.320311"], ["updated_at", "2019-10-09 12:04:29.320311"], ["jti", "bda199ae-ef5e-4727-8174-ec2f674f34d8"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ZGHwSDGimIIxE8rdM4J8cOWHz2CDYBFe7g.33O/VBYqTr0V5.UZnW"], ["created_at", "2019-10-09 12:04:29.335308"], ["updated_at", "2019-10-09 12:04:29.335308"], ["jti", "e95e12e0-19ca-446a-b91a-ef6e632df81f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$k.KGWGdwfKCXDmXR1z7BZ.w4L1cPUWRMhZkRR9Z6z7SdYPlSyOwHS"], ["created_at", "2019-10-09 12:04:29.347668"], ["updated_at", "2019-10-09 12:04:29.347668"], ["jti", "ce027ee8-56db-4fc8-afc3-62e9b500db34"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$gCt43RvP5qqvPZCPZ02XtOmgwGwMIpJ3kFf5MTPpd35zGlk7dN7.C"], ["created_at", "2019-10-09 12:04:29.360748"], ["updated_at", "2019-10-09 12:04:29.360748"], ["jti", "7d73ad5f-43ee-4427-8805-20bbabd7dbd3"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$h65gLRCZ8qWJuFMNA7kvB.Y4wNW0rd0hiuf.f8VbcedcNvaODvXgi"], ["created_at", "2019-10-09 12:04:29.374001"], ["updated_at", "2019-10-09 12:04:29.374001"], ["jti", "22ca4194-7b7a-4c3c-a98b-acc059d943a9"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$cG7QM3rSt.pTIECSBTdoEOqV0Mncv05RA5AESsnpmWR6koEVf5bAa"], ["created_at", "2019-10-09 12:23:45.480455"], ["updated_at", "2019-10-09 12:23:45.480455"], ["jti", "a51530c2-32b5-4c3b-8ed4-4ac8e64c2b16"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$TYYowIVdwNm8sYAwLTW/LehAzV0poJghBDj9WwNuQr5BqhHCVwSSu"], ["created_at", "2019-10-09 12:23:45.496889"], ["updated_at", "2019-10-09 12:23:45.496889"], ["jti", "7620ed28-046a-4c87-a2ea-6dcfee0ab34a"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$yViLpS/cZnW1dgUNogblh.AbIv7QXNxEFGUx8M4oJbdLMzLbOHTgG"], ["created_at", "2019-10-09 12:23:45.510934"], ["updated_at", "2019-10-09 12:23:45.510934"], ["jti", "a409d977-27d9-4e6c-b04d-47eed7715d2a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$qXG2tECyMNtBmc.3Bayf5.7R0S0wXZdsRnmGwMHONBkhZB4NqF9qu"], ["created_at", "2019-10-09 12:23:45.526737"], ["updated_at", "2019-10-09 12:23:45.526737"], ["jti", "d5863368-a84c-494f-bced-3852de988b49"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$A3a7ChmEDDJxi9DUVfVW3ey4Nb6Fvtd9HkknDyYSWzzRPInYSdNkW"], ["created_at", "2019-10-09 12:23:45.542113"], ["updated_at", "2019-10-09 12:23:45.542113"], ["jti", "a37f1c85-2c5d-41ab-a51c-da6ad1d52a8b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$WOCRrGwEJSk9TUL8SLDKCeowNvUR.e7/FaM93qTo1Xr8pr.8epw7q"], ["created_at", "2019-10-09 12:24:07.716686"], ["updated_at", "2019-10-09 12:24:07.716686"], ["jti", "81336abd-2c2a-4237-bc82-d8934800a5b3"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$TI8jQnE2lHzIsViUd6LYOu.W5VLzJTIGV4dj6rmmnhHfAOa3qkUtO"], ["created_at", "2019-10-09 12:24:07.734163"], ["updated_at", "2019-10-09 12:24:07.734163"], ["jti", "ee7cd2c2-bd8a-46c0-9d19-456e438a0ca9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$k62rVhmQc0DZmrtYb/GQBeQopyXjHhbO3EZwoyCPevWydv.eDqt6O"], ["created_at", "2019-10-09 12:24:07.749205"], ["updated_at", "2019-10-09 12:24:07.749205"], ["jti", "c45afb95-652e-4e24-b8ed-ae015dac6ce4"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Dk6KDDZGEmn40qTBN045b.ut8U0WG04onx84eQjZIie8b1nxPZuf."], ["created_at", "2019-10-09 12:24:07.761467"], ["updated_at", "2019-10-09 12:24:07.761467"], ["jti", "a8955721-07cb-4399-b4f6-c2b1694360bb"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$YUqkCQPtt7dcTgt7Xraf/Oat7/9l6B6wtpzv2EGPicuIw2uvkW7dG"], ["created_at", "2019-10-09 12:24:07.775336"], ["updated_at", "2019-10-09 12:24:07.775336"], ["jti", "26bcdc72-a6b6-47b5-a660-0058964a5027"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$SaGheH1eL1yqrbd/EVubw.VvNxgSw7v4Uhb04W3c3GuOo1A7lXLfW"], ["created_at", "2019-10-09 12:26:09.832117"], ["updated_at", "2019-10-09 12:26:09.832117"], ["jti", "ffc4c27e-796b-4d98-b33a-83bb2317b2c2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$bJN0k5dH1hFpFr22UagUsuBxFVtN1dUDpJeE6LGxUSWNUJPAAIDpG"], ["created_at", "2019-10-09 12:26:09.848722"], ["updated_at", "2019-10-09 12:26:09.848722"], ["jti", "21d60f00-c68f-4f09-8fad-eaa6ec43a80e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$EUrnie55rz4qJvnVlr9YIeqL5KG00yr0/8PnaV.zEI3NGq1NqnsNa"], ["created_at", "2019-10-09 12:26:09.864248"], ["updated_at", "2019-10-09 12:26:09.864248"], ["jti", "242621bc-2467-476a-b162-fe3cf221111f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$MfRIXzsCOUbvBMqM76VQlOXzTbvIKR/8I8We/oNgfLqFW8OrspP4u"], ["created_at", "2019-10-09 12:26:09.878123"], ["updated_at", "2019-10-09 12:26:09.878123"], ["jti", "0a9b612c-50eb-42cb-b206-05e54f279f26"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$3m4tZtsXUnVRee7kYbl2dujV09ylJWnzF/fLssKcFEqMA9ZbtOUkq"], ["created_at", "2019-10-09 12:26:09.891852"], ["updated_at", "2019-10-09 12:26:09.891852"], ["jti", "b9287e38-6b18-4b61-9b67-8fe122bf0be0"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (Views: 0.3ms | ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$bspXBwnw4VehuPRXB/Xv8uSgbVXB/RAZlmxdOllYicv40BBzTZsoe"], ["created_at", "2019-10-09 12:26:49.376991"], ["updated_at", "2019-10-09 12:26:49.376991"], ["jti", "602f6aaf-adcd-4881-a4a1-e1dfc091a023"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$7UjxZZjIKecYjLP4dYUZ7.h6VhUHKEolwCs7blfuv9pApDBd/rWb6"], ["created_at", "2019-10-09 12:26:49.389706"], ["updated_at", "2019-10-09 12:26:49.389706"], ["jti", "f78b44ac-f901-45f2-a9a3-0df6c0cb28a1"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$P/iCPP0T2vJQzEkrTJH9..SpZqrn2Vv8G6Uylou5D2CBWuYTyT9Oy"], ["created_at", "2019-10-09 12:26:49.402943"], ["updated_at", "2019-10-09 12:26:49.402943"], ["jti", "720d14de-f50b-48c4-b44b-ec7c0049f6c4"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$R.OF/ZiT86bDTZl/T4YWJ.AoRAa.FldekZMfrQWuaZw9CDyL9xYaW"], ["created_at", "2019-10-09 12:26:49.416186"], ["updated_at", "2019-10-09 12:26:49.416186"], ["jti", "e35dd8ff-313c-4721-a3ad-3947fc66a74e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$Eblh9u3W65kb1BGIo/uup.VWmLRZGVe5t.pvlhEZIUWj6lJrsgnNu"], ["created_at", "2019-10-09 12:26:49.428614"], ["updated_at", "2019-10-09 12:26:49.428614"], ["jti", "39b43c74-ba83-4082-bc21-e44bf952f659"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$s.vhqpyl6wRiHvn9Y.qvYeC2lftO23Xue4GM..fUbxmjE7SE2EbdO"], ["created_at", "2019-10-09 12:29:58.445062"], ["updated_at", "2019-10-09 12:29:58.445062"], ["jti", "95a38c76-8f04-4679-96b4-5691cc6b678c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$yab.uzkehO6eIbJDYIHsw.TLMSjwxNa9r1tHgpFvG4m7hs3ffBVxm"], ["created_at", "2019-10-09 12:29:58.462469"], ["updated_at", "2019-10-09 12:29:58.462469"], ["jti", "941adc69-cff4-4668-9992-bc3c22fe2cc4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$983Qe.clf9EK5QLIFgBTjOZ.hx4EW2YNaNzENKdcklBGZIOrk.Eou"], ["created_at", "2019-10-09 12:29:58.479400"], ["updated_at", "2019-10-09 12:29:58.479400"], ["jti", "842c9867-7d6f-49b3-82b8-f633a405acad"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$OhBAm3XiKNJTWSyCRoqAquEyaLSLNLLg8sHJnCc.4m5lQHZL/S6Cu"], ["created_at", "2019-10-09 12:29:58.496837"], ["updated_at", "2019-10-09 12:29:58.496837"], ["jti", "0e1d63cb-ef49-4a9b-8e63-df5c6da9dd89"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Vl6YOJnjjP6c1DkDbc76yeSlaUtrh5H7xLdDOhFTj/sikVWxPwSE2"], ["created_at", "2019-10-09 12:29:58.514939"], ["updated_at", "2019-10-09 12:29:58.514939"], ["jti", "2f07dc0f-870a-4eba-8cd1-0ce61b822179"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$JDrzfjT7kHNq8RgU.KniZeEASUubWjdg5JhYEpUI3CmluuAfN.vEW"], ["created_at", "2019-10-09 12:29:58.529666"], ["updated_at", "2019-10-09 12:29:58.529666"], ["jti", "03d127ba-c663-4ab9-90b2-9b2069da5a72"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$SCoUKM3XG9WF1RMnCjUtteyRhr5KDIrWl8XnqY/3e8WGsr/86.mjC"], ["created_at", "2019-10-09 12:29:58.545648"], ["updated_at", "2019-10-09 12:29:58.545648"], ["jti", "fa8aef07-93e8-4cf9-8afc-72ace63f5d33"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$seoL.WO0fZEXRHByjVhOFut0jVXJ7xf90YPLqcqZh2Xao0AlYyANe"], ["created_at", "2019-10-09 13:12:40.007634"], ["updated_at", "2019-10-09 13:12:40.007634"], ["jti", "aa3bdce4-7298-415c-8db0-28a56aeeacd9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$mMlCOtKHb6rX.Ec7KElZdeVPGPc0beR9tSuUJ7aKR1uAS32uCy0La"], ["created_at", "2019-10-09 13:12:40.017990"], ["updated_at", "2019-10-09 13:12:40.017990"], ["jti", "b44c2529-f12a-4f09-85a2-4258cc445eaf"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$aJpr2txnVbo6q94HCvUZ9eakv2QZLEgsgeyRSc79rgchUyLDaaGS."], ["created_at", "2019-10-09 13:12:40.028467"], ["updated_at", "2019-10-09 13:12:40.028467"], ["jti", "98ca4c6f-a111-4755-8032-89d98b18421f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ZQvsS0Y7Mdyr18QOaKnxSOU5iHKeXJF1B/F8MEvnTyI5QBLYz1j5K"], ["created_at", "2019-10-09 13:12:40.038477"], ["updated_at", "2019-10-09 13:12:40.038477"], ["jti", "d0b3d285-8eaa-4dd8-959d-d44a8baffc0e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$JBwtC7.QChwc.JldvUT8b.KioKYNIaIbc4zhASQ2mIp8ccELC5NZG"], ["created_at", "2019-10-09 13:12:40.049134"], ["updated_at", "2019-10-09 13:12:40.049134"], ["jti", "3ae61255-1654-41d7-bcf2-1ef3de789208"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$FGnBSneTJ2WIiq62jaugYuWnpJ96u.VpmBKXgJzaUuQJ6p9Wc8ZRi"], ["created_at", "2019-10-09 13:12:40.059968"], ["updated_at", "2019-10-09 13:12:40.059968"], ["jti", "db9e7dcc-e3e3-42f3-983f-1116214199a1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$kmHziE69466zSFwjmrMYGO8OcTdyZDMZ6X9gN5b6e0PeT8lu8e446"], ["created_at", "2019-10-09 13:12:40.071466"], ["updated_at", "2019-10-09 13:12:40.071466"], ["jti", "44ca916a-db4d-4c7e-a630-503734b27524"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$9TiqR1DnX/6OWFeEaUeiZ.qL31CVKwB2rX9xHq2fdAECAwRny6oBC"], ["created_at", "2019-10-09 13:14:26.290449"], ["updated_at", "2019-10-09 13:14:26.290449"], ["jti", "e4ea93ea-f00c-46e8-8f66-20c142d8a50f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$d8lRLm6RMR3yn/xIuhvusOiOsXgra3jzknSXFTeU8qGPFHZ3cxUrO"], ["created_at", "2019-10-09 13:14:26.301385"], ["updated_at", "2019-10-09 13:14:26.301385"], ["jti", "df3658b3-f661-4f1f-8418-ff2ad0118df1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$tH6VD0rnfki1sI49zF3XmuEmYnNxiy7/R0klhcP04NqBQKiJI7K3q"], ["created_at", "2019-10-09 13:14:26.313243"], ["updated_at", "2019-10-09 13:14:26.313243"], ["jti", "c4b92edf-7291-4de3-bb84-f9b2ad305939"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$2a3peHTKO.3TWPkdPJljY.9Pp6FlSEcHu6xAGWdOA8csEvSfYc6uC"], ["created_at", "2019-10-09 13:14:26.322482"], ["updated_at", "2019-10-09 13:14:26.322482"], ["jti", "b27218a4-81fd-486f-adf1-f34e8d1e9d6c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$HzcxH8oEQPp8J/CeqjwX/O6vtsnMNc4x1LaaWDj6nm7Np4UvVW.me"], ["created_at", "2019-10-09 13:14:26.333252"], ["updated_at", "2019-10-09 13:14:26.333252"], ["jti", "afaddc1e-5217-48b8-9500-bdd98df9c863"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$mkwnETQ2GOR/c1CUC957MeVjX4IjyB9k1iWzgNw.iwhh1Yqxa.atS"], ["created_at", "2019-10-09 13:14:26.343907"], ["updated_at", "2019-10-09 13:14:26.343907"], ["jti", "d8baad44-9640-462e-aeeb-8bf0ad261f29"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$sO15YRB17REIx12T7CHMQ.BNdlONLwaQ.H9Eb/cbg/AIhCzAu5C4a"], ["created_at", "2019-10-09 13:14:26.354172"], ["updated_at", "2019-10-09 13:14:26.354172"], ["jti", "f13b7fc7-8c31-4f68-88fb-28f27e9d2487"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$5j4BrejelLeGPtBJ80TK7.p3eqENXtgrXR0.V23SFxpSfklPcQo2O"], ["created_at", "2019-10-09 13:15:12.538755"], ["updated_at", "2019-10-09 13:15:12.538755"], ["jti", "83155171-8c54-45a3-933b-fd09eabda5a9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ZJm2OA92su6aq6DNY0C3BeeGlGGKOGeng.e9FNVODSkMjTv.OsAl6"], ["created_at", "2019-10-09 13:15:12.549919"], ["updated_at", "2019-10-09 13:15:12.549919"], ["jti", "031f3517-1675-4795-9c01-f7b52e2d1244"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$ej0Q28YmpP3SvFIqDO9jxu39CEUaVgHGu9fh1BUuhxJew9iVwYRt2"], ["created_at", "2019-10-09 13:15:12.563070"], ["updated_at", "2019-10-09 13:15:12.563070"], ["jti", "5bb85492-d67f-43e7-a38f-b41338f17037"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$NXc4dzWBFTz1b9mTdKwaoOltHLLhsUT9dJl8fS/yCFuorI7OPUnf2"], ["created_at", "2019-10-09 13:15:12.573944"], ["updated_at", "2019-10-09 13:15:12.573944"], ["jti", "b999099e-d225-4b92-bf8a-48478826906c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$e12EITW0E..KqKGH5wDXne.VyPnTBeN9dnPR1QwlPJvJCRI5FG30S"], ["created_at", "2019-10-09 13:15:12.583439"], ["updated_at", "2019-10-09 13:15:12.583439"], ["jti", "c9877ac5-95a7-4a93-9bd6-015383dd66f8"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$oJu1sUVDeVK/V3DJ453ouOi.FlKlA03hoHgcTTQ347ngbp4vYEaTu"], ["created_at", "2019-10-09 13:15:12.594513"], ["updated_at", "2019-10-09 13:15:12.594513"], ["jti", "381db45e-7d4a-434f-af5c-4e702213bbaf"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$oZGuTJmo/x0IcT4.sh.aLe6VF7GKoXLJOE2CQ5MYmPWfiZdYTubJi"], ["created_at", "2019-10-09 13:15:12.603729"], ["updated_at", "2019-10-09 13:15:12.603729"], ["jti", "84d016a3-1196-4d18-857c-ea8f9a72f010"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$3S8AfKQlunuPo4dPpOp0GuW2Wn3JZ8vchPay5.dNV2ug9xD1Zaqee"], ["created_at", "2019-10-09 13:15:29.565322"], ["updated_at", "2019-10-09 13:15:29.565322"], ["jti", "43dbeeaa-b446-47d0-89cf-a9e6f21a9b9e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$6R/xXG2WJRuQ21IxDsYgROWN3tZPWE80ZCdp8yc2sWv0kJDYPQ/jW"], ["created_at", "2019-10-09 13:15:29.576219"], ["updated_at", "2019-10-09 13:15:29.576219"], ["jti", "11ad6d35-a097-48e8-8424-7df645870a23"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$HUpZuNV8AgZEHUdDdkDQPeNvnakShiPmd91oBxz.RZk69IPb7rIxO"], ["created_at", "2019-10-09 13:15:29.585512"], ["updated_at", "2019-10-09 13:15:29.585512"], ["jti", "ed24c9fe-11ae-4b15-985b-e1f6c4f659df"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$I/IthTUcA8jx4CNb9krrROUaX2aGQwxetQhNIwqhTXvX4HmPo2lse"], ["created_at", "2019-10-09 13:15:29.595978"], ["updated_at", "2019-10-09 13:15:29.595978"], ["jti", "3bf0dde5-cb52-4bf7-a447-cd921f0c2ee9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$hJpyIx5.FINtdkjSfZTWMuZ0y62GfN1fnES/s33SeNM4PQYq5kOM2"], ["created_at", "2019-10-09 13:15:29.605159"], ["updated_at", "2019-10-09 13:15:29.605159"], ["jti", "e680ead0-72a8-4aa6-8c88-4899b311a857"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$C2YtzQtbxKrQXMOxPhhd6.ZYy/uEXiGNJOGz2eMBG7.k8dXlflcJW"], ["created_at", "2019-10-09 13:15:29.615846"], ["updated_at", "2019-10-09 13:15:29.615846"], ["jti", "e97f0bcc-d93d-4df5-843d-3bb91ce957f3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ELL.9IxHH4KZ69xaTn0jOuqNGTxlbzhWMKVEGncPhly0xxjcckJUq"], ["created_at", "2019-10-09 13:15:29.626933"], ["updated_at", "2019-10-09 13:15:29.626933"], ["jti", "cf69881b-caff-4eb0-a761-ea15487d9cf3"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$a4B0cZAHZsmFUTSWrs2c0.j8WDPuDwZwba5SSCy1f5VIp7BqyNYlq"], ["created_at", "2019-10-09 13:15:58.503806"], ["updated_at", "2019-10-09 13:15:58.503806"], ["jti", "e8d1e56c-6d5d-492e-85c3-95f2c4f0338c"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$qLie.XOqhekdnRSVt856t.jnwhWOxVtYkmbs3JPOK1mrGpcxII8bu"], ["created_at", "2019-10-09 13:15:58.515180"], ["updated_at", "2019-10-09 13:15:58.515180"], ["jti", "e0585fa1-4ff3-4f23-9685-fd2c579de5a6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$YMXkRcQZMm/lRqQBB4fkLerCO/.VVyrihvZocSFd73lMX.CLf5q2O"], ["created_at", "2019-10-09 13:15:58.528779"], ["updated_at", "2019-10-09 13:15:58.528779"], ["jti", "056b890d-646b-446c-9f07-b6451207e2ff"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$mmBciZ.DERmyI2agkPP6duEwUWUEZOeRBETEpXEmsedkjomOYuhRi"], ["created_at", "2019-10-09 13:15:58.539395"], ["updated_at", "2019-10-09 13:15:58.539395"], ["jti", "879cb14c-b08e-499d-a696-520d76312b94"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$V6ioZ7x9o6eLdoO1qEDcaem9CApdUvQi8ZMM/ueNXwGdMXe32uNMC"], ["created_at", "2019-10-09 13:15:58.550287"], ["updated_at", "2019-10-09 13:15:58.550287"], ["jti", "e734725a-8da6-463c-b4e4-c68f10943a9d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$H.WDxuY8uNKIiAdUVyNNb.QhY3NroKvas48xMiYW/ulMAqKUh1T.a"], ["created_at", "2019-10-09 13:15:58.560978"], ["updated_at", "2019-10-09 13:15:58.560978"], ["jti", "d49d17b0-d689-43bb-89c1-199e0b3ab2cd"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$00qJac8B8bLkum6Kf2MVpOIN/VjAiXEyY0LP1PHVf8VFNRXRzIJmq"], ["created_at", "2019-10-09 13:15:58.570290"], ["updated_at", "2019-10-09 13:15:58.570290"], ["jti", "51f202de-2c50-49ef-bab5-4325232cfcb2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 8ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$V3knB6po2m0l4XaTSYiWHOPqO6nxFfKNqZtdvoxbE44MjO1ntetRG"], ["created_at", "2019-10-09 13:16:33.667292"], ["updated_at", "2019-10-09 13:16:33.667292"], ["jti", "c011d224-508d-4c12-844e-bffd8d1c6a32"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$i0QNAjoj5TyUAVU.LFgwv.Mv15QfkFi88Ez5jUV9iv92AfDySx9xK"], ["created_at", "2019-10-09 13:16:33.679081"], ["updated_at", "2019-10-09 13:16:33.679081"], ["jti", "e6042e30-078c-4117-8e04-7c70a43869d5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$nJxIVxsidAfrf1MRVlN8T.poHPFTrxbl.9tLVXoGos49waCcmi2O2"], ["created_at", "2019-10-09 13:16:33.688254"], ["updated_at", "2019-10-09 13:16:33.688254"], ["jti", "bce488c1-5efb-4d0e-af39-6bdb44ada409"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$BUSqPgDLsrcEg/zdX5DYv.vbFA51Y7gy8X1irgMuFdd./TvCU84.u"], ["created_at", "2019-10-09 13:16:33.698561"], ["updated_at", "2019-10-09 13:16:33.698561"], ["jti", "9b58f6bb-81bc-4c12-a4c2-afaa49ac8656"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$WZARkWD7YbmdtY7/y9XwzuB5syS.yDO3LaiWle3.c3C1A0RpZOSPa"], ["created_at", "2019-10-09 13:16:33.707793"], ["updated_at", "2019-10-09 13:16:33.707793"], ["jti", "891c0dab-864a-43cf-9ea5-1407091afebe"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$kNBGI8HMFofDKbTNK5RS7e52rift/PrpHMuT1u4JKuYHYT8pfuJTi"], ["created_at", "2019-10-09 13:16:33.718099"], ["updated_at", "2019-10-09 13:16:33.718099"], ["jti", "019f480b-cddd-41c5-a29e-acc07408e8ac"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$j0dTbLgK.4tYgYcjC7/ikOn5tpu4wqsLFiJkGgjv1JS92klYiZdaa"], ["created_at", "2019-10-09 13:16:33.728623"], ["updated_at", "2019-10-09 13:16:33.728623"], ["jti", "88d3311d-c2f5-4a2b-8696-f8150fca3e2b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$/sY99qgMr.vnaHYzwerXreN5G4m/3QbkJiy4113fnbTIRjiHb6lLe"], ["created_at", "2019-10-09 13:18:06.802836"], ["updated_at", "2019-10-09 13:18:06.802836"], ["jti", "9264f514-7f3b-4f2b-98f9-c5609bd0110b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$.1kZIZyQNZUXBvgk/ldrN./hUZvd2HRurVVdG25oEzHSvVRciiOl."], ["created_at", "2019-10-09 13:18:06.819615"], ["updated_at", "2019-10-09 13:18:06.819615"], ["jti", "93575199-acda-47f8-8a3e-7d69b28d69ba"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$SpWKlaYMsjRtlOfVmivDjueuxEeUiQjcmxdV3iY5jIUofEugkJiE2"], ["created_at", "2019-10-09 13:18:06.833973"], ["updated_at", "2019-10-09 13:18:06.833973"], ["jti", "ca004591-53ab-4c95-b0ac-23baa5515db2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$kpGT1Qf9PxqSN/seUfjJNeYQdiZBGs6F.MVcSEJD5lesG4GFr.vD6"], ["created_at", "2019-10-09 13:18:06.847037"], ["updated_at", "2019-10-09 13:18:06.847037"], ["jti", "6512a2df-8fe7-4b44-bd3e-276bb7e95d3b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$G7Ga3DDp/VbH39JxEoJW1OvQpCpOBqgtSgxBl7ecXXYGYjK0Ivsvq"], ["created_at", "2019-10-09 13:18:06.861171"], ["updated_at", "2019-10-09 13:18:06.861171"], ["jti", "1705dae7-8c18-42bd-b3a0-56af5ccfa5cd"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$odrvmMRlIftOnzewEo6.MuYFfEkCLQApfK0mXOlTqHIa9iF450j9u"], ["created_at", "2019-10-09 13:18:06.875296"], ["updated_at", "2019-10-09 13:18:06.875296"], ["jti", "9418137d-8128-45fd-a056-8aa88fefcd6f"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$IC5XSyKItd14MLtC75kjsOedh6YKXVDXRYtBmi/KwtZtWEYGJKM42"], ["created_at", "2019-10-09 13:18:06.888551"], ["updated_at", "2019-10-09 13:18:06.888551"], ["jti", "b8397346-c9c3-4853-a92a-592a3ab6f75a"], ["role", 0]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$lPBeXz3hb5QOZKhOL7M90./v5PORFq6y8XciBHxDYQra53zDjZzr6"], ["created_at", "2019-10-09 13:18:14.237387"], ["updated_at", "2019-10-09 13:18:14.237387"], ["jti", "e5730407-6b4b-42ef-b331-d382114dcd0a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$UXa6LYi7ewPIhQq/mqeuQOISmnxuO6r6cM8V4nuyIhUUjdK1ATW4C"], ["created_at", "2019-10-09 13:18:14.258442"], ["updated_at", "2019-10-09 13:18:14.258442"], ["jti", "c6d6e87e-77d9-43d6-b8df-58776c46ef13"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$MLsiciEfUL.ktnrOUW5NlOrmZT3fEG1Uk68oGjfAh1315FCSdHoJe"], ["created_at", "2019-10-09 13:18:14.271448"], ["updated_at", "2019-10-09 13:18:14.271448"], ["jti", "1f2972e0-04d7-4a96-9342-42b22c577924"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Gfw9ApnMK8pT7dVzXKbHPeyssPyo102OzZg93/QPVmztBKl6wL2A."], ["created_at", "2019-10-09 13:18:14.286854"], ["updated_at", "2019-10-09 13:18:14.286854"], ["jti", "238b25b6-328a-4255-ba30-ad1fd636e6f6"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$IArcpa3piAR3epQnGi6mH.5YaaFnpl94If0qSRECjCqOwDPaW55SO"], ["created_at", "2019-10-09 13:18:14.301724"], ["updated_at", "2019-10-09 13:18:14.301724"], ["jti", "9d6fce7f-2b25-41b9-aa49-bac31a763290"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$C/TgbkNH2JA8z9B72X2B..Uy5rdW0OU.Z.UDN5NJPVDSKxk/l4eJq"], ["created_at", "2019-10-09 13:18:14.318215"], ["updated_at", "2019-10-09 13:18:14.318215"], ["jti", "79c33a46-27f3-4e23-b560-11a053d27f3c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$vPF4XRUHVAP69kPTC6aOH.h4VrEC1cRXDivaNJxiKJ74POcyTvVRG"], ["created_at", "2019-10-09 13:18:14.336264"], ["updated_at", "2019-10-09 13:18:14.336264"], ["jti", "31801882-5381-435d-bf60-1f46d55269e5"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$JK4gRm7cPwv9N5WC2g9Ft.Gjf4aV0WypbkGZ2kWndjsFLCTQarWEq"], ["created_at", "2019-10-09 13:20:31.512441"], ["updated_at", "2019-10-09 13:20:31.512441"], ["jti", "febdaca3-ab2b-4895-b0f0-32565ef97c73"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$QBghhJAMfEWLjVxh3mr5rOR15MkjF15V3FBp/6MlWeeYxdBhMapXi"], ["created_at", "2019-10-09 13:20:31.524708"], ["updated_at", "2019-10-09 13:20:31.524708"], ["jti", "9cb659ff-1c5c-49bd-9a48-e65bee5b3c5c"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$U6Wupfbp9wAWZ0GzlZClCefwifO5usCz1E122aGjgAnnTM3DnxC6C"], ["created_at", "2019-10-09 13:20:31.539332"], ["updated_at", "2019-10-09 13:20:31.539332"], ["jti", "e89e9752-d1c0-4853-9ce2-b5e408e07fba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$j3Ye2R5omFHsec3XIbP9SeUlXQNQTSmXiOXufKJQTlXNdB1vbGPCe"], ["created_at", "2019-10-09 13:20:31.554448"], ["updated_at", "2019-10-09 13:20:31.554448"], ["jti", "fcb11370-8063-4971-9864-953f72b88852"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$ZDhT4Jtql3UBdlxAbV2BdODSmF7FXIbyMe7nuPUkFlpFDgKL.Z.uu"], ["created_at", "2019-10-09 13:20:31.568986"], ["updated_at", "2019-10-09 13:20:31.568986"], ["jti", "16a6d9e5-5ccb-4177-9fb6-01a3980a7942"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$CEfd/gzUszHPe8eY/RT3GufCEJJMgx4cFtGqv6YEa0a9aqaPi8VXu"], ["created_at", "2019-10-09 13:20:31.583090"], ["updated_at", "2019-10-09 13:20:31.583090"], ["jti", "40983f5f-3568-45d6-852d-5d8c873c3ba2"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$v68/r3J4xLoprcLSyJ4o4.fVBBzx37iyToYy3QxriTR.zBobSc8.a"], ["created_at", "2019-10-09 13:20:31.597339"], ["updated_at", "2019-10-09 13:20:31.597339"], ["jti", "0899ef4d-bf22-4532-8411-a615bcfff72b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$9QhhjFoQxiIe/sx1B4.r7.SNyHfUBphSLaUpYqaA5i9Szc749Fa1K"], ["created_at", "2019-10-09 13:24:50.134231"], ["updated_at", "2019-10-09 13:24:50.134231"], ["jti", "3b9f4fb2-dc84-49ac-99df-5827be1f15ed"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$DpPhImdxEZ9iBN5fj8lOmO7xhslw580TFwZPYeZFCLs.LMX2TeMTy"], ["created_at", "2019-10-09 13:24:50.146613"], ["updated_at", "2019-10-09 13:24:50.146613"], ["jti", "b11cbcaf-5d9b-4f04-9f93-35ac06f98203"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$kuWdzI0L0jLf8u4cdlZzUuDOETNRfYSsB6sODLvpbf8QoWvldVP8O"], ["created_at", "2019-10-09 13:24:50.160586"], ["updated_at", "2019-10-09 13:24:50.160586"], ["jti", "0144192c-eea0-4694-8c11-ee06fab96b63"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$kJ5ZMXDzKm14OJ7bj31/wuOVS69CAiBas/rESCmgUjmjkFauzoUGK"], ["created_at", "2019-10-09 13:24:50.175939"], ["updated_at", "2019-10-09 13:24:50.175939"], ["jti", "472a54c6-70e6-431e-bffc-bbb63bd3affe"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$kNOA3t9geXERo5oaQNrtr.OMOgHSTPy0TfKI97/ApUciPq0UQXoXq"], ["created_at", "2019-10-09 13:24:50.190827"], ["updated_at", "2019-10-09 13:24:50.190827"], ["jti", "e33b2247-a148-48d1-b45b-fbe473e4651d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$pDvNqWHomISM/lY4MHY1UuXxRQsM.hvVWdG/FQCRyeEq7N9oyqMQe"], ["created_at", "2019-10-09 13:24:50.205194"], ["updated_at", "2019-10-09 13:24:50.205194"], ["jti", "7ea09625-3d6f-4cc3-a70d-9f9df0d8ca4e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$eS52PWYYtDtvTkxF5kUGEuZ78Qz.QqowqUeqho794pCEjWv3bNuJK"], ["created_at", "2019-10-09 13:24:50.218611"], ["updated_at", "2019-10-09 13:24:50.218611"], ["jti", "3a324718-13c6-4580-a279-f88f7415a482"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Le98fOT/tW0VMaabDeMP9uVZmN5KUxrIhHHaZs.CcxlrUeQle73ka"], ["created_at", "2019-10-09 13:25:15.803716"], ["updated_at", "2019-10-09 13:25:15.803716"], ["jti", "7e2bf656-0bf8-4a8f-b533-698a76bd4e0f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 16ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$S8LGs48OsOvrmw76TSKFpe03JaZsYPebLzMqciL8b9khyCv0MFmSK"], ["created_at", "2019-10-09 13:25:15.833932"], ["updated_at", "2019-10-09 13:25:15.833932"], ["jti", "1996f8de-df29-4302-b675-f0c68a936fb4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$PWM2kQmNJfSnrmfElt5nFOlu1weud9VhV56.I6qc6N24hoGW/V4MW"], ["created_at", "2019-10-09 13:25:15.847150"], ["updated_at", "2019-10-09 13:25:15.847150"], ["jti", "d8833558-7f4e-4f90-b5af-669585471b5a"], ["role", 4]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ipuZNr0nTMRCMVai35gOde5gvkhq9A98RKqOXIrn8QXMQD3rUy.Au"], ["created_at", "2019-10-09 13:25:15.863816"], ["updated_at", "2019-10-09 13:25:15.863816"], ["jti", "c7260ce6-3559-4ce8-853e-e36f8d0d399e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$diNRXiaIydst3HVYpPR.Vun2CXANMhWT3JnGEJD7u4nc8/93QXJIe"], ["created_at", "2019-10-09 13:25:15.878890"], ["updated_at", "2019-10-09 13:25:15.878890"], ["jti", "cf1faca5-002a-4dc8-8399-8c442e39edf1"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$.H7LXFtFtLlYHXymlQirneSs5j3xHcW.EnYy8xnXb4o/Ci.koBs0W"], ["created_at", "2019-10-09 13:25:15.894161"], ["updated_at", "2019-10-09 13:25:15.894161"], ["jti", "7495cea8-e047-4a4b-b989-4d109553839c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$2a9.qFO2hnimSHlC6OdmaeTjFsOO5kiOH87ZRu9eL35L5XKGht5mW"], ["created_at", "2019-10-09 13:25:15.910279"], ["updated_at", "2019-10-09 13:25:15.910279"], ["jti", "55dbe3a3-88b2-43a1-9595-cce225f3b4fa"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$QpA9YNMlJSMlNFbiFfQy.OgVoiJlvOBDbVW3GRXbsuZex6R4iPS4W"], ["created_at", "2019-10-09 13:25:28.076310"], ["updated_at", "2019-10-09 13:25:28.076310"], ["jti", "468535d8-9bf8-468b-a4f6-f0a8bd95363e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ll/Yj1HUOGpENCjmKKsiYObL.tz8ctDvqvjcKT2K8jzLqZS5e4rTG"], ["created_at", "2019-10-09 13:25:28.088235"], ["updated_at", "2019-10-09 13:25:28.088235"], ["jti", "e3a1809f-6748-4874-86f5-7e416bdb4a52"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$07VaUtzszgZvLDkFE5Nq6eyDmt9oYMZVxp/Nr7j9.709y/CByz3Ei"], ["created_at", "2019-10-09 13:25:28.100723"], ["updated_at", "2019-10-09 13:25:28.100723"], ["jti", "3b8f22d5-8359-4540-a79c-16a0b6744aba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$AaVI9AACBi21TMfbqnyE7OzEYmIQBaLCfWSP.to28izC7dmEcutDe"], ["created_at", "2019-10-09 13:25:28.112877"], ["updated_at", "2019-10-09 13:25:28.112877"], ["jti", "5ca3f68c-06d2-4163-b486-687b7b53e570"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$VGdzuWBFxcAuCvqU2aY30.RHtjSFwMLF04qzzIpSAB2Jy6KlK2AdS"], ["created_at", "2019-10-09 13:25:28.125242"], ["updated_at", "2019-10-09 13:25:28.125242"], ["jti", "af349ceb-8299-4c60-801a-d7d539b0002a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$NLD8uLndtn.r6.9IXQJG/.st7KtZvOCVduMyc7NUpt6t2hqnPfPv2"], ["created_at", "2019-10-09 13:25:28.139538"], ["updated_at", "2019-10-09 13:25:28.139538"], ["jti", "8ff6c1fd-df17-4303-bdae-6a5cdc7c73ed"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$w3PLfm2OHq52g1rTOvRz6u2dC/3G5Xe.V8r23v769v5YUGpgdCTJ6"], ["created_at", "2019-10-09 13:25:28.152641"], ["updated_at", "2019-10-09 13:25:28.152641"], ["jti", "d64b7f07-0c96-404a-8d50-ed176c9be241"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$umEgeUQKDwbRT45yewFP4u5jvCVAvlAV.8I7wHXEoRAA23Q/II7pm"], ["created_at", "2019-10-09 13:26:40.656209"], ["updated_at", "2019-10-09 13:26:40.656209"], ["jti", "ee1f7135-8c19-47e6-9f09-2efa3c4abbba"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$0lRPCuBHXETeA3uQoeAYlO0BhVQdURBytDyzCKezhG4u.A.TIKFpW"], ["created_at", "2019-10-09 13:26:40.672470"], ["updated_at", "2019-10-09 13:26:40.672470"], ["jti", "ed107b5a-a98d-4a41-adff-21324ffc501b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$OO8URHViZLqD8QlzRWqWVu2kx469vE5llIWlMJrbloy6Qgj8eIeLG"], ["created_at", "2019-10-09 13:26:40.686827"], ["updated_at", "2019-10-09 13:26:40.686827"], ["jti", "586d32cf-85de-4144-a8ca-0a831e15b6c4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$DTBvxpWs8.xG8CyrLl87cuHrntGo1Gkq9y7e4slMklPKNaZ2b5XPq"], ["created_at", "2019-10-09 13:26:40.701747"], ["updated_at", "2019-10-09 13:26:40.701747"], ["jti", "2d4a1764-c03c-4891-bd64-6d673df2cecd"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$PYbR8uXsc2VqS/DImQj/LObWE34iVSXLzNsBiKJg9Yn.cwuOs2ZgW"], ["created_at", "2019-10-09 13:26:40.714371"], ["updated_at", "2019-10-09 13:26:40.714371"], ["jti", "37d64eae-123d-4c69-9827-9abb7e64a707"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$2iwPNv0DryGNbCK4XIbvc.Np1u6G3g7vSGxVaFpfA6PZ0gxLX/jS6"], ["created_at", "2019-10-09 13:26:40.728447"], ["updated_at", "2019-10-09 13:26:40.728447"], ["jti", "fc98f362-d0af-413d-bf59-556f5ea35b0c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$FPOjCQ0DrizYGDHVv4KtWODycRpQyNSmCqPz/oVvOAyFfLJfAsZ5K"], ["created_at", "2019-10-09 13:26:40.741699"], ["updated_at", "2019-10-09 13:26:40.741699"], ["jti", "16545222-b09a-4fd6-9116-ca7ca1c26ed9"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 24ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$amwdQnKpLmkpfKRx9UGvruFoGp00y3759..qlhZSrMo2OVIAoTGue"], ["created_at", "2019-10-09 13:27:16.617854"], ["updated_at", "2019-10-09 13:27:16.617854"], ["jti", "389e38fb-7ff9-4e32-b002-3944a95a6be2"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$2cfJT1LeA.4WfQReEnVqz.LI1LGBw6CWVTVgh5Rri.SXnRyIJ6Zwq"], ["created_at", "2019-10-09 13:27:16.633170"], ["updated_at", "2019-10-09 13:27:16.633170"], ["jti", "66e1f468-5097-48d5-99ff-99010941e6b4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$hI/5mpQyXt6wtwxC94it1.XDx6wi9KVAfR4cSOR4jzk3CrHNheLDu"], ["created_at", "2019-10-09 13:27:16.646639"], ["updated_at", "2019-10-09 13:27:16.646639"], ["jti", "aae11d28-6b2a-46cd-ba0b-aeddd0ccfc7d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$8i9vyxC.BXDL4a0aEk4FNueEYlLd4iwNJTbbcFEsNyeNcayzOiXYa"], ["created_at", "2019-10-09 13:27:16.659941"], ["updated_at", "2019-10-09 13:27:16.659941"], ["jti", "2a5684b9-3ff4-4dd9-bc10-3669598b5995"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$M9ucV3mVFdl6WGADZQdFKeZLilLYidG4HP9HzRzbxlDXWg54fL97G"], ["created_at", "2019-10-09 13:27:16.676753"], ["updated_at", "2019-10-09 13:27:16.676753"], ["jti", "111e8f02-356c-4acb-b2d1-d0457993e0d8"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$I.Zo8dDPafuj5Mi9kk9iZOmQTVpx7sySysQuzwQP3Jn9ZqKyeknVG"], ["created_at", "2019-10-09 13:27:16.691106"], ["updated_at", "2019-10-09 13:27:16.691106"], ["jti", "8e0dccdf-fb72-4aee-9bfb-4144f347eff3"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$.7O/wJRxOeJoZq5EYPLFseOUjC.esAX/2se03IyKAwC0S/0t3C6lK"], ["created_at", "2019-10-09 13:27:16.705550"], ["updated_at", "2019-10-09 13:27:16.705550"], ["jti", "dae05da3-c8dd-4123-8eca-28fad2a3b663"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$/mHZedd7sFwYH71RGXNst.2WPnEEewzIAfSE/hdukP6pnJnrYr/U."], ["created_at", "2019-10-09 13:27:30.103136"], ["updated_at", "2019-10-09 13:27:30.103136"], ["jti", "c3c081a7-2981-4dbc-b03b-9adb5d9e8ff9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ZXoPTTMh/iXrU.HTKiSOd.dZmnTJFegA6NW0jUdQNXBE82mTlnCsq"], ["created_at", "2019-10-09 13:27:30.115480"], ["updated_at", "2019-10-09 13:27:30.115480"], ["jti", "1dde584d-d291-4079-8259-e50b1e96a3ff"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$XF2TWHjxQ.WUmGU7sIP17erOKtR8d1P/RphSYHMXyaoTQjCuM4bT."], ["created_at", "2019-10-09 13:27:30.128532"], ["updated_at", "2019-10-09 13:27:30.128532"], ["jti", "f86c43f6-df27-43ef-9e6e-acf5d3d04049"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$jgCxV1bIqnwQiMjcFszt8OOfgxXlNhKZY1SjBgHRebJdxmF3z/eSK"], ["created_at", "2019-10-09 13:27:30.141581"], ["updated_at", "2019-10-09 13:27:30.141581"], ["jti", "781372c1-b237-456a-9f69-ec495d1305ee"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$oMi2eimTXk1D4M7NWYshQunUPZSbCEwYqmxCGPBusJOL0RUr5LsBm"], ["created_at", "2019-10-09 13:27:30.156767"], ["updated_at", "2019-10-09 13:27:30.156767"], ["jti", "366a8dca-12c3-4fa2-979d-929bd8151ce1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$AB4hSBm04a5uah8idjZGVO1wflsjXZdq4Lhowv1UjAcF8m1M0gRcO"], ["created_at", "2019-10-09 13:27:30.171301"], ["updated_at", "2019-10-09 13:27:30.171301"], ["jti", "816cd379-4b62-4c9a-ad6f-1e64e14b383c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$yAvKIbYvhCNc8nCibLQTUehvqmUOl8cSmH2I2O4Zo.kwDRoxuhmpK"], ["created_at", "2019-10-09 13:27:30.186748"], ["updated_at", "2019-10-09 13:27:30.186748"], ["jti", "16d10ec9-9d55-4666-9404-6d1c9673bd3f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$DPU4czS72G59Pm0ZKq5z4OiZzG0veXNthiN6qknUGFdEOgIN8yFCS"], ["created_at", "2019-10-09 13:35:41.394200"], ["updated_at", "2019-10-09 13:35:41.394200"], ["jti", "92ec7a32-5357-40ae-8901-4d27ad2dde8a"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$DFX9C4r10VjjXsbJWjbuJuqrJc84.wVICd8oP57d5cC5Isj575R1u"], ["created_at", "2019-10-09 13:35:41.406209"], ["updated_at", "2019-10-09 13:35:41.406209"], ["jti", "6be01b8b-569d-40fc-b8dd-0baebf1cbf23"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$hzZBynQnSyVCMe3Bd6M/tOrogWJ7bboaGpWDb7CqAUY6GqBGwcMK."], ["created_at", "2019-10-09 13:35:41.419419"], ["updated_at", "2019-10-09 13:35:41.419419"], ["jti", "f349fe41-f1d7-4244-aec4-4e5453d6ce49"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$LH3zaZlDYJ1Rq6.J.zSu0uG9DilrRzLbmRzf9YFhie8tDa64L/oke"], ["created_at", "2019-10-09 13:35:41.431644"], ["updated_at", "2019-10-09 13:35:41.431644"], ["jti", "5d3e832e-a0ae-4b71-9792-32517189dbca"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$wWM7HnDoD3ay3hHNkSzxs.MiY/AqTrj088.TotuuIBd5XIeCpGfx2"], ["created_at", "2019-10-09 13:35:41.443864"], ["updated_at", "2019-10-09 13:35:41.443864"], ["jti", "87bea9b5-98b1-4271-a451-5662b8508c84"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$3hsjub6sWCJ6e2R4z4Ut1O3SU4Ts4k4.nP3gmUr.vWvGMaufzS0am"], ["created_at", "2019-10-09 13:35:41.458674"], ["updated_at", "2019-10-09 13:35:41.458674"], ["jti", "5ef19279-a46a-4399-a3fe-b76ac598b058"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$RcVqEM9V/A7Nz.i/0ctKEuw03qL/u36UPHvrN68K1GQWmZUbe52xe"], ["created_at", "2019-10-09 13:35:41.470853"], ["updated_at", "2019-10-09 13:35:41.470853"], ["jti", "bfc96e56-4dce-4942-b83d-30b4c8aada3d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$dfY/t3gK2P1334uJyhjXq.UKNVPA9cQ7Kau27XhKcUtuGyuFTMFwy"], ["created_at", "2019-10-09 13:46:32.444210"], ["updated_at", "2019-10-09 13:46:32.444210"], ["jti", "4a2fb898-049a-4408-9daa-3407a2fdada9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$aMYMf5YgQswuRBJM5kXzLu6b5LL/k.eLFk3SpUGl/InkedaCY1QQu"], ["created_at", "2019-10-09 13:46:32.457570"], ["updated_at", "2019-10-09 13:46:32.457570"], ["jti", "75c23f1f-09fa-44fa-b60d-bf0aefdd93c7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$rF5nmE5MuGoIUAeCg3BV8OTm4v2cCoJPxb9ctOtAsJietm4GrUr9G"], ["created_at", "2019-10-09 13:46:32.473365"], ["updated_at", "2019-10-09 13:46:32.473365"], ["jti", "0a60a073-90ae-47f4-ab50-b832e9f96d63"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$KpHHMjNOZaln3C0K1T7qJej2SLJyrIYinBG6mXGKezE5qZt7Ow2e6"], ["created_at", "2019-10-09 13:46:32.485158"], ["updated_at", "2019-10-09 13:46:32.485158"], ["jti", "3a0eef34-aa68-4f9c-9652-1e7b6fe491fc"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$APDbQPPU0/00DFnP2IQI1uS6AB4VQqy37C1YR2wX3QsnG0uCtHZvG"], ["created_at", "2019-10-09 13:46:32.498274"], ["updated_at", "2019-10-09 13:46:32.498274"], ["jti", "15401a3c-d3e5-43df-ba62-992f8241d484"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$DHxIQZ9tjkgyFODzGvwpCudWa0r6JjpDMGogYyVFn0Vbj4ZN6C1TC"], ["created_at", "2019-10-09 13:46:32.510284"], ["updated_at", "2019-10-09 13:46:32.510284"], ["jti", "cd2fec37-87e8-4a13-aee0-6d03d2ff6265"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$udDSC8UzZ2ULhXmvxeAn0uSOF36eT0jkGZ7RehBefSeOlMflMd.za"], ["created_at", "2019-10-09 13:46:32.522336"], ["updated_at", "2019-10-09 13:46:32.522336"], ["jti", "a7252295-a5f2-4976-91a4-a55013e15885"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Zhe6bYOiyhkL87Rc.M1wz.N2nxzxRGeQO47J5DN5axAPoJyARvwIO"], ["created_at", "2019-10-09 13:49:50.253867"], ["updated_at", "2019-10-09 13:49:50.253867"], ["jti", "30e7d460-c870-4e08-995f-4c76f672ed26"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$B6kmI3IjpK5pm1dFGKS3cO/lkrLmDdSr3nC69D5Z3Ib1u5ZsxFBQ6"], ["created_at", "2019-10-09 13:49:50.268101"], ["updated_at", "2019-10-09 13:49:50.268101"], ["jti", "f1a6f926-875f-4680-a58f-b4c62fd6706d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$oXoNEdxx3KJ4Y7TXq0oaFOOdcfXFSTH4nEqrcYFGfpx0zzxew4x2e"], ["created_at", "2019-10-09 13:49:50.283873"], ["updated_at", "2019-10-09 13:49:50.283873"], ["jti", "ed03301a-aa2a-403f-bd37-38168497d4f1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$oIvHoK2hEKx1gxiA1dnFOeb/qQrIBWsKTXdqRtbc/nM20KV6jgd4i"], ["created_at", "2019-10-09 13:49:50.298282"], ["updated_at", "2019-10-09 13:49:50.298282"], ["jti", "e44d7342-248d-4fa3-9c38-7216f7a9c25f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$J7t1EwtrDaRUEBtFIAZQ4OxV0cpmDrEyN9xXI0grXysFEtiFPP/4."], ["created_at", "2019-10-09 13:49:50.313170"], ["updated_at", "2019-10-09 13:49:50.313170"], ["jti", "77968cf5-e876-4c42-b911-839fee303b9f"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ZdNUaF9OMBE8fQTBJPLv9er5bw/K186xLa2Rfrd3ZA5snJucbj7Hi"], ["created_at", "2019-10-09 13:49:50.325726"], ["updated_at", "2019-10-09 13:49:50.325726"], ["jti", "700cf3e5-5d39-4b6c-a02d-202f30240830"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ZZBiM8oo69imZcTynEm9yOcMIftVk7RyFwJ6Rwi.a8uYtC2fy8zjK"], ["created_at", "2019-10-09 13:49:50.340031"], ["updated_at", "2019-10-09 13:49:50.340031"], ["jti", "7352d51a-3e96-4704-b7ad-c39b9fa00bca"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$w5warqboXV623BPYdYHMbeOID7BqipZ5MRQDd0kyO6vX.cxxTqntu"], ["created_at", "2019-10-09 13:50:44.895282"], ["updated_at", "2019-10-09 13:50:44.895282"], ["jti", "260e98b9-8d7d-4bcb-bb53-7b16592ae527"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$bGgn6VPCjna6sTE3nONOgesBAzY15CKKNqC8EqAflanOzF9JB2dwW"], ["created_at", "2019-10-09 13:50:44.909636"], ["updated_at", "2019-10-09 13:50:44.909636"], ["jti", "7d07fe01-e969-485d-97a7-bc34fe54aebc"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$U4bcw6/AhK.hKqtThEoDzup/iZzhUgnqC91fUtHZLRsFVl7jEe7xK"], ["created_at", "2019-10-09 13:50:44.924072"], ["updated_at", "2019-10-09 13:50:44.924072"], ["jti", "2bdb46af-daa3-4c41-b240-96760ed098ef"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$PnqHEb7JQ9UDFNZ8uYwwZuxtWpXQ3G18/ax4wdL6/vF4KyJpNKtb."], ["created_at", "2019-10-09 13:50:44.938383"], ["updated_at", "2019-10-09 13:50:44.938383"], ["jti", "e714c109-41b9-4603-a38f-0732b83daff6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$haA5pdXFqXPhaLBqfdfGPOCyiRmsE3bgT6EqKoIkfUyZMa2dLid3y"], ["created_at", "2019-10-09 13:50:44.951564"], ["updated_at", "2019-10-09 13:50:44.951564"], ["jti", "6dd6d0e7-52b4-4d60-a248-8f299b662bf1"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$KBnxB95xdWEqMavddlo5yurSN3ePBTtYPG8rguzZhv0aO9JCU85qG"], ["created_at", "2019-10-09 13:50:44.963147"], ["updated_at", "2019-10-09 13:50:44.963147"], ["jti", "e69a2dc4-92b6-4048-8716-495e001f1e58"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$F8LYanJXZK5NnkZcB1FEFuilrbbc79jBZUkXSeTBx/O/sdSSyU3aa"], ["created_at", "2019-10-09 13:50:44.976636"], ["updated_at", "2019-10-09 13:50:44.976636"], ["jti", "17584e12-61d7-4e85-9cc2-da4caa81c00f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$CWeEzwhUQvFQnuC6XxmQ0ezb7/XTd/XLROn2eOiMQw51TQhiQZ4/W"], ["created_at", "2019-10-09 13:51:34.183599"], ["updated_at", "2019-10-09 13:51:34.183599"], ["jti", "45845d5b-04b6-47f8-8649-088f2b8aacdf"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$g1i6ZuPTLdOanjiYe3pGNuIOgsoK4sD4oilN6eMMH.IdaLjicazq6"], ["created_at", "2019-10-09 13:51:34.198436"], ["updated_at", "2019-10-09 13:51:34.198436"], ["jti", "0b7ec38d-d478-4001-b4a6-84e91cebd505"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$5IQIoml5k6Ohm930rfjDrO/ffrIw5H1ZHhFUXIsWONrXZTBN8yGGC"], ["created_at", "2019-10-09 13:51:34.213687"], ["updated_at", "2019-10-09 13:51:34.213687"], ["jti", "4814f0f9-306d-49bb-983d-96cfc046d15f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Q018FvmkDodSPNsBOJwXdO3RCZ1wbs2tY4CMshnF/SPLJ0gZ/dDym"], ["created_at", "2019-10-09 13:51:34.227887"], ["updated_at", "2019-10-09 13:51:34.227887"], ["jti", "b4b503a0-eb44-42ec-b09c-b6ffd254ddfb"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$/LJ1ud9caJpkv1cfsiYzNe/r2fCv2r3iB/ntoYhgoLRds9TSfjxwK"], ["created_at", "2019-10-09 13:51:34.240720"], ["updated_at", "2019-10-09 13:51:34.240720"], ["jti", "ba423601-a9ab-419d-bf3e-22eab4e19b62"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ujCRTXn/ju1/59E93U3GUecaHus1XQhhKYO0XGvY7CrtM2knO7LBi"], ["created_at", "2019-10-09 13:51:34.254912"], ["updated_at", "2019-10-09 13:51:34.254912"], ["jti", "96dad908-461b-4a33-b213-4a39b05253b1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$QAF6ny.gqnG/62e7n.9Rqeocw0uda0Zww8KpZcMAFLNFpkgxHDQA."], ["created_at", "2019-10-09 13:51:34.268014"], ["updated_at", "2019-10-09 13:51:34.268014"], ["jti", "54e9ac3b-7732-48ec-adfe-f36f52943a4d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$vCauLyZD5zxdo5ZQ/5OG2.QxKsk7yJ2qti2cU2u9ze1XKduiU9W22"], ["created_at", "2019-10-09 13:55:29.968278"], ["updated_at", "2019-10-09 13:55:29.968278"], ["jti", "2a077989-ccf1-4b8f-b357-c13219a16d34"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$fmLXMJ46Kvya7KY1UAsYgeYimf7KWNiPYgPqXc8PQsvyiPaXxokSy"], ["created_at", "2019-10-09 13:55:29.980946"], ["updated_at", "2019-10-09 13:55:29.980946"], ["jti", "106cafac-8b12-483e-a36d-6501364469dd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$VAia43PmKA/QaE0/.Gi0pulAZyrJHHRx9CJOH34hyR5enXz0y/plm"], ["created_at", "2019-10-09 13:55:29.993476"], ["updated_at", "2019-10-09 13:55:29.993476"], ["jti", "430da221-aa6a-43a4-a674-94a848b6d9f6"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Ez3m8YBAwP3fVE6aFjSPm.ofvFgTFIyvHSmWB2fgXpUdUK4fKonDm"], ["created_at", "2019-10-09 13:55:30.005480"], ["updated_at", "2019-10-09 13:55:30.005480"], ["jti", "046bee45-bd74-4429-bfe4-c17c56640881"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$xCBZSocyXOtwUe.wj4es2.R40Z6wL4lH4xVycS/wd.8rDArIO10wS"], ["created_at", "2019-10-09 13:55:30.021228"], ["updated_at", "2019-10-09 13:55:30.021228"], ["jti", "80a62d05-2476-46de-9f2b-3a384372f4b6"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$IvAnrO8ykQB/ZTfxH3GQQumn7Sb//f8aCAJTpSwW8/I7okQw3phHC"], ["created_at", "2019-10-09 13:55:30.035084"], ["updated_at", "2019-10-09 13:55:30.035084"], ["jti", "0ff3a61b-d19f-498a-bc56-924dfbd04749"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$eCLqz7VB5E93/kPDt2/aEOGgOmpu/BqWFG1Z9Yra9Wb62HpU64uDu"], ["created_at", "2019-10-09 13:55:30.049640"], ["updated_at", "2019-10-09 13:55:30.049640"], ["jti", "8e03688e-995f-486c-9e00-9c57ad8a4ce7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$tpOSO9jI6ExDC4OAlBKrWuuhBjl.vq2O3bN42hZrA0MOhceKtwKAi"], ["created_at", "2019-10-09 13:55:30.073218"], ["updated_at", "2019-10-09 13:55:30.073218"], ["jti", "14a1da45-14c5-4b3a-94d4-20bf3677b6af"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "14a1da45-14c5-4b3a-94d4-20bf3677b6af"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6ac399b4-1609-477a-aba5-d339456b8009"], ["id", 264]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 65ms (Views: 0.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$0zE.F5HxwbcUcenwG5Z9.O0cJOYpXXmznnqRD0Ykq1Cpm9luIxi.e"], ["created_at", "2019-10-09 13:56:27.506423"], ["updated_at", "2019-10-09 13:56:27.506423"], ["jti", "ee7f74f9-fd59-429f-93fc-d13753eb3b6c"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$Qbj8n9tU9iIXT7mz5RHvqO8mCuvTJuOmnz1U2Xjpsr0JCbinFb61W"], ["created_at", "2019-10-09 13:56:27.519490"], ["updated_at", "2019-10-09 13:56:27.519490"], ["jti", "a775de6c-e2c7-4c00-95f8-5a2907c85c85"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$676XHB9vLBXWHEPG94TC3uJcNnLWQvqSqHznVXfZEi1fcNiR3zaSG"], ["created_at", "2019-10-09 13:56:27.533248"], ["updated_at", "2019-10-09 13:56:27.533248"], ["jti", "29061077-ba4f-4d84-80f6-6ec78299d138"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$2lhpp9tieHqqJwWiqFqfUuPktluukXBh7ddX8wyIXga.NzL6ffinK"], ["created_at", "2019-10-09 13:56:27.548200"], ["updated_at", "2019-10-09 13:56:27.548200"], ["jti", "dc4f0da9-ec35-419e-bacd-dbf207668b92"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$lJxGX8LVD0AS0v1LLtg0Ku8WcmuhpGR1NmnHC7j/2sCqWU9ydgRxy"], ["created_at", "2019-10-09 13:56:27.566233"], ["updated_at", "2019-10-09 13:56:27.566233"], ["jti", "193194e2-6bdc-4012-9c3b-ee9d00005ba5"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$6yQ92QvFbxyoVB5X906qB.qMO53vikVo0OjMWw72EZkUHAmwvGXNm"], ["created_at", "2019-10-09 13:56:27.580596"], ["updated_at", "2019-10-09 13:56:27.580596"], ["jti", "0df806d9-330f-4872-91b5-5bc52778c63e"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$XQzps1QLCop1mYbx5KsRL.s4B./YYZqIEaTO68iJeZdeIt06O4o7O"], ["created_at", "2019-10-09 13:56:27.595588"], ["updated_at", "2019-10-09 13:56:27.595588"], ["jti", "a5ad1bfc-2e41-4646-abf8-e86bbfb94396"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$WxpUDLXy/lqigsW7Q3bYBO3PTYgMljEC0744qD.v.Gw/KV7cZawDe"], ["created_at", "2019-10-09 13:56:27.619759"], ["updated_at", "2019-10-09 13:56:27.619759"], ["jti", "4a7e728e-47a5-4ad0-b350-41d5365b2893"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$0bMhVxk3ZJhWpxT/vQ9KAev.IslqlX3PH.ukd2ncM0h4ko05Tl7SO"], ["created_at", "2019-10-09 13:56:39.269531"], ["updated_at", "2019-10-09 13:56:39.269531"], ["jti", "266eecc6-da86-491a-8f73-dfcfea8a46e7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$j7.SVKKRWFMLvS0PNwXHqOuI5DjkP086BXx/5UhkEill5G0.zSe.."], ["created_at", "2019-10-09 13:56:39.284287"], ["updated_at", "2019-10-09 13:56:39.284287"], ["jti", "82d644b6-16bd-4497-9fb6-eddbc78d8e7f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$LjNDb.qtbcbfj4T4UIbwB.wzCZfH.z5iTd9eHomBmp8hXvh3VNmCG"], ["created_at", "2019-10-09 13:56:39.296759"], ["updated_at", "2019-10-09 13:56:39.296759"], ["jti", "66cafe72-6500-4598-b69a-c732c00a9270"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$dNlJhIQ8dVokP1Fcw0G55OO82Pe0GEw7mOPGD.aPY9i8rdMbaz9US"], ["created_at", "2019-10-09 13:56:39.312142"], ["updated_at", "2019-10-09 13:56:39.312142"], ["jti", "255db709-23c7-4db6-af97-7038129e64a5"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$fhiOwcqG6ylRSnrAfaGJe.EJYzhF1w/rVY.MNgOArYpk5MfEP8XPa"], ["created_at", "2019-10-09 13:56:39.326243"], ["updated_at", "2019-10-09 13:56:39.326243"], ["jti", "83cddd57-afb0-4189-8c91-524fd9128178"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Ly.MhQYzxlr5.SwzGwQeYePvwz5HQPDFVvQW0hlRUqKm0dqw8BAgO"], ["created_at", "2019-10-09 13:56:39.341226"], ["updated_at", "2019-10-09 13:56:39.341226"], ["jti", "bf858a77-d1c3-45f3-b143-c89e1f02feda"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$Yg7XV1dbPNIYA.Nq0nA7eeKnyGFxn2roeg6w8qLQPyxfonmanKHJG"], ["created_at", "2019-10-09 13:56:39.355661"], ["updated_at", "2019-10-09 13:56:39.355661"], ["jti", "47202235-a45d-4a7b-80f6-452307658eb3"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$/EsIHkeo7v1p5x4X8kAk7uo5HTa91KKP/UZn9fKN0kbq04ioBKPRG"], ["created_at", "2019-10-09 13:56:39.375729"], ["updated_at", "2019-10-09 13:56:39.375729"], ["jti", "1d515c99-0102-4bcf-92b9-a5aeb174eb15"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Ie35TBPLivRHciVOX.GCE.Ni7/tEUoUGFmawBeqbSYNvnllRJ7GRa"], ["created_at", "2019-10-09 13:57:12.784522"], ["updated_at", "2019-10-09 13:57:12.784522"], ["jti", "dab694c6-4821-42e7-b459-5f330c619607"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$KNce34Welsxy9sTLCcemh.7QoOEaVe/oqbBxfKVErC4XWVmTZP8BC"], ["created_at", "2019-10-09 13:57:12.799141"], ["updated_at", "2019-10-09 13:57:12.799141"], ["jti", "70323f30-fd7a-4360-bd60-4dff9b0900ab"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$z6XgXweE361t7xLuGGmkbeugyW2pf6UqcCgxZLmMfe/jjoUHlLXWS"], ["created_at", "2019-10-09 13:57:12.813571"], ["updated_at", "2019-10-09 13:57:12.813571"], ["jti", "d21f0429-c34d-4ee0-883b-cd5961139c45"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$ZDpPmjS9uTZhpPggtdZUvuYzpALhSA18Hr/o0fDXOHKY0hIt2YzFe"], ["created_at", "2019-10-09 13:57:12.828510"], ["updated_at", "2019-10-09 13:57:12.828510"], ["jti", "9c8eb6f5-0427-4546-b33c-97209c191636"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$ZiidADgiJkfVtSHN41eL.uTztXYQd8CZQamo2d6DGVVVTriuYWsKC"], ["created_at", "2019-10-09 13:57:12.844345"], ["updated_at", "2019-10-09 13:57:12.844345"], ["jti", "7e629f44-f711-4787-920f-f2f5b8a97c20"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$C37pBRzFA1KzWAk/dOcg7OiWQWtWPsJEFwOPJGBQHhptI1GU8Tet2"], ["created_at", "2019-10-09 13:57:12.858085"], ["updated_at", "2019-10-09 13:57:12.858085"], ["jti", "88ba540c-3318-4e57-ba26-c9f3a84a1a0c"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ABjdEsx8wbR443p0zOcMLuMTcZ3U14rPM2L2BG1k6jCKB5ZhNiJ5e"], ["created_at", "2019-10-09 13:57:12.872295"], ["updated_at", "2019-10-09 13:57:12.872295"], ["jti", "25fcfe80-f66c-4118-8b1c-1add5ac59a88"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$S8OFdjFn8L1GXXhMxbHzteutHVZ9Zhm9R4uIX0eVKZ6/g6VpCidIm"], ["created_at", "2019-10-09 13:57:12.895625"], ["updated_at", "2019-10-09 13:57:12.895625"], ["jti", "bd12afcc-e6cf-475c-b725-297992d1ffe9"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bd12afcc-e6cf-475c-b725-297992d1ffe9"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "c9139921-0805-453b-8066-4d115edbb06d"], ["id", 288]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$DQbODKZXgpE80GvP..eTpu0QRj5WEsi86WqfklaeDEJHxhzjdcfFq"], ["created_at", "2019-10-09 13:57:51.233509"], ["updated_at", "2019-10-09 13:57:51.233509"], ["jti", "ed396562-08d3-4be4-b824-5794a8025d6a"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$wz48iHBkbTfYVFg53s3TDuoKP7lPhbfDYCJkHYTfXWr60srll8JGC"], ["created_at", "2019-10-09 13:57:51.250973"], ["updated_at", "2019-10-09 13:57:51.250973"], ["jti", "acda1938-f27c-4eb8-86b3-c2f38d43a2a8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$jf.5gu3Ep1uYiK9irbLb2uqnL5OTq66tmWKUaaWdgeMBHcUm61TO2"], ["created_at", "2019-10-09 13:57:51.264454"], ["updated_at", "2019-10-09 13:57:51.264454"], ["jti", "ff55454f-b509-4499-82d3-24daafbf3982"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$X0sKUGhwiM5FARIsbRzaMO5izUrwLxgejZVEFTudiuzlOLfTyTUO2"], ["created_at", "2019-10-09 13:57:51.278768"], ["updated_at", "2019-10-09 13:57:51.278768"], ["jti", "02d1d7ff-7309-42b2-87c2-e2989083243d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$sRytVCkBDUq6q3X4xdggG.JyIEeon9kgHrz.pNBWVhPsYIloyrgca"], ["created_at", "2019-10-09 13:57:51.293655"], ["updated_at", "2019-10-09 13:57:51.293655"], ["jti", "2b8175d4-fd7b-4da9-b5c4-a68cadd05acf"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$QSYm0BfGb21cYJS/14Jpr.M9K70X4Q0Fc5vchwHPTptvl0JDErrTW"], ["created_at", "2019-10-09 13:57:51.309386"], ["updated_at", "2019-10-09 13:57:51.309386"], ["jti", "32b82fd3-ceff-4cca-93ce-004aff2b38ee"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$yO17bswmphK5a6FzSsAB6.MyMXdjxzHlpxnmq2sDf0xSZZMuBAVw6"], ["created_at", "2019-10-09 13:57:51.325148"], ["updated_at", "2019-10-09 13:57:51.325148"], ["jti", "01fa4293-03ad-4e73-9f68-6a1f1a5bb11b"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 2.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$f.r.csLFQWKD1QT2cgPi8.LOj6X2O4SAXwYTcjjQuYjeVycdDquUe"], ["created_at", "2019-10-09 13:57:51.353397"], ["updated_at", "2019-10-09 13:57:51.353397"], ["jti", "4d5fa87d-7c8c-4f50-bbf4-d058da13c7ab"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4d5fa87d-7c8c-4f50-bbf4-d058da13c7ab"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "89fe3a64-82bd-4075-a516-52fede9b53be"], ["id", 296]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$q9Hq.VDn9KFNxPPkSbZO2ORiKCu1fwtALGY6LXFVxkeK.WthNsjgC"], ["created_at", "2019-10-09 13:58:11.750791"], ["updated_at", "2019-10-09 13:58:11.750791"], ["jti", "d3cf28c9-2712-4e3f-be2f-53528ec82915"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$f/v1W2PfhfZrmaHAvIwj4epjZEZl4pXNwbVobeytX0ZHt9wYOMXVa"], ["created_at", "2019-10-09 13:58:11.764908"], ["updated_at", "2019-10-09 13:58:11.764908"], ["jti", "aca3e19d-c579-4b99-b55e-b02790ff059f"], ["role", 4]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$5I/ihCvmtiHeSqIJwOexJelMu2KfyIvHbRv/K7ttgmNb0b7mG/vdS"], ["created_at", "2019-10-09 13:58:11.781067"], ["updated_at", "2019-10-09 13:58:11.781067"], ["jti", "08b47dce-5a3f-45cd-bdd4-04dd13973526"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$gzlmDHTU/3OBoky.TuaVwe4AzpOWiC7HxMKE9/IXkHsQPV3m.BK4u"], ["created_at", "2019-10-09 13:58:11.794538"], ["updated_at", "2019-10-09 13:58:11.794538"], ["jti", "3157edfc-36fa-49e8-89d8-f03aa3787cb8"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$5llA.j7OHP4gVGfhjEO39uXDLNaT7eBE31G8LF2x0FBNF.iVjDoLa"], ["created_at", "2019-10-09 13:58:11.808581"], ["updated_at", "2019-10-09 13:58:11.808581"], ["jti", "fbcbebfd-cdc2-42ad-a638-d68dd5fb182a"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$nGojClqFvIXNXH95aWQY.uuj.lK/fjATP6H2x88sv3HfT9iWR8.mO"], ["created_at", "2019-10-09 13:58:11.821202"], ["updated_at", "2019-10-09 13:58:11.821202"], ["jti", "7626e6fa-ff8c-43ec-a9e5-2c9b95d013c8"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$7Tyb7Rylo1u0fTF3fMUek.fFaxD2lozRBFQxAfmhfsJHv0MjyYmSa"], ["created_at", "2019-10-09 13:58:11.835915"], ["updated_at", "2019-10-09 13:58:11.835915"], ["jti", "5f1328b8-e438-45b9-91bb-fc58ee58b9b8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$2Rk0IR.GSwEmtVegINQU6eZTFB9Ar20pO23iJGSuT9DcaaJ9jAKHW"], ["created_at", "2019-10-09 13:58:11.859483"], ["updated_at", "2019-10-09 13:58:11.859483"], ["jti", "69de33d5-0732-4d7c-8056-8bbfe6ad32fb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "69de33d5-0732-4d7c-8056-8bbfe6ad32fb"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "eca83aad-45b6-42a7-95dd-770ec2ae896d"], ["id", 304]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 8ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$7yTvZ5UxuWhjA0QB96wMwOFb2.Smd1cDfyPOfm7MaUiraJoXSHOVO"], ["created_at", "2019-10-09 13:58:30.619424"], ["updated_at", "2019-10-09 13:58:30.619424"], ["jti", "0cab2698-86ab-4b1d-baf8-2ecd39236390"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$tCtj7RX8ejJXMLqSz4QHPur6uZx1QvJY8XFsM.q8LI2XUJKVHCVxq"], ["created_at", "2019-10-09 13:58:30.632662"], ["updated_at", "2019-10-09 13:58:30.632662"], ["jti", "f9659ea7-9b43-4bf1-a361-e4e9570c621e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$ow9vdJAR93yoF9zrk1sW2OwfHR8raNaujjQe7GKhUpSzkkXDZix.6"], ["created_at", "2019-10-09 13:58:30.649344"], ["updated_at", "2019-10-09 13:58:30.649344"], ["jti", "07ac83bd-be6c-4d41-a423-3745f93660e9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$dKKgQ1wrZTDtO5mopEFUK.PoF/ZJgxmEIIHGfet2pvSeXMdtDdRjy"], ["created_at", "2019-10-09 13:58:30.663178"], ["updated_at", "2019-10-09 13:58:30.663178"], ["jti", "b4d7ba73-f5e2-4f0c-ad04-84cc28fcafff"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$5lIsVpLw2teUb5oMAM9Rvunnqm/fX2kOTVqEEcEf7vvBQ6ulQ07PS"], ["created_at", "2019-10-09 13:58:30.677149"], ["updated_at", "2019-10-09 13:58:30.677149"], ["jti", "af222127-e7e2-4500-9f8a-017e658bac0f"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$gfaUqJFLKuVVFRapRhzVjuSOV9oW8WZ0T/zr8d/9sx0qx09a9xTT2"], ["created_at", "2019-10-09 13:58:30.692699"], ["updated_at", "2019-10-09 13:58:30.692699"], ["jti", "1cea1380-9aa2-4aaa-838c-b363ea878015"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$QDBdtvNd046BmFs/6N2FYeOYhoHiJx5jUYNiIDEUF3cecCw2rCwAG"], ["created_at", "2019-10-09 13:58:30.707464"], ["updated_at", "2019-10-09 13:58:30.707464"], ["jti", "4776b11f-7224-470d-ab32-92980bbb14c6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$9VRj7oW./Pc.XSjiIWwFo.kd8S0wgY28WcW3vGQl7IrU1YoAzkZse"], ["created_at", "2019-10-09 13:58:30.730705"], ["updated_at", "2019-10-09 13:58:30.730705"], ["jti", "3ba09013-3bf4-4ad6-9776-89cab8cecbff"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3ba09013-3bf4-4ad6-9776-89cab8cecbff"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f267dcc2-2e69-482e-bcb4-d0005aa0ca21"], ["id", 312]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$8m.f1GksY7AUuNF76lzNau4ys5JTNyEN4lKtr0bt254C62vr41Vh."], ["created_at", "2019-10-09 13:58:55.488264"], ["updated_at", "2019-10-09 13:58:55.488264"], ["jti", "1b31fb3a-aba9-45de-aff2-57fb31013b5f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$YURo9jK8evhhCnBcUK/wL.TEWeaLVafd4PgtMPsephhJo2E9VkrpO"], ["created_at", "2019-10-09 13:58:55.502735"], ["updated_at", "2019-10-09 13:58:55.502735"], ["jti", "9b2b0ebd-074b-4e67-abe6-10f34ca2b053"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$XOgWqb54RkN6oUGNQXVN8OYsOXGzoWPllyZrtW1d9TLGMNXKNh4km"], ["created_at", "2019-10-09 13:58:55.517093"], ["updated_at", "2019-10-09 13:58:55.517093"], ["jti", "037b1a2d-a445-4efb-8e54-e1208fec38da"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$t6sBlVrBNBJDLagYLGFMeuzHJjUL89tDulAsQFMW3yK20ZVhkuhz2"], ["created_at", "2019-10-09 13:58:55.532197"], ["updated_at", "2019-10-09 13:58:55.532197"], ["jti", "ee3bb65d-62c4-47c6-b4f5-e9c00b75d12b"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$gewuIEulFbcvdK/C9ibare.Oiwn18RrdArVGqY10l5Nj2HZAMbmtK"], ["created_at", "2019-10-09 13:58:55.546266"], ["updated_at", "2019-10-09 13:58:55.546266"], ["jti", "ebd4919e-8145-43d2-b102-efd37ce5d87e"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Sw6kX0KeDEY8P.KTaBnYUOmqHWL4NuU2ZpZZmmPxIoFoPD7FG1xj6"], ["created_at", "2019-10-09 13:58:55.561990"], ["updated_at", "2019-10-09 13:58:55.561990"], ["jti", "ac2446c1-3f95-4ad8-9961-1b3e41ff8dc2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$NNBGkqn8i/fZZatrKNhkKe55JSTXvJtcQ6MiAMlYhV6KCZvgxXGVO"], ["created_at", "2019-10-09 13:58:55.577566"], ["updated_at", "2019-10-09 13:58:55.577566"], ["jti", "4302d9be-678b-4888-b60d-1e1edfab554c"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$x3N166ptSaW5bL5COFozOukA0REWWQe9oXRWnTZEdMB.RvYn6zS2C"], ["created_at", "2019-10-09 13:58:55.601653"], ["updated_at", "2019-10-09 13:58:55.601653"], ["jti", "ae5375f8-fadb-40ac-8455-25e4449771fe"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ae5375f8-fadb-40ac-8455-25e4449771fe"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "33765142-19dd-4582-9bba-de4ddc3e2527"], ["id", 320]]
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (54.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (83.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$RpSX2y6A9rzB/SNwMfez7OkruboILVSY9cGe5v7MbZCOm7fb9buFS"], ["created_at", "2019-10-10 06:52:37.874164"], ["updated_at", "2019-10-10 06:52:37.874164"], ["jti", "ce9da847-522e-4133-9fdf-e39655075cc1"], ["role", 4]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (Views: 0.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$gYaEGJcii6N8NjPdAQCbruotU7n5prlRwbzMz.s3IIbI9r.2n441m"], ["created_at", "2019-10-10 06:52:38.004705"], ["updated_at", "2019-10-10 06:52:38.004705"], ["jti", "da5c02a9-7d7e-4f5e-b00f-725f32c67d9e"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 26ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$Nz1mPDprf0r8F7MeCh8nPODvmhIUxu.hrZ/LVY455R6mZhuxqQeWO"], ["created_at", "2019-10-10 06:52:38.044334"], ["updated_at", "2019-10-10 06:52:38.044334"], ["jti", "7c701eae-d29c-4598-8230-26d19474ba7f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$tepEZKQFqJSlSbugcvU4.e1ZhsKRPqaGHZyUtaT7UwT77oRSiXTu2"], ["created_at", "2019-10-10 06:52:38.058060"], ["updated_at", "2019-10-10 06:52:38.058060"], ["jti", "d6c5848b-0475-41cb-966a-e3eaa60b1681"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$Ah5Y4KELJFO5WcOuGkxv2eiOeERpjWP5edRdvk.gUinUxgqkRmoUa"], ["created_at", "2019-10-10 06:52:38.070656"], ["updated_at", "2019-10-10 06:52:38.070656"], ["jti", "66c41f08-03b2-48de-b07f-1d1681fe8bd4"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$Y1QIiecjYrIsjqrkJcZwT.Q6w6qKB0duNSZmbrimRipDfQsps38TG"], ["created_at", "2019-10-10 06:52:38.084771"], ["updated_at", "2019-10-10 06:52:38.084771"], ["jti", "e419feef-a7f1-4359-be94-ad106467e195"], ["role", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$1f66Fo7G4a75.GeuEe68memDhP3UDEKLF9UdIX0uMWa.kUbEKZeyq"], ["created_at", "2019-10-10 06:52:38.099189"], ["updated_at", "2019-10-10 06:52:38.099189"], ["jti", "dd7da0a9-8212-4857-903d-9d37ed6c6123"], ["role", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$mnQIfSKzKWLa8SxsZVMwFua1Wohlly.EAA2ML5VY2F8S3tmpFBhN2"], ["created_at", "2019-10-10 06:52:38.129173"], ["updated_at", "2019-10-10 06:52:38.129173"], ["jti", "684444c1-f7f8-43c7-8583-3df73bd70225"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "684444c1-f7f8-43c7-8583-3df73bd70225"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a2f22d5e-ff17-4c97-a0a5-4874e6790f85"], ["id", 328]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 26ms (Views: 0.5ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$Dq1aQxSVRyKBZEqbBHDYuuMnHMdz1c4c5.9ePwgO3AVNDPi3WxbHW"], ["created_at", "2019-10-10 07:02:09.931535"], ["updated_at", "2019-10-10 07:02:09.931535"], ["jti", "11fefbd6-afd2-4d5a-b2e5-cbaef857db93"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$2wxjTfYd5Q6SsxU1275ltOnTvbguPKCXjeJhhp3lWNDT/tnepCpWu"], ["created_at", "2019-10-10 07:02:09.945235"], ["updated_at", "2019-10-10 07:02:09.945235"], ["jti", "812507dd-1b31-4817-ae44-1e7caded27ba"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$GX2tptb42QzmxuBOp8Tds.E95IXm2m7AmoPxwhGRG1YvZ9KqysGOK"], ["created_at", "2019-10-10 07:02:09.959175"], ["updated_at", "2019-10-10 07:02:09.959175"], ["jti", "29f9c27a-c5d0-4f09-9c04-63cd1752f236"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$Q5BSZtX8r4M6iaav71L5nu.RG7nOeHsHmfnNACdAcplT1D8xohggG"], ["created_at", "2019-10-10 07:02:09.973078"], ["updated_at", "2019-10-10 07:02:09.973078"], ["jti", "14eceb51-996f-4068-a0b3-e6bcac10fe32"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$OCK6qW2cXygBzYC6prchXuoruGVmZgOXorPFeho3UdcYd/SNel7Oa"], ["created_at", "2019-10-10 07:02:09.989316"], ["updated_at", "2019-10-10 07:02:09.989316"], ["jti", "6c21dbdd-ca46-4227-a836-b726035faab4"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$HxMiM/BHBIWNXYxoQ/qI.esPidGKgI/0Uq0bBrhJ1Jr0OJkB97y22"], ["created_at", "2019-10-10 07:02:10.003386"], ["updated_at", "2019-10-10 07:02:10.003386"], ["jti", "1cff6bd0-ea56-4949-9a5b-91993bb62769"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$71KJVTPMA.9WRArtgx3g3OToCn8ajuNZ5Atl9KzFAtIOe3vbeQyvy"], ["created_at", "2019-10-10 07:02:10.018401"], ["updated_at", "2019-10-10 07:02:10.018401"], ["jti", "40b59d63-2944-46d7-93fa-da00917c95b8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$3IlF8UrEaGnSmLEfVkUjaux.a5UALjv9XFgVAi18s69bAcu7S6xNO"], ["created_at", "2019-10-10 07:02:10.042161"], ["updated_at", "2019-10-10 07:02:10.042161"], ["jti", "5fd18d10-6333-4837-8191-a5cf3d621330"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5fd18d10-6333-4837-8191-a5cf3d621330"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e5c09f22-130a-4f72-86a3-dc71e9a51130"], ["id", 336]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$z7hWCAlxbnTKFIvymPS6dOVlu4nSzNhjkEwuMWsuo.9XTIdPf.iY."], ["created_at", "2019-10-10 07:02:31.990348"], ["updated_at", "2019-10-10 07:02:31.990348"], ["jti", "3a6bb3c7-88bd-4030-818c-f1eb85843f65"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$jCuogkWenKJAHkzQCeSTnOG4NkdBGztKxnlhgoMLhswbl5l3PU1tC"], ["created_at", "2019-10-10 07:02:32.004872"], ["updated_at", "2019-10-10 07:02:32.004872"], ["jti", "65f43542-615d-4f76-acb9-fdf818f2a9cd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$jJ0XXExUNFBRaokMf1pdxOlz7.1UZDIiP4Y4Rx37eu5oxs37WhAbe"], ["created_at", "2019-10-10 07:02:32.018675"], ["updated_at", "2019-10-10 07:02:32.018675"], ["jti", "cbddfa43-147b-4d28-bcba-5815c114b178"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$wcAEoxajDi/P.XoKQ04AlutdZbrCzmeRa/ZZwVybyCCrfbyHZ5q4u"], ["created_at", "2019-10-10 07:02:32.033742"], ["updated_at", "2019-10-10 07:02:32.033742"], ["jti", "9be32d17-832c-4dba-bab1-881eb8b8e606"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$KMNz8rRWricbkgNUom7IgeQk8ZrVAqUcj9RBocmts4YXc7kjr8abS"], ["created_at", "2019-10-10 07:02:32.045739"], ["updated_at", "2019-10-10 07:02:32.045739"], ["jti", "cb0c327e-24ee-4756-a9dc-303bc7e455a9"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$sw/g9LIP9.2FfhVJKby.pe645hOC5cfl8l02RC0nMTD8tnBEg7aqm"], ["created_at", "2019-10-10 07:02:32.059356"], ["updated_at", "2019-10-10 07:02:32.059356"], ["jti", "7ae392be-d2fc-43df-b237-56577c9121cd"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$ng5vGSe/sFMXTihtrGWYz.cyHqgFV08qWAK5B8ixI0tWgMbJkelwO"], ["created_at", "2019-10-10 07:02:32.074700"], ["updated_at", "2019-10-10 07:02:32.074700"], ["jti", "b90517d6-1cb6-42e2-925e-62027ce2ecc0"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$QjuZBvzW998Y0ouGjDXT../QetiLQWpyajcTQtdksb1MnhFbowPna"], ["created_at", "2019-10-10 07:02:32.097432"], ["updated_at", "2019-10-10 07:02:32.097432"], ["jti", "8578fa91-4e38-48a3-ae80-067b2af5f6ab"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8578fa91-4e38-48a3-ae80-067b2af5f6ab"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "629db27c-b03b-448a-a493-c3436cbd9760"], ["id", 344]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$qDz3aLfVJTyAdaClrJZnDuHdDAyjPDUrKSWs0zTxZUsIJ2ZIuqmjC"], ["created_at", "2019-10-10 07:02:51.711618"], ["updated_at", "2019-10-10 07:02:51.711618"], ["jti", "4a7fea48-435b-43fe-b686-20676232a4b5"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$PNJhSzy.A42RUXC7scQzYeHgF48exoVxWIvHjbCtLcCnAKmNLkj3G"], ["created_at", "2019-10-10 07:02:51.725580"], ["updated_at", "2019-10-10 07:02:51.725580"], ["jti", "0331fcd4-c5d8-4e60-ab92-2bb02bc9833f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$cgbtK3YX7Ok4/mOGBbWDne2QunBLJEihDjxDd6C4H/Yqdk1bETwim"], ["created_at", "2019-10-10 07:02:51.739836"], ["updated_at", "2019-10-10 07:02:51.739836"], ["jti", "336f9d8b-ec08-4716-8285-aeab0e7ed84d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$h8v5Lfb7nJhTvvu2LVMz.ekrcSR73MMp1IJZ8RE2vwybQ9jDrVsyK"], ["created_at", "2019-10-10 07:02:51.754521"], ["updated_at", "2019-10-10 07:02:51.754521"], ["jti", "92ce5aaa-36da-4eac-87cd-4a651776b27d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$7zllxZtSrS49e7B9T/h.iuRYfwctH5ZH7vscUKTZf91AeOUo7F3o2"], ["created_at", "2019-10-10 07:02:51.769218"], ["updated_at", "2019-10-10 07:02:51.769218"], ["jti", "39423a02-7a7d-47c6-b0b2-bfd44cc69fbb"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$pRoNs6MhGKm2b1TVt.eVceDhMMt062s/RoqszRLkr4iiLQ6v/MNe2"], ["created_at", "2019-10-10 07:02:51.781778"], ["updated_at", "2019-10-10 07:02:51.781778"], ["jti", "ac72059c-e82e-471d-b48f-b6fc2d1d5996"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$CJzxXpm.HizlWHrCzJiFjujFxU0Wf0t01xFsoisOWTBEf6UoOyHh6"], ["created_at", "2019-10-10 07:02:51.794184"], ["updated_at", "2019-10-10 07:02:51.794184"], ["jti", "2b7a71fb-a8a4-4771-9420-150b229809c8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$HZ3KkWJjtaMhi5zahd6o.u/X/eUsgvjVC9btyTHBbzCWwqAO9Up5S"], ["created_at", "2019-10-10 07:02:51.817388"], ["updated_at", "2019-10-10 07:02:51.817388"], ["jti", "28a6d080-caf4-4ed9-bf24-b8b0b124627f"], ["role", 4]]
  [1m[35m (2.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "28a6d080-caf4-4ed9-bf24-b8b0b124627f"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6197ee36-e58f-42cf-8c87-c6ba5eb58dc2"], ["id", 352]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$rRQYDKKoqPVhJSGrjDAP3eY04ocskX56pNZ4yTF/J3nsTr77/rNDO"], ["created_at", "2019-10-10 07:05:55.073462"], ["updated_at", "2019-10-10 07:05:55.073462"], ["jti", "3c912cf5-2cbf-40c1-8ee6-262cae1246bb"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$r4lbjgI7YEFivq48X/6.QePRucAv74JnaPQVQH3IiwwcrEM3b4jkG"], ["created_at", "2019-10-10 07:05:55.087811"], ["updated_at", "2019-10-10 07:05:55.087811"], ["jti", "3ed135f4-fd49-4dc4-8edf-b51ce65c4e81"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$Y/CD0jtPz5ac5XozHLiCRemUfa9fsYakvlSnKjPLOuxemasqF2L3."], ["created_at", "2019-10-10 07:05:55.101474"], ["updated_at", "2019-10-10 07:05:55.101474"], ["jti", "fd7fadad-20db-4f0b-932a-446f9425b539"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$6ehWGHHWND604X2gFVmznufd5M945ARLCFrd4vNRQGU5p6WE1O52W"], ["created_at", "2019-10-10 07:05:55.117133"], ["updated_at", "2019-10-10 07:05:55.117133"], ["jti", "f5cf6008-5922-4390-9cd0-b05047351987"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$8YAe5QcXpGbSd35p4ugSmO5G.iAqHFqT3qZjSbhsRMJOnpIZ1vz.W"], ["created_at", "2019-10-10 07:05:55.131139"], ["updated_at", "2019-10-10 07:05:55.131139"], ["jti", "5a9bd65a-02b4-4368-b8ea-8362b0d583ba"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$z4lOMqUy3JE8JrTo/9C9MOi3BfazFmTp4u.Jd4wi/8gk41LwlBfiy"], ["created_at", "2019-10-10 07:05:55.146441"], ["updated_at", "2019-10-10 07:05:55.146441"], ["jti", "aa87bddd-466b-4e17-847c-3e86cef34a34"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$SD2p5WqWbwBhRifHA31HlunLVTLJs7LuLL.Z8Xb6SGk/hMfNWshBW"], ["created_at", "2019-10-10 07:05:55.160988"], ["updated_at", "2019-10-10 07:05:55.160988"], ["jti", "533deeaf-966a-4b04-b9d8-a8f0c1435ee7"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$ibycSlyL57hQ26mvXfgc.upsTtEPlb4XyJ49PopiIhCV2s2CHAtlu"], ["created_at", "2019-10-10 07:05:55.183668"], ["updated_at", "2019-10-10 07:05:55.183668"], ["jti", "01cb25f9-2ed9-4f5d-983c-1ff89061ea3e"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$FjorteZH45bq80utDRCD/OYJI5exXsWtMQjXHnhlHAbvchX49uaVy"], ["created_at", "2019-10-10 07:06:55.787018"], ["updated_at", "2019-10-10 07:06:55.787018"], ["jti", "400c9442-f1fa-44f9-854b-93fbe4f1bf83"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$2l.NpJ6JYicEsd5dxSSHsO9ornGsZw.7p9nPZRTD/KPaH3DO/gleG"], ["created_at", "2019-10-10 07:06:55.801321"], ["updated_at", "2019-10-10 07:06:55.801321"], ["jti", "e342cd85-7361-4a7b-b509-31e5b8e66cfc"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$TqXMWfPxGuYGjxfiZdvLQec92ZMcKYHQP0hnSsKIXl/XAT.QEtyDC"], ["created_at", "2019-10-10 07:06:55.816562"], ["updated_at", "2019-10-10 07:06:55.816562"], ["jti", "8c59f919-937f-4e81-84df-57431b79de52"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$CXxEx7Z.wXqUNxdVgQnAE.EoaNr0VlgUQnnn.IKCP5q63JbwuMMx2"], ["created_at", "2019-10-10 07:06:55.832605"], ["updated_at", "2019-10-10 07:06:55.832605"], ["jti", "f5af9daa-9f2c-4cae-9c3b-6482417f8423"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$oLPIWAeOi7I678ojIzGu0OdMsoUmvm1Fv5zYnkTm58u66vnj8NXvC"], ["created_at", "2019-10-10 07:06:55.850049"], ["updated_at", "2019-10-10 07:06:55.850049"], ["jti", "635fc91d-bbc6-4001-9eeb-96d3babdf888"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$.TqovQPGumtOvRwbUPxbcuWCE1jDa71OMREhqTnwhAklFBJYf.utS"], ["created_at", "2019-10-10 07:06:55.864282"], ["updated_at", "2019-10-10 07:06:55.864282"], ["jti", "6de52ec3-b193-4cb9-b919-0e6f751579ea"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$rLrNkoeRQrESKX5fGmThhOp2RHLGayty0Re/UpK4T5YIaWcuLB4SS"], ["created_at", "2019-10-10 07:06:55.879122"], ["updated_at", "2019-10-10 07:06:55.879122"], ["jti", "a9c7e571-0175-42f7-83b9-48f48cbce0c0"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$.ANSjOYe5lopSsBe9cDMM.lHrdAyeV2GbqDFBNSlT17ywrlfj5Sz."], ["created_at", "2019-10-10 07:06:55.901422"], ["updated_at", "2019-10-10 07:06:55.901422"], ["jti", "19ae2ea2-6323-4319-a7fd-6eb785818571"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$xmtozcNeIPWRle.7ArSsO.wyxYjMwUTOFhcfnfaXI0FV/nLd7aXky"], ["created_at", "2019-10-10 07:07:43.601620"], ["updated_at", "2019-10-10 07:07:43.601620"], ["jti", "2f1ebbb5-ef1e-42fc-b86c-22a8046517f1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$n.pHg7EvjIvDOdQ8z5dUfOG6O8UPN.06fvHgDDb6aP1w1un4NWHlK"], ["created_at", "2019-10-10 07:07:43.614089"], ["updated_at", "2019-10-10 07:07:43.614089"], ["jti", "ca561b01-316c-4647-899b-820cbdcc51f2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$676kNDPzO0BTAupcD7eYyegbCat86L3r5bhcp5UKwpsnJDcCTloCC"], ["created_at", "2019-10-10 07:07:43.625758"], ["updated_at", "2019-10-10 07:07:43.625758"], ["jti", "87626db0-efb1-480a-a021-f260f4594b4b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$GTptcNHfsrfaT2fZhqH6pem9wK4VuSc./vG94TGo0qyDbJfdlTUim"], ["created_at", "2019-10-10 07:07:43.639117"], ["updated_at", "2019-10-10 07:07:43.639117"], ["jti", "d5c4eb67-fbda-429e-8c78-84a6e10bcaba"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$zeBQe8wATOa1vcgd8FH.KuuMNigyF/gAlWSrR8.PbAByV4kkpvc.e"], ["created_at", "2019-10-10 07:07:43.653622"], ["updated_at", "2019-10-10 07:07:43.653622"], ["jti", "69979b8d-8556-4c0f-b5c6-04065cb44078"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$TukoE2rcET.xVKMTx7uqb.5TDd3R8.MG8bzk3kshS8AggcYBGy2LW"], ["created_at", "2019-10-10 07:07:43.665745"], ["updated_at", "2019-10-10 07:07:43.665745"], ["jti", "e008e8ac-5c80-4028-876c-edb367f068b1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$74L7oS5fVhLveXRGm/veheLV3gTtpZpGwxO7IAX1V4rT85ra/cgOm"], ["created_at", "2019-10-10 07:07:43.679260"], ["updated_at", "2019-10-10 07:07:43.679260"], ["jti", "5a165b6b-edd8-4c55-841c-94363febb6b6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$514K4h3.cJi/pPkKUo0ibO/6ObqQsvcN/l.5lApYqp0YQfNs8Q8gq"], ["created_at", "2019-10-10 07:07:43.699417"], ["updated_at", "2019-10-10 07:07:43.699417"], ["jti", "e510a5ed-8d69-4242-abfe-1d4853da6668"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e510a5ed-8d69-4242-abfe-1d4853da6668"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "d6ecdb08-f4a8-46fe-82c9-366bf5524072"], ["id", 376]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$1c0AMn7gcqxHva1MIegvvefB0HWB8etBbbK1ucbkYyGYdKMoq8d2e"], ["created_at", "2019-10-10 07:09:14.319578"], ["updated_at", "2019-10-10 07:09:14.319578"], ["jti", "0f3d22eb-fb1e-4d44-a20d-823bfbd68ce6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$z/LdsSVs.ADIOB2.1eJ6xOX7kcnzXnUtYdJtxSS6eqTw2zgPe5F5K"], ["created_at", "2019-10-10 07:09:14.331587"], ["updated_at", "2019-10-10 07:09:14.331587"], ["jti", "5d636a2c-eee5-4edd-bf00-15ebba6a41f7"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$KiibI1GktkOYgtYQXPoaqOE78O6teclqy8R1QVL.bcLHN4HC1SqrK"], ["created_at", "2019-10-10 07:09:14.345439"], ["updated_at", "2019-10-10 07:09:14.345439"], ["jti", "57406579-9f22-4295-8403-ddb82c1e27f5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$aA3mktWCbL0QgsdXaSXwv.JV8b.jalzzwMJ7zcaBbYWLUBYFgIQxa"], ["created_at", "2019-10-10 07:09:14.357580"], ["updated_at", "2019-10-10 07:09:14.357580"], ["jti", "849f70d0-9c53-4c38-b080-dc9c670b0444"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$FvygPkhDhhTDtCTpGEA/Me.Jcat1Km9WZPxWsyfun1wvldB3vZF2e"], ["created_at", "2019-10-10 07:09:14.370335"], ["updated_at", "2019-10-10 07:09:14.370335"], ["jti", "a21112ab-a2c8-4c16-b988-dff9ffdd9509"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$UsNzIUW0QH58rvrTVJYjkumYDx2gILb0Z9Blly5VNt9lKInDogM/S"], ["created_at", "2019-10-10 07:09:14.383770"], ["updated_at", "2019-10-10 07:09:14.383770"], ["jti", "0e988937-4904-48f1-a4a8-c285725cbc75"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$GMPBrHFucXlGhrN9N4AW5.I5XQNtA6j/DmnG5Qw68nnMJemx8L3kC"], ["created_at", "2019-10-10 07:09:14.397801"], ["updated_at", "2019-10-10 07:09:14.397801"], ["jti", "d88c6c8a-1cbd-48ed-a788-6f4af650438c"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$NxNjwtgsC/ecJHHmzkwX.OOFFWgc5XyTZZcizsIOmBkj3HxT5mLGS"], ["created_at", "2019-10-10 07:09:14.417801"], ["updated_at", "2019-10-10 07:09:14.417801"], ["jti", "aebc4597-493c-4668-9821-e3f4d0c28eb5"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "aebc4597-493c-4668-9821-e3f4d0c28eb5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a8183cb9-d802-43bc-b273-b4ceeaf8eb67"], ["id", 384]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (49.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 31ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"email"}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (78.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (158.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@player.com"], ["encrypted_password", "$2a$04$TMOWhtf.mmgQhnZODVXdueHDZ3K4aSaNAKwaWP3nvDQhdkkGQrG4O"], ["created_at", "2019-10-16 07:12:38.737163"], ["updated_at", "2019-10-16 07:12:38.737163"], ["jti", "8e8b451b-3aa1-4203-ad16-e51cdfe00a65"], ["role", 4]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:38 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 211ms (Views: 22.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@player.com"], ["encrypted_password", "$2a$04$ZzLN/c5M7YDOUwaa9/ep.ePJmHQ8r6a6GEt7YBumuT0/TIRV2F7Ne"], ["created_at", "2019-10-16 07:12:39.122298"], ["updated_at", "2019-10-16 07:12:39.122298"], ["jti", "2cbb5acd-28dd-45a8-8826-40fd64518716"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@player.com"], ["encrypted_password", "$2a$04$KJIHvY.UmNFCP3hbTlE3xu25lGd/AIOicI1eaS1DY83VU8P7yN1Am"], ["created_at", "2019-10-16 07:12:39.163651"], ["updated_at", "2019-10-16 07:12:39.163651"], ["jti", "d2ddc545-8cfa-4c97-a6df-5958baa2e44b"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@cafe_owner.com"], ["encrypted_password", "$2a$04$1Tm63hzmit8qfo32q.Pbfe1O/xZbWysj5h5wvlLcm2bDTV2FESIcS"], ["created_at", "2019-10-16 07:12:39.180141"], ["updated_at", "2019-10-16 07:12:39.180141"], ["jti", "74f692a9-e556-4ab8-9312-6dae507b9cec"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_expert.com"], ["encrypted_password", "$2a$04$SJItJaCBMCDchYZMP1Lbr.cM3n92MX46r03CAfYLXVi4VZtnjqWti"], ["created_at", "2019-10-16 07:12:39.193983"], ["updated_at", "2019-10-16 07:12:39.193983"], ["jti", "9c85fd5e-d678-4fdf-a7ca-5794629aad47"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_admin.com"], ["encrypted_password", "$2a$04$ba.R3FqzrR5DMdoL6uMko.yMiSfxO7j2eYM4E0QwhEhZ7qku4MjEe"], ["created_at", "2019-10-16 07:12:39.206854"], ["updated_at", "2019-10-16 07:12:39.206854"], ["jti", "029972c5-9b05-4dc8-b671-e0d1122e65fc"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test1@sys_master.com"], ["encrypted_password", "$2a$04$iQPYXyXTQZ2PQKL483AjbO2/e2HbUb1Cq8oQ8EfRg2wpy76pgI3Pu"], ["created_at", "2019-10-16 07:12:39.219914"], ["updated_at", "2019-10-16 07:12:39.219914"], ["jti", "88ef801f-8624-48dd-8a2c-dd980002a11f"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test1@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test1@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 16ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@player.com"], ["encrypted_password", "$2a$04$LbYM2YKGn/IUntgdw.BlSuKL3NQsmaAbAv8zhAN5NWbBrMaWALjOW"], ["created_at", "2019-10-16 07:12:39.260297"], ["updated_at", "2019-10-16 07:12:39.260297"], ["jti", "51faaaee-9b5b-4942-a8e4-a16ca0c3f952"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "51faaaee-9b5b-4942-a8e4-a16ca0c3f952"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "51faaaee-9b5b-4942-a8e4-a16ca0c3f952"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "85b80124-ac0f-4ead-96c4-9ed35606892b"], ["id", 7131]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7131], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "d707d462-ea4b-42b9-94b4-7da41d487ea1"], ["id", 7131]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@cafe_owner.com"], ["encrypted_password", "$2a$04$hCWeIaAQv1WRFtha7GQYCO9ALZ7i61Y.TKDIHf0ZdrVW9v8nV25Yy"], ["created_at", "2019-10-16 07:12:39.301854"], ["updated_at", "2019-10-16 07:12:39.301854"], ["jti", "fab2b5c8-c91d-417b-8cd5-47f2ccdd15e1"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test2@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test2@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (7.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fab2b5c8-c91d-417b-8cd5-47f2ccdd15e1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$62PsogDAePx/XRqFJPr8HO7M9tbHToX.TaCYJmvcmfeTfYRCJKs1u"], ["created_at", "2019-10-16 07:12:39.397843"], ["updated_at", "2019-10-16 07:12:39.397843"], ["jti", "f6089dd2-0fce-41d7-8d1d-45a737930774"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 96ms (Views: 16.6ms | ActiveRecord: 2.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@cafe_owner.com"], ["encrypted_password", "$2a$04$CGCsJdHeICez..hGPYbTSeqiot9ACmULLnjWNHx5Cuq9RlrsnrU6m"], ["created_at", "2019-10-16 07:12:39.438585"], ["updated_at", "2019-10-16 07:12:39.438585"], ["jti", "37ae4a7c-a4fa-4259-b76e-94aa6059c825"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test3@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37ae4a7c-a4fa-4259-b76e-94aa6059c825"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$SWlpcUtq4mCeQ50czuRgLOZD3FikAzLy9S9S27HMDkhKsg22K1lJK"], ["created_at", "2019-10-16 07:12:39.457436"], ["updated_at", "2019-10-16 07:12:39.457436"], ["jti", "e6024dd3-26b3-4dc0-a36e-d45b58a0e2c1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@cafe_owner.com"], ["encrypted_password", "$2a$04$pDO8WrWUiZu2VktFwtp/Oeu8B0qCFo29gI8dhpZB3ERilRNieDBtS"], ["created_at", "2019-10-16 07:12:39.467108"], ["updated_at", "2019-10-16 07:12:39.467108"], ["jti", "812e1f50-dc95-46cc-9146-95ba0bcd2783"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test4@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test4@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "812e1f50-dc95-46cc-9146-95ba0bcd2783"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$8nEy4MEbcI6cGIcCXInCsuk2blAy2NPTvvSxXloa0X7lQvk55f5G."], ["created_at", "2019-10-16 07:12:39.483806"], ["updated_at", "2019-10-16 07:12:39.483806"], ["jti", "5186938b-7870-43c3-bee0-97efacbc80a1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@cafe_owner.com"], ["encrypted_password", "$2a$04$IMl/pyKj7Kk67MtZkNVpq.Y4dXS9t0yfpk7cs/BJ/xqnvVRtuD.vG"], ["created_at", "2019-10-16 07:12:39.493593"], ["updated_at", "2019-10-16 07:12:39.493593"], ["jti", "ccd08999-2ad6-4b78-ad7b-212d667ebe6e"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test5@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test5@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ccd08999-2ad6-4b78-ad7b-212d667ebe6e"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$0dgLYvk2JLokwNhh78pQvOmCN8G7TUDm8ybmP4iXzn0PAW1PywuqW"], ["created_at", "2019-10-16 07:12:39.510201"], ["updated_at", "2019-10-16 07:12:39.510201"], ["jti", "e090c091-8cbc-4eb6-a175-e60411e0bf40"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@cafe_owner.com"], ["encrypted_password", "$2a$04$5M9B28HVjmdJNz88XCZgHuQvOAospJPeXG/CO/Wpenh49KDnQefLC"], ["created_at", "2019-10-16 07:12:39.521174"], ["updated_at", "2019-10-16 07:12:39.521174"], ["jti", "91c8b8af-eb47-48b3-9d17-60319b912eb0"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "91c8b8af-eb47-48b3-9d17-60319b912eb0"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$Q86SPRDDTSxIw6RJBtJBlOF1a94ES6XCgOce6CKjIJipuMc8/Uepy"], ["created_at", "2019-10-16 07:12:39.537756"], ["updated_at", "2019-10-16 07:12:39.537756"], ["jti", "33803061-247f-4bb1-9da9-a690335c06ad"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@cafe_owner.com"], ["encrypted_password", "$2a$04$zcb0HlV/EGVoSelKsseG0OWIhh/gMWMi15YUgaWBx0TM6XWZxOaAm"], ["created_at", "2019-10-16 07:12:39.547658"], ["updated_at", "2019-10-16 07:12:39.547658"], ["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test7@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test7@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7142.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7142"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7142], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$7MFG7l0ItV4YLNhwc/yV0Op1YQcAG26TeouuBE3roh9Y/Fi0UwOTq"], ["role", 4], ["updated_at", "2019-10-16 07:12:39.567083"], ["id", 7142]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 2.3ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "beeb2b90-0068-4b39-9348-ce98979920a0"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7c4f1b2c-3b92-48db-8e9b-27427ec15dab"], ["id", 7142]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9b2c865b-dd57-4699-b1b2-c503df5ceba2"], ["id", 7142]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7142], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@cafe_owner.com"], ["encrypted_password", "$2a$04$V.xOBN9YHnvcG.9/yRIerO0p2IMDRAAXVHxTLgDspnrDlnXYFhJMO"], ["created_at", "2019-10-16 07:12:39.594373"], ["updated_at", "2019-10-16 07:12:39.594373"], ["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7143.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7143"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7143], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$woFzd9Cc7y7JFFT/FWtgCu/0kpFfaRp/Piga.JoXMTSP0n62c5XUG"], ["updated_at", "2019-10-16 07:12:39.623839"], ["id", 7143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "37d829e2-1c7f-402e-a9f8-48258a854d94"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6d6b4ba9-4a87-4c37-8a37-207c92d02d0e"], ["id", 7143]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
  [1m[36mApiUser Update (3.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "54754635-33ad-4ee8-bda4-1cde549ea01d"], ["id", 7143]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@cafe_owner.com"], ["encrypted_password", "$2a$04$LR/WInpMH5Rg7wqb/hH2AedBXUGbYmVrIxW1lgW69.PobWIpjwwWW"], ["created_at", "2019-10-16 07:12:39.654275"], ["updated_at", "2019-10-16 07:12:39.654275"], ["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7144.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7144"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7144], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$W1YmDZVLCmbtmkSFN88KAedAc536lBBLeiA5uEG6oW/LUA7TNAsr6"], ["updated_at", "2019-10-16 07:12:39.670966"], ["id", 7144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "895c35d7-f54f-4582-b5ee-8fef4eea155d"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "35bbf955-081d-4d7f-a67e-45425dc288e9"], ["id", 7144]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "eecc5dad-bf1a-4c16-a5ea-1dc4a383966f"], ["id", 7144]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7144], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@cafe_owner.com"], ["encrypted_password", "$2a$04$pbqVQMLeuWjLF.N9Uy6k4.z.nNYMqizRAh8uwS5V9nqAjyH.7GkAK"], ["created_at", "2019-10-16 07:12:39.698639"], ["updated_at", "2019-10-16 07:12:39.698639"], ["jti", "80ace58f-5e47-48a2-80d3-6a181f2c9d1f"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@player.com"], ["encrypted_password", "$2a$04$SQTaRVP06Va3T6.EDjpvxO/AmqBoz6UZ/IU16Xx6PHd7ZVyqTCzQi"], ["created_at", "2019-10-16 07:12:39.703534"], ["updated_at", "2019-10-16 07:12:39.703534"], ["jti", "b1399a60-1b80-428a-9eee-38be15015aae"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7146.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7146"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "80ace58f-5e47-48a2-80d3-6a181f2c9d1f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7146], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7146], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$dyoakgXCcS97n6AgruylMOqbg6tKvcj4BHWrpBwNxCjvzSFDyj.Z2"], ["updated_at", "2019-10-16 07:12:39.719511"], ["id", 7146]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7146], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@cafe_owner.com"], ["encrypted_password", "$2a$04$la2ZITNiTafBWvxtAYiQ7O5GM5giNQBlF9TgNiFZ8FDmZV1o/hTq."], ["created_at", "2019-10-16 07:12:39.730351"], ["updated_at", "2019-10-16 07:12:39.730351"], ["jti", "bce51425-2952-477b-bbf4-6b9602396553"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@player.com"], ["encrypted_password", "$2a$04$uzZyT3PwEhBgrE/Qatcr6u6wA5pBRSLQFKIMwAoZZ7Gx2yxq5seHC"], ["created_at", "2019-10-16 07:12:39.736156"], ["updated_at", "2019-10-16 07:12:39.736156"], ["jti", "106d51b5-ea3d-4272-8338-9b173a874dc4"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7148.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7148"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bce51425-2952-477b-bbf4-6b9602396553"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7148], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7148], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$bor/ZEFAqOjZLg6/c33TPeIciifYe9BB4X7/z3IaY40/3uJfn0nWq"], ["updated_at", "2019-10-16 07:12:39.751838"], ["id", 7148]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7148], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@cafe_owner.com"], ["encrypted_password", "$2a$04$eo0LjyG2520yaubtg0iLYumApm/FeyCrtMsT/cnfS2TV0P.uT14Wq"], ["created_at", "2019-10-16 07:12:39.764060"], ["updated_at", "2019-10-16 07:12:39.764060"], ["jti", "4a10c9bc-8586-4649-8fc3-9b5181c24036"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@cafe_owner.com"], ["encrypted_password", "$2a$04$YO753jsb8DKINDNwupljy.mcMjlheqpx6K5crB0B.H3aFkf1pVlea"], ["created_at", "2019-10-16 07:12:39.769390"], ["updated_at", "2019-10-16 07:12:39.769390"], ["jti", "7a60234b-c027-4df8-be3e-2832ecc504c9"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7150.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7150"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4a10c9bc-8586-4649-8fc3-9b5181c24036"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7150], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7150], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@cafe_owner.com"], ["encrypted_password", "$2a$04$PtDDUcGehGRvXkEg3ws.UumEd3yg72pB5bxNgkF4bWba6cDCsSXfe"], ["created_at", "2019-10-16 07:12:39.786665"], ["updated_at", "2019-10-16 07:12:39.786665"], ["jti", "a428933b-6040-4a35-8b4c-1c84c4039cf6"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_expert.com"], ["encrypted_password", "$2a$04$t7HTyaSGqKMWsQzBV3ScAuAUDvIi7PmeKvkEy/PRvr23uQoQDhplW"], ["created_at", "2019-10-16 07:12:39.792309"], ["updated_at", "2019-10-16 07:12:39.792309"], ["jti", "a1387d02-38a2-4ff1-b3e4-c4bb75a2719d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7152.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7152"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a428933b-6040-4a35-8b4c-1c84c4039cf6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7152], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7152], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@cafe_owner.com"], ["encrypted_password", "$2a$04$i1j.j4fcVJwMQ8XeZDZOq.gdRrxvmeIqM0LdB3saN7k1ANPGFeJka"], ["created_at", "2019-10-16 07:12:39.812196"], ["updated_at", "2019-10-16 07:12:39.812196"], ["jti", "328d1935-a8ab-404b-9d6a-190c6a16c30e"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_admin.com"], ["encrypted_password", "$2a$04$PkN/zUNWN0P/4vX6MMuDheZgaPd3yJPbaBejxxu4Jm04F/vhL4OGC"], ["created_at", "2019-10-16 07:12:39.817421"], ["updated_at", "2019-10-16 07:12:39.817421"], ["jti", "663cbc4e-3dba-4122-9e95-fa9ee4b83af1"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7154.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7154"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "328d1935-a8ab-404b-9d6a-190c6a16c30e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7154], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7154], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@cafe_owner.com"], ["encrypted_password", "$2a$04$zMBJ65B0A24qZzMp4LPvsedM.EA505jPxGpGYLYGg/gKDFUQPpgL2"], ["created_at", "2019-10-16 07:12:39.839183"], ["updated_at", "2019-10-16 07:12:39.839183"], ["jti", "ddc0016e-0dff-44e1-9903-e6ccf9e9f0bf"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test2@sys_master.com"], ["encrypted_password", "$2a$04$oWw5jHhs9BZbkJqsnNct/.hJ1lnyjhYOy0xRir/.0jS3tNaoD/BJW"], ["created_at", "2019-10-16 07:12:39.845523"], ["updated_at", "2019-10-16 07:12:39.845523"], ["jti", "4a8fad90-6049-413c-adeb-65a04313a48c"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7156.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7156"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ddc0016e-0dff-44e1-9903-e6ccf9e9f0bf"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7156], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7156], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@cafe_owner.com"], ["encrypted_password", "$2a$04$dxGct0LLpOKqguYEfrY9x.laCyqVB/hqO2mR.nxy03Yam09CX5RG2"], ["created_at", "2019-10-16 07:12:39.866558"], ["updated_at", "2019-10-16 07:12:39.866558"], ["jti", "1cb3e755-5e32-48c9-95d8-a0ddd90f86ce"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7157.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7157"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1cb3e755-5e32-48c9-95d8-a0ddd90f86ce"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7157], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:39.877058"], ["updated_at", "2019-10-16 07:12:39.877594"], ["id", 7157]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.1ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@cafe_owner.com"], ["encrypted_password", "$2a$04$lEkSg0VW3wrNhHNiig7rlOrvZddkap3HuJMr8WAMAfCQuBDYioq3."], ["created_at", "2019-10-16 07:12:39.906720"], ["updated_at", "2019-10-16 07:12:39.906720"], ["jti", "6b046eb6-8fa8-4cd3-a373-ec2d4f2b0c49"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@player.com"], ["encrypted_password", "$2a$04$OV64O1KxJnBnWFedBa6ci.zVxgc89dgtZ7lxCOqySRHV2NX.rBt1m"], ["created_at", "2019-10-16 07:12:39.911791"], ["updated_at", "2019-10-16 07:12:39.911791"], ["jti", "452196d5-19ad-4b46-acb7-acc871c07b56"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7159.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7159"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6b046eb6-8fa8-4cd3-a373-ec2d4f2b0c49"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7159], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:39.924236"], ["updated_at", "2019-10-16 07:12:39.924866"], ["id", 7159]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 1.3ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test7@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test7@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@cafe_owner.com"], ["encrypted_password", "$2a$04$TBk3CkZkwP7ZOXjR3rPgHumRowLrREksgclu5Ga4eDXUAuz.YuqjW"], ["created_at", "2019-10-16 07:12:39.948195"], ["updated_at", "2019-10-16 07:12:39.948195"], ["jti", "c36653a7-4d7b-4d34-917d-87904de4dc3f"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@cafe_owner.com"], ["encrypted_password", "$2a$04$OzUrfAPQwEmKQsKl6riklOVW/u4jRmhv4ZLsFA5WWwDOcz69HH9Ei"], ["created_at", "2019-10-16 07:12:39.953420"], ["updated_at", "2019-10-16 07:12:39.953420"], ["jti", "11dcaad9-77e2-41be-a874-51c60eda6c4d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7161.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7161"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c36653a7-4d7b-4d34-917d-87904de4dc3f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7161], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@cafe_owner.com"], ["encrypted_password", "$2a$04$rI5rd30FD45zIrP6VL.mfO1kt0cVl985EhhLKcIBNIW4oys0mHwZC"], ["created_at", "2019-10-16 07:12:39.972318"], ["updated_at", "2019-10-16 07:12:39.972318"], ["jti", "c109f578-9333-40a4-9b56-0e2cb29ebd27"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_expert.com"], ["encrypted_password", "$2a$04$I766AU99F0iTYGkBAIpxeOkQOx6z1cPtQSflDGWDTKiWmwiVoAsXe"], ["created_at", "2019-10-16 07:12:39.979203"], ["updated_at", "2019-10-16 07:12:39.979203"], ["jti", "2f0de280-c2b0-4ad2-b571-9917f8707f43"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started DELETE "/api/users/7163.json" for 127.0.0.1 at 2019-10-16 10:42:39 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7163"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c109f578-9333-40a4-9b56-0e2cb29ebd27"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7163], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@cafe_owner.com"], ["encrypted_password", "$2a$04$fA8N6FDwLxzSFllt7/RPlumI9.evwgO2Iuy6boX0ElUdDHWxv0Mja"], ["created_at", "2019-10-16 07:12:40.001505"], ["updated_at", "2019-10-16 07:12:40.001505"], ["jti", "5efa1cfc-119d-47f3-8eb5-279e99e5fad9"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_admin.com"], ["encrypted_password", "$2a$04$bzM2O/BGEFdws41LhaQgPuhmjt2tqxClV7f.XRHPD2jo8KxkwYcSu"], ["created_at", "2019-10-16 07:12:40.007442"], ["updated_at", "2019-10-16 07:12:40.007442"], ["jti", "71fd24f0-b2dd-41d6-a5d5-10ecadd648b4"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7165.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7165"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5efa1cfc-119d-47f3-8eb5-279e99e5fad9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7165], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@cafe_owner.com"], ["encrypted_password", "$2a$04$wh1wnCVXSJ24vQK9eX.CJOQFxwkbNuqw4rdo9UVsYhz6.KpUdnA/."], ["created_at", "2019-10-16 07:12:40.027811"], ["updated_at", "2019-10-16 07:12:40.027811"], ["jti", "efa6b543-6087-4728-983c-084aa02ab9ff"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test3@sys_master.com"], ["encrypted_password", "$2a$04$tj7IKLKpTkK3YigsvfEJveHCzSYFacIM.DNibwCQSXcKUTk/5nqIe"], ["created_at", "2019-10-16 07:12:40.032524"], ["updated_at", "2019-10-16 07:12:40.032524"], ["jti", "a0e95c4a-8284-4918-ad38-6cd5a67225c8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@cafe_owner.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7167.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7167"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "efa6b543-6087-4728-983c-084aa02ab9ff"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7167], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@player.com"], ["encrypted_password", "$2a$04$R9pjg2IBBlNNtKsULteFQuk3rNOCaBgvjLPdZSRP36kBO9OstBW5G"], ["created_at", "2019-10-16 07:12:40.051437"], ["updated_at", "2019-10-16 07:12:40.051437"], ["jti", "0e60de7f-adbf-4b69-860d-a86660419dde"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0e60de7f-adbf-4b69-860d-a86660419dde"], ["LIMIT", 1]]
Unpermitted parameter: :role
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@player.com"], ["encrypted_password", "$2a$04$.NJ21fODcavZDrJv.fDGNe6a7a3.3e/NanKeaqmfS.KjT88ANg3R."], ["created_at", "2019-10-16 07:12:40.073641"], ["updated_at", "2019-10-16 07:12:40.073641"], ["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7169.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7169"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7169], ["LIMIT", 1]]
  [1m[36mUser Update (3.0ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$hOfrNiKf35j8QMx9OUsbVeDPSebjWI2P8BWkZAX2H7Re/jhx4/w.e"], ["updated_at", "2019-10-16 07:12:40.087406"], ["id", 7169]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 4.3ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5f88c20-0017-4f9f-a0de-5f274329dd93"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "3d3a6b7d-b187-4cad-9852-6c0e7ee49329"], ["id", 7169]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "bb807984-11aa-47c2-9665-7756e4d3e8f1"], ["id", 7169]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@player.com"], ["encrypted_password", "$2a$04$1leyZgiUAg4NsLsTBVsyWuMuZPFSo6Sop3nUK2uRVetKOzQ/azhDW"], ["created_at", "2019-10-16 07:12:40.117323"], ["updated_at", "2019-10-16 07:12:40.117323"], ["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7170.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7170"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7170], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$.QR8oiyeiooh6uXFrco8/.mV7rpV.odSf4gyVxOZCkbN6x2H2Pf4a"], ["updated_at", "2019-10-16 07:12:40.132016"], ["id", 7170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4b3c60cc-4903-49c4-bc26-d809cd85ec6d"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "266b477f-c2dd-433d-b872-7e941b0b8d13"], ["id", 7170]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4a608af0-b1ed-4f51-849a-7ceb3d93905a"], ["id", 7170]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7170], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@player.com"], ["encrypted_password", "$2a$04$H2uDwPgMhEKy7/m00X52HOxBJ/E7JtlK8jOZB9z/We55XgkhbWfzq"], ["created_at", "2019-10-16 07:12:40.160026"], ["updated_at", "2019-10-16 07:12:40.160026"], ["jti", "21ea1744-a8db-4f1e-9286-8c967257e962"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@player.com"], ["encrypted_password", "$2a$04$Uz8UnStQABg8ulZMyMam9uueQzsTa/O0LS2dc79gZBudAoN36..vO"], ["created_at", "2019-10-16 07:12:40.165731"], ["updated_at", "2019-10-16 07:12:40.165731"], ["jti", "2d52abe4-702f-4ecf-9894-23feea813633"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7172.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7172"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "21ea1744-a8db-4f1e-9286-8c967257e962"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7172], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7172], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@player.com"], ["encrypted_password", "$2a$04$ZmrU8KCWx5z.PVDlug7R9ukTeDq34ts46xs.TQ5SEn4iGRdoBMyKy"], ["created_at", "2019-10-16 07:12:40.186172"], ["updated_at", "2019-10-16 07:12:40.186172"], ["jti", "09225bcd-8678-4e8e-a4a9-79c31a314b15"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@cafe_owner.com"], ["encrypted_password", "$2a$04$QczO9LPVMhyZXxYkHxgRmeKCxh9qeEGcDT/47CPzI7Ls5GOqThN/e"], ["created_at", "2019-10-16 07:12:40.191987"], ["updated_at", "2019-10-16 07:12:40.191987"], ["jti", "2e5b1aa7-9ee3-417f-8b4d-1d2a80d5b944"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7174.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7174"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09225bcd-8678-4e8e-a4a9-79c31a314b15"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7174], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7174], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@player.com"], ["encrypted_password", "$2a$04$P1ioxME6q/dlIWrRWSzmS.U9SwqVHkEMg6ypPEkYxXD9XcQtAkHJG"], ["created_at", "2019-10-16 07:12:40.211201"], ["updated_at", "2019-10-16 07:12:40.211201"], ["jti", "749fafea-7ecf-4ccf-93c4-4dd38c95dfb8"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_expert.com"], ["encrypted_password", "$2a$04$uT0qMfLa8wqqDnW7mC5Vve2SKoPBqB9bUVqt1mja.YpQovOOTzKOO"], ["created_at", "2019-10-16 07:12:40.216021"], ["updated_at", "2019-10-16 07:12:40.216021"], ["jti", "aefe2dfa-6687-4831-94fd-2c3ee803b81d"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@player.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7176.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7176"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "749fafea-7ecf-4ccf-93c4-4dd38c95dfb8"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7176], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7176], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@player.com"], ["encrypted_password", "$2a$04$0c0AchCODUgfQg6nZJ10Hu4D9E7PC/bNoZ0dgW18ivB/oR8n0QCoC"], ["created_at", "2019-10-16 07:12:40.241116"], ["updated_at", "2019-10-16 07:12:40.241116"], ["jti", "364bf3b2-10da-4b55-8ea9-cdd1b4d6a087"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_admin.com"], ["encrypted_password", "$2a$04$aXHm.ODTXJtP1gc6f5VCCupVtWuKRAIv5aeeIVwYtkcFBRvmlWjf6"], ["created_at", "2019-10-16 07:12:40.257823"], ["updated_at", "2019-10-16 07:12:40.257823"], ["jti", "f77258b3-42c7-4320-a861-dba37d77eaaf"], ["role", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7178.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7178"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "364bf3b2-10da-4b55-8ea9-cdd1b4d6a087"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7178], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7178], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@player.com"], ["encrypted_password", "$2a$04$rJoMJwMt2vOJ7O5UHz4R9.oMbFlwiVTqbUB5XjdRG1PZC2lRhFxEK"], ["created_at", "2019-10-16 07:12:40.279856"], ["updated_at", "2019-10-16 07:12:40.279856"], ["jti", "3609cb7a-d3be-4b05-810a-dbdfd3f9d6d2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test4@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test4@sys_master.com"], ["encrypted_password", "$2a$04$mAnNVha34dTjTQBSgE3umeaT/N8P0IAOgN.o0KcNIVi.TIDOqHRme"], ["created_at", "2019-10-16 07:12:40.285211"], ["updated_at", "2019-10-16 07:12:40.285211"], ["jti", "97133881-b136-4219-8778-5c01bdc4a3d2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7180.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7180"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3609cb7a-d3be-4b05-810a-dbdfd3f9d6d2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7180], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7180], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@player.com"], ["encrypted_password", "$2a$04$Xc0NqS9bqg3lrvq.axwOPuqHxg6R.F0UngEQ68DSbC/UpNKfMvuJm"], ["created_at", "2019-10-16 07:12:40.303535"], ["updated_at", "2019-10-16 07:12:40.303535"], ["jti", "524fa0dc-d719-44b5-b7d5-f73a4aac530b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7181.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7181"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "524fa0dc-d719-44b5-b7d5-f73a4aac530b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7181], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:40.316193"], ["updated_at", "2019-10-16 07:12:40.316871"], ["id", 7181]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@player.com"], ["encrypted_password", "$2a$04$F4m3Bv7lXJVol/KfIcDHyOdoWZp.zxN1KdoeffGRye6EJgiyf8xF."], ["created_at", "2019-10-16 07:12:40.332728"], ["updated_at", "2019-10-16 07:12:40.332728"], ["jti", "edae1a54-3ccf-420a-a0e7-1f0fcdc51c55"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@player.com"], ["encrypted_password", "$2a$04$bYhQeav8MBsloNcUFh5wruzlcPaJquHnxSLcjHH4yW/R7t7JF.qri"], ["created_at", "2019-10-16 07:12:40.337863"], ["updated_at", "2019-10-16 07:12:40.337863"], ["jti", "e17af1ed-0f0b-44a1-8578-0e8e7f6a5d43"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7183.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7183"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "edae1a54-3ccf-420a-a0e7-1f0fcdc51c55"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7183], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@player.com"], ["encrypted_password", "$2a$04$LiVfiF6nTsTuFOcoOsNL6u9GuFv9pl4mcSlTZrbhz78JVy65rH7b2"], ["created_at", "2019-10-16 07:12:40.357992"], ["updated_at", "2019-10-16 07:12:40.357992"], ["jti", "c4e8bc4d-3bc8-49b6-a244-d1b75ccef15b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@cafe_owner.com"], ["encrypted_password", "$2a$04$idErU5sh4Uf9ueJDiGQ1leOsJ8A/rd15JFDSFQ93lGVk0RADfn7Q2"], ["created_at", "2019-10-16 07:12:40.363957"], ["updated_at", "2019-10-16 07:12:40.363957"], ["jti", "e08e84ca-ee1e-4e78-8073-844c24877ead"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started DELETE "/api/users/7185.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7185"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c4e8bc4d-3bc8-49b6-a244-d1b75ccef15b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7185], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@player.com"], ["encrypted_password", "$2a$04$/Om9h.jd0xR91wk/jZIRA.sN289ZTE8Z8Yz2cocYad1Q1P7UxGqTS"], ["created_at", "2019-10-16 07:12:40.382113"], ["updated_at", "2019-10-16 07:12:40.382113"], ["jti", "da37a099-f017-4e82-844f-858066b7d10e"], ["role", 4]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_expert.com"], ["encrypted_password", "$2a$04$ZglQmwGxo/zaQI88EMMdVO1zFhy0LILq9JbCCAtu01RJAk8FU/Ahu"], ["created_at", "2019-10-16 07:12:40.389775"], ["updated_at", "2019-10-16 07:12:40.389775"], ["jti", "3c1a0a9b-2f22-4a2d-b9e0-7d74182a336f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7187.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7187"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da37a099-f017-4e82-844f-858066b7d10e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7187], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@player.com"], ["encrypted_password", "$2a$04$P9Wq2BZAindkjU1sw7jmAuooJVlSFIvuQbjJQ15tH6Iu3KGv049ee"], ["created_at", "2019-10-16 07:12:40.408523"], ["updated_at", "2019-10-16 07:12:40.408523"], ["jti", "d7e98330-8acd-4cde-adc3-8f6bac934166"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_admin.com"], ["encrypted_password", "$2a$04$Uy.FgN9YBM/KwPUyJjP7fuqy.BJ/RWwgzdTXYIrk3qt.KwZkGliYe"], ["created_at", "2019-10-16 07:12:40.413205"], ["updated_at", "2019-10-16 07:12:40.413205"], ["jti", "8739f043-5f06-4d0c-9d55-30e20c7c5d2a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7189.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7189"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d7e98330-8acd-4cde-adc3-8f6bac934166"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7189], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@player.com"], ["encrypted_password", "$2a$04$7NW5E1kK97zsoxnTreCCauJkVGfmgyHq9iVB0raPEd6qcsb3bk77O"], ["created_at", "2019-10-16 07:12:40.434637"], ["updated_at", "2019-10-16 07:12:40.434637"], ["jti", "957079c3-d9cf-4d39-864d-18c620cfafec"], ["role", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test5@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test5@sys_master.com"], ["encrypted_password", "$2a$04$imCNgSd/M/cnNgzbKCa8SOBKsUHG/sBNwvBKSw4SliFYH6Fwell86"], ["created_at", "2019-10-16 07:12:40.441347"], ["updated_at", "2019-10-16 07:12:40.441347"], ["jti", "a49cbe81-71f5-46c4-b9d1-073fd0e7db25"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7191.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7191"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "957079c3-d9cf-4d39-864d-18c620cfafec"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7191], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_admin.com"], ["encrypted_password", "$2a$04$8MjA8seybT8RH6c.fo6MTOi0oMyVOqreLxyIdiIfoPWjAd3Omixlu"], ["created_at", "2019-10-16 07:12:40.462291"], ["updated_at", "2019-10-16 07:12:40.462291"], ["jti", "28f063e2-9141-4fb4-88cf-d3e10105ccfa"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "28f063e2-9141-4fb4-88cf-d3e10105ccfa"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$UUtBKOFfVzIJSwxj3yzaa.EHM3dBbykvrmin1/GHc1j2TwVhGlW9."], ["created_at", "2019-10-16 07:12:40.479603"], ["updated_at", "2019-10-16 07:12:40.479603"], ["jti", "63297f2f-8c32-4c3e-a4bc-83aef6c9cbfa"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_admin.com"], ["encrypted_password", "$2a$04$kgke8uSbZM8LDShc/jwdAuBxEQRrdvsHSdcybWN9VSGCCvITFaJpC"], ["created_at", "2019-10-16 07:12:40.488815"], ["updated_at", "2019-10-16 07:12:40.488815"], ["jti", "13cf7ccb-949c-492f-a95c-7f125cf9bd8b"], ["role", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test7@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test7@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "13cf7ccb-949c-492f-a95c-7f125cf9bd8b"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$Kp06ngxkFcZI5CPi7ju79OhR.qhS4piOCEEOSNZlccX1JjmdOSTSO"], ["created_at", "2019-10-16 07:12:40.505748"], ["updated_at", "2019-10-16 07:12:40.505748"], ["jti", "b77912aa-4bbe-496b-bc5d-c8ad29007405"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_admin.com"], ["encrypted_password", "$2a$04$Xujh3yack5q6pwDODtfK3OZXBTed/PNvYDUdCWXtIcxm.iKMOrL2y"], ["created_at", "2019-10-16 07:12:40.517376"], ["updated_at", "2019-10-16 07:12:40.517376"], ["jti", "5179343e-1702-4afa-a9e1-fe8355090dc7"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test8@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test8@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5179343e-1702-4afa-a9e1-fe8355090dc7"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$UlzrkEe0zGEhv432/nPcI.RGz7mNm7FDDSJmF9dmRdTV1jpuf6vVy"], ["created_at", "2019-10-16 07:12:40.533330"], ["updated_at", "2019-10-16 07:12:40.533330"], ["jti", "a543f7c2-6099-42f1-8a1d-e076150077ea"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_admin.com"], ["encrypted_password", "$2a$04$t/2YOeiTELqueE.TgzcxTOvYAXMT5FUbHEwYZvnCNrRe9JiBuTV.a"], ["created_at", "2019-10-16 07:12:40.543193"], ["updated_at", "2019-10-16 07:12:40.543193"], ["jti", "f3a6e50a-c166-4dcf-86cc-9f091d96ab48"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test9@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test9@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f3a6e50a-c166-4dcf-86cc-9f091d96ab48"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$E9EBYNKRqwCYKegpZWLrYO9VNwE3HdLDgNJ8vmuIeR4AdxqHp/pSO"], ["created_at", "2019-10-16 07:12:40.560275"], ["updated_at", "2019-10-16 07:12:40.560275"], ["jti", "e5ae0485-5277-47c6-a115-4104090f10ff"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_admin.com"], ["encrypted_password", "$2a$04$yOUF8atM6QCxaV94hKAadeftxkcIZSnxlMV92Q/cuL28Bgbi3vhc."], ["created_at", "2019-10-16 07:12:40.577055"], ["updated_at", "2019-10-16 07:12:40.577055"], ["jti", "fa215a38-89b6-45ef-be6a-e9091a6b09c4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "fa215a38-89b6-45ef-be6a-e9091a6b09c4"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$gMzWFYXu2bbmvFd49eqwoOKDdvLZunpyBIGeABF7PEtZQKX3/XTmi"], ["created_at", "2019-10-16 07:12:40.591852"], ["updated_at", "2019-10-16 07:12:40.591852"], ["jti", "7a4911b6-340a-4655-a7ac-89b1385ae1c0"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_admin.com"], ["encrypted_password", "$2a$04$/X1vT0cuPciEjbfsBSQvRO9ol3uFSuILtf8gjxqPIGjAL53H3L9ga"], ["created_at", "2019-10-16 07:12:40.604266"], ["updated_at", "2019-10-16 07:12:40.604266"], ["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7202.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7202"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7202], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Ut/PHQLnXOWXhIdraaDBdOAjR4NFxMXRkPns9QwA4tP2ePuqGTanC"], ["role", 4], ["updated_at", "2019-10-16 07:12:40.620497"], ["id", 7202]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b697bf7e-a4f4-4cbb-925f-ef2dd17afbc5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a6dcdf1f-5379-4495-b148-e60b4af3093f"], ["id", 7202]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a9bc0b56-95c2-487e-8e85-3e3a94bc834d"], ["id", 7202]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7202], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_admin.com"], ["encrypted_password", "$2a$04$OcUtrJ4RIyDFFlj6P3Ugh.PnAHU79Pkpwty61ynW1rRZO.q8xrNvu"], ["created_at", "2019-10-16 07:12:40.648359"], ["updated_at", "2019-10-16 07:12:40.648359"], ["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7203.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7203"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7203], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$MwXuaao5VHAXChummAYYauDmMLymGgaOl1byHmNK5RVwPlmXwOgJS"], ["role", 3], ["updated_at", "2019-10-16 07:12:40.664548"], ["id", 7203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a93ad581-aa9d-4bb6-946f-86efe9904d5c"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7eea34cc-521e-460b-94f5-9262e709ea02"], ["id", 7203]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "b811804b-68f0-48e8-8a5a-a1fd1336fd0b"], ["id", 7203]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7203], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_admin.com"], ["encrypted_password", "$2a$04$81O9vlelV6k/ets0fN22HOzbFiylZeBi0oibdyw5MrwSnVDjKe69e"], ["created_at", "2019-10-16 07:12:40.691857"], ["updated_at", "2019-10-16 07:12:40.691857"], ["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7204.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7204"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7204], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$6U3JPKHw9OOVkvMiUWLpuOK8lNE.wccE4v9OkA69XV8hYUYnDnfq."], ["role", 2], ["updated_at", "2019-10-16 07:12:40.709119"], ["id", 7204]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "52c61ecb-6949-4a99-8d7b-f857e81a503e"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7f701049-f024-4990-bf1b-7a15ae62c477"], ["id", 7204]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "6ee1bf32-0582-4851-b67e-0c30da3f8bc8"], ["id", 7204]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7204], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_admin.com"], ["encrypted_password", "$2a$04$UBH4725vj7x1H.x4p.76v.uy4E3TY5.R3cpu6WdmXAOlNskL9vD66"], ["created_at", "2019-10-16 07:12:40.738715"], ["updated_at", "2019-10-16 07:12:40.738715"], ["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7205.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7205"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7205], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$/YDfB9CnTKYh28wIYaiPjOCAFXPLvxHFmcfWzHZgi02NbXfxP3AKS"], ["updated_at", "2019-10-16 07:12:40.753883"], ["id", 7205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da54099f-b6bc-41af-a6a4-6abf320e3c24"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "638dd892-b8f4-4501-9179-7c9a03b029c4"], ["id", 7205]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "a439f114-4267-4bf4-b0ae-18e4cff55865"], ["id", 7205]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_admin.com"], ["encrypted_password", "$2a$04$AHOisQzY872wGNa2Uvc24.HDOXmg6.6XL65JQOlonSS/g/231D4ye"], ["created_at", "2019-10-16 07:12:40.781676"], ["updated_at", "2019-10-16 07:12:40.781676"], ["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7206.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7206"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7206], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$IfS2m/B86lCTtMUK0aQxNem2yRA.NWapirj1a6Fko/Sp3DXjOZ/je"], ["updated_at", "2019-10-16 07:12:40.798461"], ["id", 7206]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a7437d67-8511-4ec9-ba45-963e039773dd"], ["LIMIT", 1]]
  [1m[36mApiUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "70d08500-6d5d-42b3-92d5-5e307649b537"], ["id", 7206]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.1ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "fe8c7970-480e-4156-b4a2-0594d88cc8bf"], ["id", 7206]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7206], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_admin.com"], ["encrypted_password", "$2a$04$WxpdUyG5Uh44o8E48v1dvue.EG3WJ1YffwCKCB1XPDgsvRmpF8ODS"], ["created_at", "2019-10-16 07:12:40.824014"], ["updated_at", "2019-10-16 07:12:40.824014"], ["jti", "963c4f60-afc7-4c1d-87dc-af7a0ba4ed1f"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@player.com"], ["encrypted_password", "$2a$04$BDyHf9RE8Uj614QAyhSMy.MAbmq1qVN67DawGl.YHxQRMRbyVVF46"], ["created_at", "2019-10-16 07:12:40.829606"], ["updated_at", "2019-10-16 07:12:40.829606"], ["jti", "e2c75014-92bd-4087-807c-5159494fa7ec"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7208.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7208"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "963c4f60-afc7-4c1d-87dc-af7a0ba4ed1f"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7208], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7208], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$v/CgRJo7ZUY5MVpkaeCXjuHuo81NgO/EKS2lLDckLE/na/AzUj.dG"], ["updated_at", "2019-10-16 07:12:40.844442"], ["id", 7208]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7208], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_admin.com"], ["encrypted_password", "$2a$04$BXjmpUrG2j1UvLlz1jQlmutzOJVYwFy/P4IfpRTkcxFk6t5ilvDl2"], ["created_at", "2019-10-16 07:12:40.855644"], ["updated_at", "2019-10-16 07:12:40.855644"], ["jti", "610f3951-a021-4a44-98ed-d3f20b5eaca3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@player.com"], ["encrypted_password", "$2a$04$f2WK9eoLl.EPWUF.83mOPevMAp7qKGk93ICxLN.JP7v2naww2Lo7m"], ["created_at", "2019-10-16 07:12:40.861410"], ["updated_at", "2019-10-16 07:12:40.861410"], ["jti", "2471aa09-def9-4fbe-aebc-8526931d8cf3"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7210.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7210"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "610f3951-a021-4a44-98ed-d3f20b5eaca3"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7210], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7210], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$WB9xYvFH90JcJQcP14ymyujlZQPLp/gU4B3iLlIHtwOv8DGFsoV5K"], ["updated_at", "2019-10-16 07:12:40.883435"], ["id", 7210]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7210], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_admin.com"], ["encrypted_password", "$2a$04$bJFeAzngGxHQWdW9G9YMhembpVDodZyTsglUiKVeT1BpgsSlQf5SC"], ["created_at", "2019-10-16 07:12:40.894000"], ["updated_at", "2019-10-16 07:12:40.894000"], ["jti", "bb6d6fa5-c293-47e4-8e7d-02a881a09573"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@player.com"], ["encrypted_password", "$2a$04$4b3mkeRufiui19FdncW.COKGeoPV9P.SccOrzVrieQjzFYGCrtbrq"], ["created_at", "2019-10-16 07:12:40.899532"], ["updated_at", "2019-10-16 07:12:40.899532"], ["jti", "882892ff-2d58-4e91-a70b-1b41996eeed7"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7212.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7212"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bb6d6fa5-c293-47e4-8e7d-02a881a09573"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7212], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7212], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$nCJJTIynu4iIMyHZsLiIj.0dzafrTwTfq.nbI4S/xpgoZjJCzOkAu"], ["updated_at", "2019-10-16 07:12:40.915700"], ["id", 7212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7212], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_admin.com"], ["encrypted_password", "$2a$04$rqxZzE74MfQP/98DKjP1b.C90Pdnnbu8AWPu6fp1eODUoc3wER.M."], ["created_at", "2019-10-16 07:12:40.925207"], ["updated_at", "2019-10-16 07:12:40.925207"], ["jti", "dcd35ee8-a20d-4119-97a5-6efe214d9573"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@player.com"], ["encrypted_password", "$2a$04$ebrBsw2Cxfy14VjRmIsr.u9uAEfo0QTNB7u2IC0TIUq/XOYV2Jp5e"], ["created_at", "2019-10-16 07:12:40.930946"], ["updated_at", "2019-10-16 07:12:40.930946"], ["jti", "2261e136-75c5-4bc3-921b-ad9de022518f"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7214.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7214"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcd35ee8-a20d-4119-97a5-6efe214d9573"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7214], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7214], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$CoIWNtFLeqLOcMsqH4EDx.BMJcsz3T1xX1pb/DAQTdmF4tqd7mB6G"], ["updated_at", "2019-10-16 07:12:40.948758"], ["id", 7214]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 2.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7214], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_admin.com"], ["encrypted_password", "$2a$04$pWzWSdyLf9F1x581gk1.Te57ofpjWf8bUaIOD7ZnxgRsclBOfshNu"], ["created_at", "2019-10-16 07:12:40.959437"], ["updated_at", "2019-10-16 07:12:40.959437"], ["jti", "821e674a-3937-4906-8f02-4e673a09335a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@cafe_owner.com"], ["encrypted_password", "$2a$04$rETS.1h0dDYuxKWj0CvdC.Ngul.JmS/fhcZ7l4XBGO6pW6CdpNbW."], ["created_at", "2019-10-16 07:12:40.965826"], ["updated_at", "2019-10-16 07:12:40.965826"], ["jti", "834de729-7de6-4651-8681-888664a024c3"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7216.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7216"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "821e674a-3937-4906-8f02-4e673a09335a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7216], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7216], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$eIKvnPI/EeW07SMLW1sv1ua.YP6nT9FqgBTrvaxqvKax8AE6yVkmC"], ["updated_at", "2019-10-16 07:12:40.981979"], ["id", 7216]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7216], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_admin.com"], ["encrypted_password", "$2a$04$/.Ug9/IQsLXFnxUKlPnQuOzpWje8dOmocgjiH0vUNIvg3UZ2V9/Aq"], ["created_at", "2019-10-16 07:12:40.992569"], ["updated_at", "2019-10-16 07:12:40.992569"], ["jti", "33ecd793-aa4f-4ffa-8701-7feeb029cca4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@cafe_owner.com"], ["encrypted_password", "$2a$04$22HlAql0oDDmPPNAQNZDRec9EdLnp8vM4s/MbfkhWhKOn/Cu1g03i"], ["created_at", "2019-10-16 07:12:40.997405"], ["updated_at", "2019-10-16 07:12:40.997405"], ["jti", "7e584d5d-d124-4afa-9afa-909b63819ec3"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:40 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7218.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7218"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "33ecd793-aa4f-4ffa-8701-7feeb029cca4"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7218], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7218], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$XGq4gjf9MDfhss.DxVa/f.K.STqNO2t.H9TLoUOrTs1j0jb/5EvYe"], ["updated_at", "2019-10-16 07:12:41.013074"], ["id", 7218]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7218], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_admin.com"], ["encrypted_password", "$2a$04$rQJXwJmP4ED/4lAUaHbr8u69AY9QcjixsGcD.qUXpiFdhV142ZUZi"], ["created_at", "2019-10-16 07:12:41.022568"], ["updated_at", "2019-10-16 07:12:41.022568"], ["jti", "a9611736-9288-4d29-87bf-93f1ae228860"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@cafe_owner.com"], ["encrypted_password", "$2a$04$89MpJm7iAaKqinsJXDCRb.lhitI6KGm5hBUI.nvdax9dVVQvWrWRO"], ["created_at", "2019-10-16 07:12:41.028984"], ["updated_at", "2019-10-16 07:12:41.028984"], ["jti", "15948475-039b-4bfa-91d3-c758faf1c4f1"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7220.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7220"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a9611736-9288-4d29-87bf-93f1ae228860"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7220], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7220], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$6fesmjaZqEW5GYei0eMu9.ukt9JPCoBuD1uqZy/FV0bKUMIFHmKkG"], ["updated_at", "2019-10-16 07:12:41.044648"], ["id", 7220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7220], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_expert.com"], ["encrypted_password", "$2a$04$HMKAT0.8sk3KoQXAKvD2PeLHDgVboQRYP.lKC7CzbgNo7kg6QF6Dq"], ["created_at", "2019-10-16 07:12:41.054742"], ["updated_at", "2019-10-16 07:12:41.054742"], ["jti", "f26c7648-f04d-489a-84ce-a0e306015a2e"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@cafe_owner.com"], ["encrypted_password", "$2a$04$rx5xfqQY9L0Cjr3J5sQDbe3x1U1wmwmgiVviOSbkITDRkuHK4WBze"], ["created_at", "2019-10-16 07:12:41.060637"], ["updated_at", "2019-10-16 07:12:41.060637"], ["jti", "d490af2a-f9c0-4a17-b363-72ca39bad51d"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test6@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test6@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7222.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7222"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f26c7648-f04d-489a-84ce-a0e306015a2e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7222], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7222], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$T5DXrTYu2tf0pcfljBKG9.soodhhoKrsojuBg/IRaqdSn.KcAe1IK"], ["updated_at", "2019-10-16 07:12:41.080003"], ["id", 7222]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7222], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_admin.com"], ["encrypted_password", "$2a$04$oDWKenPgygtIJiNK3mDcVuuyGObSuL6EjGBF358J1/bw/iPs.aNDW"], ["created_at", "2019-10-16 07:12:41.090597"], ["updated_at", "2019-10-16 07:12:41.090597"], ["jti", "5112d5b8-c209-4f9e-8d6e-f54115e60cb3"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_expert.com"], ["encrypted_password", "$2a$04$bLECjpqAZLd6HXeCEUCip.7beBHmtlqal0Cwv1qHOGytopsk4RhwK"], ["created_at", "2019-10-16 07:12:41.096313"], ["updated_at", "2019-10-16 07:12:41.096313"], ["jti", "46da4918-af08-487f-905e-ae29c69957d9"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7224.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7224"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5112d5b8-c209-4f9e-8d6e-f54115e60cb3"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7224], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7224], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$SDnL24pwnLMqEIEXEsUnJeOFseBcTYTTL3dNuKquFC2Gof3qgEdXS"], ["updated_at", "2019-10-16 07:12:41.113317"], ["id", 7224]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7224], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_admin.com"], ["encrypted_password", "$2a$04$POP85eqXi7w.chxRfC9NZus.7kISxuEeihcDiJlKUnl0jD9nHe1py"], ["created_at", "2019-10-16 07:12:41.123093"], ["updated_at", "2019-10-16 07:12:41.123093"], ["jti", "73cc3d4a-e970-43b8-8fa7-418d830ba443"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_expert.com"], ["encrypted_password", "$2a$04$SjMUmYXTd8O2x7QsgFkinuOAOI8F4TCB0inDqFw3U0DJC47bLOJB6"], ["created_at", "2019-10-16 07:12:41.128147"], ["updated_at", "2019-10-16 07:12:41.128147"], ["jti", "b367730f-c897-437d-876e-05621a9aa7cb"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7226.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7226"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "73cc3d4a-e970-43b8-8fa7-418d830ba443"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7226], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$TWnWhjpiq7bS4ZXdjCWP2u/C/t/f8GdvLVKX8cNmXmGfGoqiBu3JK"], ["updated_at", "2019-10-16 07:12:41.145976"], ["id", 7226]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_admin.com"], ["encrypted_password", "$2a$04$sQx4trTNwqyuok1XARIRQePTLmfZNbifTv1Yq948HVTsw4nIq6t0i"], ["created_at", "2019-10-16 07:12:41.155833"], ["updated_at", "2019-10-16 07:12:41.155833"], ["jti", "a289a2b0-358c-48c6-a080-dc2c7ff858a4"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_expert.com"], ["encrypted_password", "$2a$04$zrjBpUcXqYRDZ1CitNa6B.8dZqfpQa6.dvJZnYuRE9pR3SuGzW3QC"], ["created_at", "2019-10-16 07:12:41.160553"], ["updated_at", "2019-10-16 07:12:41.160553"], ["jti", "3f995847-c21f-445b-85b5-cc26e0476d35"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7228.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7228"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a289a2b0-358c-48c6-a080-dc2c7ff858a4"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7228], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7228], ["LIMIT", 1]]
  [1m[36mUser Update (15.2ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$b4NZNqSQE3YcsWKXp5vq5.I4.j0HG3KXM75BsEw5l2W4/ZE1jjAtW"], ["updated_at", "2019-10-16 07:12:41.177054"], ["id", 7228]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 25ms (Views: 1.1ms | ActiveRecord: 16.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7228], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_admin.com"], ["encrypted_password", "$2a$04$kikq4JqlReyLvdV7vaEvh.OAOqoBE4fNz9bz.4vsra3Drecf1rwWm"], ["created_at", "2019-10-16 07:12:41.205860"], ["updated_at", "2019-10-16 07:12:41.205860"], ["jti", "6f860777-1eed-4378-bd1e-ad80857c9ddc"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_expert.com"], ["encrypted_password", "$2a$04$HZvYoIBcqwKzi4.D8eoOC.vM2oQr3McdKkIXPIEHHsXruS51ysXY2"], ["created_at", "2019-10-16 07:12:41.219814"], ["updated_at", "2019-10-16 07:12:41.219814"], ["jti", "299e113d-c709-4b0f-9f77-854529df383d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7230.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7230"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6f860777-1eed-4378-bd1e-ad80857c9ddc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7230], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7230], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$NNQXQ.ofdfEbi99KreaLGe1USbBfez2cnKZ7kFC5bpO6K.ErSlc7O"], ["updated_at", "2019-10-16 07:12:41.236990"], ["id", 7230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7230], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_admin.com"], ["encrypted_password", "$2a$04$nuceGJjEImVtNq63ZEvMh.V4avccc9qXReYOIMzEthFaJH.U.BaPa"], ["created_at", "2019-10-16 07:12:41.246940"], ["updated_at", "2019-10-16 07:12:41.246940"], ["jti", "b5ce780b-2beb-412f-adce-83f1cb9dc56d"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_admin.com"], ["encrypted_password", "$2a$04$gX8NvzZhS4txWGb59mutKOHIODY3Cp9/JfoYjg/izvbgP6ST139gu"], ["created_at", "2019-10-16 07:12:41.252531"], ["updated_at", "2019-10-16 07:12:41.252531"], ["jti", "27470706-fa95-45b5-8563-46c5a4a6359e"], ["role", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7232.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7232"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b5ce780b-2beb-412f-adce-83f1cb9dc56d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7232], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7232], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_admin.com"], ["encrypted_password", "$2a$04$4zzM7jE5vks42i6ZSg.xveVeOGlghuTQq43ClcoEtHCzIZ8fnl4EO"], ["created_at", "2019-10-16 07:12:41.274340"], ["updated_at", "2019-10-16 07:12:41.274340"], ["jti", "d282fcc0-506e-4e4c-a0d7-5878611f4976"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test6@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test6@sys_master.com"], ["encrypted_password", "$2a$04$0NT9SwFB2sp9H64FMFYK7.XBiIziTrNZv7i7BdCylZ3QkgfBYYNUu"], ["created_at", "2019-10-16 07:12:41.281330"], ["updated_at", "2019-10-16 07:12:41.281330"], ["jti", "9ff96a01-b72d-4d3d-8598-dbc0751d23f2"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7234.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7234"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d282fcc0-506e-4e4c-a0d7-5878611f4976"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7234], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7234], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_admin.com"], ["encrypted_password", "$2a$04$iYSSdBXegTI/ywq.n.6vfuVMjKD1x5Z1cPpWzUbdokH4B2pElZeTq"], ["created_at", "2019-10-16 07:12:41.303178"], ["updated_at", "2019-10-16 07:12:41.303178"], ["jti", "02446eca-4eff-4a09-9bf2-7f2602cbcbda"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started DELETE "/api/users/7235.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7235"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "02446eca-4eff-4a09-9bf2-7f2602cbcbda"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7235], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.315922"], ["updated_at", "2019-10-16 07:12:41.316778"], ["id", 7235]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.4ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_admin.com"], ["encrypted_password", "$2a$04$2Mf6vqNjNsSAuS.NDiBwDekRejqYdgynZJXmOVisJhN98B34u0j4m"], ["created_at", "2019-10-16 07:12:41.333285"], ["updated_at", "2019-10-16 07:12:41.333285"], ["jti", "8a8bbe30-7202-49c2-aa8b-7c4c630be17c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@player.com"], ["encrypted_password", "$2a$04$DTNam77LnD78iEe6nNtsS.AqX5.xHuP6xWP2lduKDYHBNgrHuwOHi"], ["created_at", "2019-10-16 07:12:41.339657"], ["updated_at", "2019-10-16 07:12:41.339657"], ["jti", "d141f01d-5576-4541-8882-12f1e587f6e0"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7237.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7237"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8a8bbe30-7202-49c2-aa8b-7c4c630be17c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7237], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.352383"], ["updated_at", "2019-10-16 07:12:41.353147"], ["id", 7237]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_admin.com"], ["encrypted_password", "$2a$04$Ezp/VYJeTMixWYB/JnvSdeTgAT6aMeA/5ESaMw9mykVA7wBRn.mWK"], ["created_at", "2019-10-16 07:12:41.369124"], ["updated_at", "2019-10-16 07:12:41.369124"], ["jti", "2841b92d-789f-4407-942c-f35d94f39b32"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@cafe_owner.com"], ["encrypted_password", "$2a$04$IRWEPgOMRs/ZBrCNyu4k4Onis45U1wkao.4NrZDO1nuKDkIVcwBBS"], ["created_at", "2019-10-16 07:12:41.374496"], ["updated_at", "2019-10-16 07:12:41.374496"], ["jti", "568bb0ba-9942-42b0-934d-17c8399a1605"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7239.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7239"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2841b92d-789f-4407-942c-f35d94f39b32"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7239], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.387525"], ["updated_at", "2019-10-16 07:12:41.388318"], ["id", 7239]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_admin.com"], ["encrypted_password", "$2a$04$hDG2IjygVkV0TbIMGIgxqerlQDOg6GlQDJlkV0NplHO26v4Fl1gIa"], ["created_at", "2019-10-16 07:12:41.403535"], ["updated_at", "2019-10-16 07:12:41.403535"], ["jti", "db1fa9b3-3876-44e2-a086-3b510bc8648c"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_expert.com"], ["encrypted_password", "$2a$04$F3tB./1SZaEtFsnWPE44oeFTCKN7k3e4yE7cuqXK67THAmEtqu2YC"], ["created_at", "2019-10-16 07:12:41.408480"], ["updated_at", "2019-10-16 07:12:41.408480"], ["jti", "f9fa6358-48c5-4ff0-89bb-bdd4ed14dc47"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7241.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7241"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "db1fa9b3-3876-44e2-a086-3b510bc8648c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7241], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:41.419764"], ["updated_at", "2019-10-16 07:12:41.420328"], ["id", 7241]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_admin.com"], ["encrypted_password", "$2a$04$BY3uRhdop0eCr4jLcdClteNdIGZgAQa4o0NyU1K8Bl9/1WuEhTyKC"], ["created_at", "2019-10-16 07:12:41.434171"], ["updated_at", "2019-10-16 07:12:41.434171"], ["jti", "48798036-078c-4deb-a82c-676be96f62cd"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_admin.com"], ["encrypted_password", "$2a$04$whqnzXKFvpcPPCXYIILLr.GPnYI1gQG1NwU6xtJ8Eyxksv1pOPWMW"], ["created_at", "2019-10-16 07:12:41.441413"], ["updated_at", "2019-10-16 07:12:41.441413"], ["jti", "eb70b5a3-823b-41eb-8d22-ea1bd1b4bd75"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7243.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7243"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "48798036-078c-4deb-a82c-676be96f62cd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7243], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_admin.com"], ["encrypted_password", "$2a$04$OaWm9znSXt2X.3DzbRoU0uk6IQPMD/pah2kbe5sej4WPFbxu2b0du"], ["created_at", "2019-10-16 07:12:41.459110"], ["updated_at", "2019-10-16 07:12:41.459110"], ["jti", "8c4901c3-e26b-4be9-9cb6-4282c236712a"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test7@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test7@sys_master.com"], ["encrypted_password", "$2a$04$YGrrhlXpCNk0E5wIoMqzZ.w0fMDPr21evq9rAqcIlFNO/epL.BvNi"], ["created_at", "2019-10-16 07:12:41.464367"], ["updated_at", "2019-10-16 07:12:41.464367"], ["jti", "c4f6a784-05db-4f3c-844b-62487c24c0ea"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_admin.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7245.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7245"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8c4901c3-e26b-4be9-9cb6-4282c236712a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7245], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_expert.com"], ["encrypted_password", "$2a$04$1gD4HICB.9XEf9kZRIKQceGU.P/lp3uJ3BoCYb1eS9sSujTNhKbvm"], ["created_at", "2019-10-16 07:12:41.481760"], ["updated_at", "2019-10-16 07:12:41.481760"], ["jti", "d5a50af8-1b45-415f-aed2-6fd689ee0f76"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d5a50af8-1b45-415f-aed2-6fd689ee0f76"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$5SSdzgCxYyUzLOLJ4cvAl.rY7/OcDDrLIqkXnEDSCwmLXNi1lNa0a"], ["created_at", "2019-10-16 07:12:41.497326"], ["updated_at", "2019-10-16 07:12:41.497326"], ["jti", "04c202e4-f486-48b7-89a4-b443d3539b93"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_expert.com"], ["encrypted_password", "$2a$04$okrq/XgEYW0Y3Vb7qWo6..e3CBzfewRgIGsFsN4i7TgYwKh9kIgh."], ["created_at", "2019-10-16 07:12:41.507698"], ["updated_at", "2019-10-16 07:12:41.507698"], ["jti", "84fd6d93-be62-457a-bb4f-a0c84f33c3d6"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "84fd6d93-be62-457a-bb4f-a0c84f33c3d6"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$sqYHjUY5F2BWDXRyKWMdF.GPuF3f0kG0azf5baKgPF5WKQnDrZsAi"], ["created_at", "2019-10-16 07:12:41.535327"], ["updated_at", "2019-10-16 07:12:41.535327"], ["jti", "bdd9132c-1286-40ed-bad2-c36fbd41a098"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_expert.com"], ["encrypted_password", "$2a$04$7Df1lEOdcfCuXhG.1OJtNeL6Gq1Ah.NnzYLEljr9hyIpQGBZK2DQ6"], ["created_at", "2019-10-16 07:12:41.544712"], ["updated_at", "2019-10-16 07:12:41.544712"], ["jti", "7c5e8673-cae9-474a-8005-a8d92df099a4"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7c5e8673-cae9-474a-8005-a8d92df099a4"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$VpSua0Qm.McRTxsjmyQ1e.nwQedaL9/QzVkKR8QJMRA0DMezhZp/i"], ["created_at", "2019-10-16 07:12:41.561876"], ["updated_at", "2019-10-16 07:12:41.561876"], ["jti", "18daf375-384c-41de-9cd9-0f1f5003438b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_expert.com"], ["encrypted_password", "$2a$04$TUop04IArZBJzBlAjDWoUuL2LEgZzikhU656g7/hkq2FSU7bhDRUO"], ["created_at", "2019-10-16 07:12:41.571869"], ["updated_at", "2019-10-16 07:12:41.571869"], ["jti", "250ab5cb-e55e-41ed-9348-402e4d047fe3"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "250ab5cb-e55e-41ed-9348-402e4d047fe3"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$tBONWhEgDhlg2XKUhGpGDO6sPAj6i/S7ZCmyweewjY.sF6NnjQGXe"], ["created_at", "2019-10-16 07:12:41.589136"], ["updated_at", "2019-10-16 07:12:41.589136"], ["jti", "5d23833b-d88a-4ee8-94ae-87ec620f7ffd"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_expert.com"], ["encrypted_password", "$2a$04$9Wz0wKe1RQ5dWvsQz.CjH.nlW29EdFU8qOlOlNjzUeNYm2dZcNsFe"], ["created_at", "2019-10-16 07:12:41.601383"], ["updated_at", "2019-10-16 07:12:41.601383"], ["jti", "177a70f3-77fb-4b64-9b64-4e891f138f1f"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "177a70f3-77fb-4b64-9b64-4e891f138f1f"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$vUZ2RJ8.9JrVuOrSMLWh4ukG9DkQvMWXYd85qHS9BNRmBgZXmpvlC"], ["created_at", "2019-10-16 07:12:41.618947"], ["updated_at", "2019-10-16 07:12:41.618947"], ["jti", "80f679ae-6e79-4b9d-b3e1-805e5305b363"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_expert.com"], ["encrypted_password", "$2a$04$FLw.6J5TanEPhen5DdF0Q.u/9mGSu8zXAth5KWC6Le.P7rbypHwlu"], ["created_at", "2019-10-16 07:12:41.628820"], ["updated_at", "2019-10-16 07:12:41.628820"], ["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7256.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7256"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7256], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$JS.vXVZ1Vc18.PUrkvmY..nZW5e2C7MwsozNBuWt4EGZ5pKu.UL0G"], ["role", 4], ["updated_at", "2019-10-16 07:12:41.644408"], ["id", 7256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9247a82e-439f-4890-8cb1-6f54ad580157"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "7c4102a3-38f9-4ca7-b1b6-f34dca7a6074"], ["id", 7256]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "2327e230-81a3-4f2f-994f-b573639eec8e"], ["id", 7256]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_expert.com"], ["encrypted_password", "$2a$04$Q6tvYGuyeQvQFanaeq0sQOaBasrG7sAGtM9KTowuhh5b6QiWILFVm"], ["created_at", "2019-10-16 07:12:41.672322"], ["updated_at", "2019-10-16 07:12:41.672322"], ["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7257.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7257"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7257], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$4TQ0V68KvNQo0qsFyBdXvew4cfyyTN5hNKsvLvBYZFJkLSdzbB666"], ["role", 3], ["updated_at", "2019-10-16 07:12:41.691691"], ["id", 7257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 1.6ms | ActiveRecord: 1.9ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0efd127b-6665-41a0-9ddc-e8e939fed1a2"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "3132a64d-40ce-4f87-8458-e56d469de46d"], ["id", 7257]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "43c86046-9a6d-48fb-97ff-991e00f047a0"], ["id", 7257]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7257], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_expert.com"], ["encrypted_password", "$2a$04$0a8tZaPOfeEvlu6JuRfN4u4CshMryuNt7Vn/0hb9M49eWfGoSy/z."], ["created_at", "2019-10-16 07:12:41.731181"], ["updated_at", "2019-10-16 07:12:41.731181"], ["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7258.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7258"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7258], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$PO97y6lvZuRs09/f77tU8OhEl/LdvMyjUxYbdkU8.o.01JIkSRG4i"], ["updated_at", "2019-10-16 07:12:41.754507"], ["id", 7258]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 1.6ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "da751f74-d754-4454-a5ad-57baf37a1fa5"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "f012ecb8-15d3-401c-ba98-ca133a7b7b0e"], ["id", 7258]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "ae79be06-b7b3-436f-a08f-3584026e9138"], ["id", 7258]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7258], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_expert.com"], ["encrypted_password", "$2a$04$Zv37LqRgalG3coYeqplJW.bThKX23p9wng3pmvwS1/xcVQ3sOL25."], ["created_at", "2019-10-16 07:12:41.795132"], ["updated_at", "2019-10-16 07:12:41.795132"], ["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7259.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7259"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7259], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$SHlbgsC/K4fhVSPU2RpVSOseVQR9eekhMUzFWXuaKQ8E5Fz0uK.JG"], ["updated_at", "2019-10-16 07:12:41.818007"], ["id", 7259]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 1.6ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "434721eb-3cac-47d9-87de-9404a52383a1"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "591a00dc-44fe-44aa-90eb-705d3155024d"], ["id", 7259]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9e9de312-aba2-4c4a-b7af-e67891b75160"], ["id", 7259]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7259], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_expert.com"], ["encrypted_password", "$2a$04$mUOw8dlrNgpWcNExsw4WQe.LSlD6OOoIUBsLNWcm2SvQH3BmAuFmi"], ["created_at", "2019-10-16 07:12:41.854836"], ["updated_at", "2019-10-16 07:12:41.854836"], ["jti", "dc8b1ad8-667c-47ac-be1f-0cfc6317696a"], ["role", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@player.com"], ["encrypted_password", "$2a$04$by/Vh/WGUb1GpD2SkU1Q1eRNvyL/Fqi.Vh4tguSQfXCb.O/bULYyi"], ["created_at", "2019-10-16 07:12:41.862766"], ["updated_at", "2019-10-16 07:12:41.862766"], ["jti", "3b38212b-95fe-41bd-ac1c-bd666b4bc454"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 14.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7261.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7261"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dc8b1ad8-667c-47ac-be1f-0cfc6317696a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7261], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7261], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$KnmOIGTguundWL5nxUg1IebeqUUWyYXdZ3rBsgeDMyhriZIrwgSjm"], ["updated_at", "2019-10-16 07:12:41.898633"], ["id", 7261]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7261], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_expert.com"], ["encrypted_password", "$2a$04$YxWF3lhjnGoiHPbrk3dPU.d5v7TXIhw0DFU5iUcuUiA7lenerBpXa"], ["created_at", "2019-10-16 07:12:41.909220"], ["updated_at", "2019-10-16 07:12:41.909220"], ["jti", "be5a9f17-2eb8-42df-b0f5-e65a720f0d59"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@player.com"], ["encrypted_password", "$2a$04$haei0FBr4CX3rF5MNv/hseEEXdNVHzaTkDmDG/u75J4PrZ/YjseD2"], ["created_at", "2019-10-16 07:12:41.914670"], ["updated_at", "2019-10-16 07:12:41.914670"], ["jti", "822c3b9c-cdda-4502-9976-184c53839623"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7263.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7263"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "be5a9f17-2eb8-42df-b0f5-e65a720f0d59"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7263], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7263], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$JM92.iSvAZCdr8tCYZJM4.jYWQKRlly.T.rTusIzb3PPW6aS7AhRW"], ["updated_at", "2019-10-16 07:12:41.929729"], ["id", 7263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7263], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_expert.com"], ["encrypted_password", "$2a$04$lghz3jwmYPTtbHuEpOkeNuSc9XN7.Uurmj1dsnyaN1Opdgrzb5yua"], ["created_at", "2019-10-16 07:12:41.939230"], ["updated_at", "2019-10-16 07:12:41.939230"], ["jti", "c5483bf1-0162-40cb-9e43-2f1c88df94f0"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@player.com"], ["encrypted_password", "$2a$04$qmD1Pne0hO3l3llmvbhExuFdzFEagcBoo6T8MFYtAlOE/108HZWmq"], ["created_at", "2019-10-16 07:12:41.944641"], ["updated_at", "2019-10-16 07:12:41.944641"], ["jti", "fb83e7bb-1420-4812-bebf-4bafe9e7f707"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7265.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7265"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c5483bf1-0162-40cb-9e43-2f1c88df94f0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7265], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7265], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$spS9jhijnHrwE13Dqr4pMeXBq3MN32XyYsRZNVF8nJvCVitDKCGLy"], ["updated_at", "2019-10-16 07:12:41.963717"], ["id", 7265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7265], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_expert.com"], ["encrypted_password", "$2a$04$Wd31V1WJ651HhcWJIA/dMOzim6TvhSVWN2shaGK6T5hMfzgwXgeq6"], ["created_at", "2019-10-16 07:12:41.974575"], ["updated_at", "2019-10-16 07:12:41.974575"], ["jti", "d6d3bbf5-2b8f-4a4b-ba87-4b55f027eb1c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@cafe_owner.com"], ["encrypted_password", "$2a$04$QVwSRyyRqa8iT5KT2ufKsuSp7x2ZCHf0lr3PvaCay5T1vdHsvTfAW"], ["created_at", "2019-10-16 07:12:41.980366"], ["updated_at", "2019-10-16 07:12:41.980366"], ["jti", "598fd4ca-69f6-401f-b6d7-7f7b36f71e69"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7267.json" for 127.0.0.1 at 2019-10-16 10:42:41 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7267"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d6d3bbf5-2b8f-4a4b-ba87-4b55f027eb1c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7267], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7267], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$CWxK6KCJWUYTUPlPRvfq0u0/HgSZRJ0qJZbbXV.fKJPBif2EyyNs."], ["updated_at", "2019-10-16 07:12:41.996787"], ["id", 7267]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7267], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_expert.com"], ["encrypted_password", "$2a$04$XBDBp14mW8JWanhUgHLTnOFcmUqcraM/W3Xkp9OYxOvIRfsGExhtC"], ["created_at", "2019-10-16 07:12:42.006970"], ["updated_at", "2019-10-16 07:12:42.006970"], ["jti", "75086505-cc68-4f6b-b7f7-314341bd6378"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@cafe_owner.com"], ["encrypted_password", "$2a$04$7c8yvwg8turljFHk8Urqr.ed/vUdlgdk/X26JMD0GTLPuv/0kv.6q"], ["created_at", "2019-10-16 07:12:42.012315"], ["updated_at", "2019-10-16 07:12:42.012315"], ["jti", "c2424294-d00d-4be8-8810-2efb776b2e72"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7269.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7269"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "75086505-cc68-4f6b-b7f7-314341bd6378"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7269], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7269], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$lkCue7dVMTv8OPMuLiEhnusYb5R9ZqKEk9kF6EO15Zocy7qg2AOHa"], ["updated_at", "2019-10-16 07:12:42.029354"], ["id", 7269]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7269], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_expert.com"], ["encrypted_password", "$2a$04$kVcOL1Ws5mO455NVQSP2KeYOon4vz.xR7BSql/SFF2V2pIg/obTo2"], ["created_at", "2019-10-16 07:12:42.039145"], ["updated_at", "2019-10-16 07:12:42.039145"], ["jti", "9c29ccd4-9528-4026-8664-5a7dfcc9143b"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@cafe_owner.com"], ["encrypted_password", "$2a$04$9UEhHvWnodIvCulTCHdCreUY4zl0P8KTJZ7vW/TezmWn5Yky9GpaC"], ["created_at", "2019-10-16 07:12:42.044598"], ["updated_at", "2019-10-16 07:12:42.044598"], ["jti", "710a853f-1245-450d-a76f-af0ec7743541"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7271.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7271"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9c29ccd4-9528-4026-8664-5a7dfcc9143b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7271], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7271], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$wtZhNPWVSkZTziSr9GEuVuws7ysDXRv4DNCDrH1oXy8vra3DFcnSC"], ["updated_at", "2019-10-16 07:12:42.062762"], ["id", 7271]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7271], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_expert.com"], ["encrypted_password", "$2a$04$5UgkWwsy9clFtK5OBarlxe2ks47OrPFCYtYX25U0K/vpVu8uMq6iG"], ["created_at", "2019-10-16 07:12:42.073896"], ["updated_at", "2019-10-16 07:12:42.073896"], ["jti", "e5ec415c-f307-4be6-9716-c330abd8f50a"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_expert.com"], ["encrypted_password", "$2a$04$WMP4BagYw8oGdwxCJy9wDOoM9l0BVC7OZLpVsYAPlrLXEOv7usm4a"], ["created_at", "2019-10-16 07:12:42.080006"], ["updated_at", "2019-10-16 07:12:42.080006"], ["jti", "b057b1b5-2bbd-410b-ba77-f5c7409c21c7"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7273.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7273"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e5ec415c-f307-4be6-9716-c330abd8f50a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7273], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7273], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_expert.com"], ["encrypted_password", "$2a$04$pf3lmLir9cWnzTMMr4Ge/uf/bypXJYf95OJMBmFZSvUjFTz1Uwsb2"], ["created_at", "2019-10-16 07:12:42.099925"], ["updated_at", "2019-10-16 07:12:42.099925"], ["jti", "4acfa2e9-67db-4a8b-b5df-0ebb9993190c"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_admin.com"], ["encrypted_password", "$2a$04$tvFqbbCzROOySqO7sKz9J.op3aWZ17DFKuvBD3PusJcwttkEkjow."], ["created_at", "2019-10-16 07:12:42.105086"], ["updated_at", "2019-10-16 07:12:42.105086"], ["jti", "824f958d-44fe-44d9-bdbd-1e2322ac2f79"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7275.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7275"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4acfa2e9-67db-4a8b-b5df-0ebb9993190c"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7275], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7275], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_expert.com"], ["encrypted_password", "$2a$04$kthzi4o4HOPApqvV78GMt.rGSKoaqsjBboNbkrvZjZMqfGZqme7kS"], ["created_at", "2019-10-16 07:12:42.127628"], ["updated_at", "2019-10-16 07:12:42.127628"], ["jti", "1de0824e-e434-422a-9c08-bc5b4141868d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test8@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test8@sys_master.com"], ["encrypted_password", "$2a$04$nNQ8kWuu2StDu/EUSmgWaOUGzm2iBLobEV5dghm903hR.nMG3vu8u"], ["created_at", "2019-10-16 07:12:42.133192"], ["updated_at", "2019-10-16 07:12:42.133192"], ["jti", "6fddb1db-15dc-4d66-8f41-901ffd85e05e"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7277.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7277"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1de0824e-e434-422a-9c08-bc5b4141868d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7277], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7277], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_expert.com"], ["encrypted_password", "$2a$04$d7iCRXIAhIat/DH6LganmeTrnRF4XVNjOg70vgIE7Ty/Dq4VJqk8W"], ["created_at", "2019-10-16 07:12:42.154474"], ["updated_at", "2019-10-16 07:12:42.154474"], ["jti", "097df4ce-5f32-4572-85bf-23c6d98af93d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7278.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7278"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "097df4ce-5f32-4572-85bf-23c6d98af93d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7278], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:42.168830"], ["updated_at", "2019-10-16 07:12:42.169574"], ["id", 7278]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 1.5ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_expert.com"], ["encrypted_password", "$2a$04$d5WYxv2LVjuN6UlAbiVLu.M3QGbOUUDNEK/mqBGe6Y6P8ZECX/XfO"], ["created_at", "2019-10-16 07:12:42.186917"], ["updated_at", "2019-10-16 07:12:42.186917"], ["jti", "5756716b-6066-4331-bf5c-c921ca1455a2"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@player.com"], ["encrypted_password", "$2a$04$.yFWUZRXSN/7YkFPrjosluP/.pBxxMM3D1HBsKnP3JfOIkLtkrzI6"], ["created_at", "2019-10-16 07:12:42.192813"], ["updated_at", "2019-10-16 07:12:42.192813"], ["jti", "e4902109-1ead-4e8b-9edd-398ff8e904f6"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7280.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7280"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5756716b-6066-4331-bf5c-c921ca1455a2"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7280], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:42.213621"], ["updated_at", "2019-10-16 07:12:42.214158"], ["id", 7280]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 2.4ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_expert.com"], ["encrypted_password", "$2a$04$n8KGoxtqpbNoOFnj9smbUusT30wduSWtFJHuewGgEC0J4Ak8wBZbC"], ["created_at", "2019-10-16 07:12:42.231314"], ["updated_at", "2019-10-16 07:12:42.231314"], ["jti", "d3cae549-47ac-4028-bb0b-07e7945fbcde"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@cafe_owner.com"], ["encrypted_password", "$2a$04$pukRUoENUY9oyZ1iwxsxpOjiuRoEfiji3BRbrAuwFe4RwGC2SAVkq"], ["created_at", "2019-10-16 07:12:42.236892"], ["updated_at", "2019-10-16 07:12:42.236892"], ["jti", "2dffc40c-5e06-4e44-ac6a-051b06a77f3c"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7282.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7282"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d3cae549-47ac-4028-bb0b-07e7945fbcde"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7282], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:42.250070"], ["updated_at", "2019-10-16 07:12:42.250549"], ["id", 7282]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.2ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_expert.com"], ["encrypted_password", "$2a$04$lD3GxUNEEJ8k9h6ylFZzoumPKDN1CTq/CrdPYdHCZ0ncrgF7bHq3O"], ["created_at", "2019-10-16 07:12:42.264474"], ["updated_at", "2019-10-16 07:12:42.264474"], ["jti", "c6e3aee8-eaae-4e6c-8baf-a3da1965a549"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_expert.com"], ["encrypted_password", "$2a$04$H4twAwphFp31cHaJ1bBV3.xi/xNisM0c1lWa0kO8U6EwIxBveyCbC"], ["created_at", "2019-10-16 07:12:42.269575"], ["updated_at", "2019-10-16 07:12:42.269575"], ["jti", "b021a54a-9b5c-46b4-8345-f96c298357fe"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7284.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7284"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c6e3aee8-eaae-4e6c-8baf-a3da1965a549"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7284], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_expert.com"], ["encrypted_password", "$2a$04$vamXCOWu/0aMYLqWLpfEV.PoqjeQ4Tm6fmMbaBdFbI0LCa9wkb4q."], ["created_at", "2019-10-16 07:12:42.287408"], ["updated_at", "2019-10-16 07:12:42.287408"], ["jti", "f0a47d29-e987-4bb7-8724-62c07214a75d"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_admin.com"], ["encrypted_password", "$2a$04$cvJZg7ZIpT2sRXNeftcMje3cebVEWAsu2RNeUkDrOl8ehNaf.oGaS"], ["created_at", "2019-10-16 07:12:42.293435"], ["updated_at", "2019-10-16 07:12:42.293435"], ["jti", "01195a0d-f76e-4d68-8d85-7a615c458c73"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started DELETE "/api/users/7286.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7286"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "f0a47d29-e987-4bb7-8724-62c07214a75d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7286], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_expert.com"], ["encrypted_password", "$2a$04$qPD6AgLonc815SflNd64YOp4ReOZvUE2NzR3nLpRhEa9XBmgmBoi6"], ["created_at", "2019-10-16 07:12:42.312165"], ["updated_at", "2019-10-16 07:12:42.312165"], ["jti", "a0899b2e-1c79-4912-afda-b62aa2bcbe99"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test9@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test9@sys_master.com"], ["encrypted_password", "$2a$04$VD1FTlBHvkdCo.ih6l9WLOWfjy2gqXGRietjXN.pa/sDdk/7Zr0dC"], ["created_at", "2019-10-16 07:12:42.317332"], ["updated_at", "2019-10-16 07:12:42.317332"], ["jti", "6ed3b971-e04a-4424-bce4-223c28c8a393"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_expert.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7288.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7288"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a0899b2e-1c79-4912-afda-b62aa2bcbe99"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7288], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test10@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test10@sys_master.com"], ["encrypted_password", "$2a$04$QIWr6vzH1Ow/Ix8Bvaots.406RvkT/Ym7tdI/dzxpfV0f0t7jlgee"], ["created_at", "2019-10-16 07:12:42.334918"], ["updated_at", "2019-10-16 07:12:42.334918"], ["jti", "8593c6af-9605-42ad-a9f2-030d3ee74785"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test10@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test10@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8593c6af-9605-42ad-a9f2-030d3ee74785"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$irAXGGhSqZ5dAxYQtti29u2irHhIK8OWuEbR7YzZARWDNQctme7da"], ["created_at", "2019-10-16 07:12:42.350375"], ["updated_at", "2019-10-16 07:12:42.350375"], ["jti", "41c03113-3a45-464e-839e-8cb547be81ac"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test11@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test11@sys_master.com"], ["encrypted_password", "$2a$04$/a6vauhNxzC3suaa0aE8uuRU0u1leE5LpMZ6Dgw.FDQWWy9haEWam"], ["created_at", "2019-10-16 07:12:42.360188"], ["updated_at", "2019-10-16 07:12:42.360188"], ["jti", "5d9ca2e9-ddd5-4364-b5cc-0b8ee197d4b8"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test11@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test11@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5d9ca2e9-ddd5-4364-b5cc-0b8ee197d4b8"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$ovIeBqEhlnt2JtL4jMaxOOpP.STrdOw.M/5rFxpYJlmGOWxwXya7O"], ["created_at", "2019-10-16 07:12:42.375917"], ["updated_at", "2019-10-16 07:12:42.375917"], ["jti", "5b6fb856-331f-431e-ab0f-589a6d08fcfc"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test12@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test12@sys_master.com"], ["encrypted_password", "$2a$04$CfvBhS30PbkiOgKtYTzkIumXXhROX/gbEc7CsCfToFPKECZ3YsLsy"], ["created_at", "2019-10-16 07:12:42.383972"], ["updated_at", "2019-10-16 07:12:42.383972"], ["jti", "e10bf2fc-ea39-4936-8ca0-c98a71f783a1"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test12@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test12@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e10bf2fc-ea39-4936-8ca0-c98a71f783a1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$MC/6wlkQe6.NquB2q1yWJeYbeKI1O9J.gwvqcr9c.MqLnmf0ifqGu"], ["created_at", "2019-10-16 07:12:42.399154"], ["updated_at", "2019-10-16 07:12:42.399154"], ["jti", "cd05a949-ea8a-4b84-8ba9-1ac1b55526ab"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.6ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test13@sys_master.com"], ["encrypted_password", "$2a$04$3MrHpHRdFnSEczECY1VrkuOtWUphgfSkYolbnCumRGrFI/Y2P8j4i"], ["created_at", "2019-10-16 07:12:42.412136"], ["updated_at", "2019-10-16 07:12:42.412136"], ["jti", "69b7a3b5-a651-4fc4-a1cb-3b1ce9bc982d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test13@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test13@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "69b7a3b5-a651-4fc4-a1cb-3b1ce9bc982d"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$.qaJmpOnfODrBjqApdd0P.pv4O.1vsU7x0x14AlTrLFprWsZ2XfyK"], ["created_at", "2019-10-16 07:12:42.426687"], ["updated_at", "2019-10-16 07:12:42.426687"], ["jti", "62eef47e-bbf2-43eb-ae5f-6c38f9a26d92"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test14@sys_master.com"], ["encrypted_password", "$2a$04$Q60ZjQTUwVbFaCRYN1HTAuadQkRRuwXiAiuLwqG8zcAEFAF9WB1Dm"], ["created_at", "2019-10-16 07:12:42.438285"], ["updated_at", "2019-10-16 07:12:42.438285"], ["jti", "d86a4a37-668e-43ce-afd1-686da8be11d2"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test14@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test14@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "d86a4a37-668e-43ce-afd1-686da8be11d2"], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$XrgvAFOnq7twesh83X.qTeNPdNl2LKsUycXzhbuglgT57.OpuVe.C"], ["created_at", "2019-10-16 07:12:42.455123"], ["updated_at", "2019-10-16 07:12:42.455123"], ["jti", "de68ff4b-e69c-4c1c-a8f6-45c9f534bbdc"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test15@sys_master.com"], ["encrypted_password", "$2a$04$tDujWqA2LUCmTtBLX7fZd.vfS6x7aYgq7I87mZu6D8jk9pYXozFma"], ["created_at", "2019-10-16 07:12:42.467122"], ["updated_at", "2019-10-16 07:12:42.467122"], ["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test15@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test15@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7299.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7299"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7299], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$AOSweF3vCrGIXZMFUG6wYecr9h8rAzFv3t9BWuZ4zi11iKg6.YsT."], ["role", 4], ["updated_at", "2019-10-16 07:12:42.485006"], ["id", 7299]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "dcfac34a-90b5-470e-b28f-8b82a1271fb7"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4cfcfcab-f9ce-41b4-99a3-612b51fdbe4c"], ["id", 7299]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[36mApiUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "feb805c5-953b-4355-953c-c77f45d362a2"], ["id", 7299]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7299], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test16@sys_master.com"], ["encrypted_password", "$2a$04$OO/aguTU6.y9q4gqx4pGX.dOYADaL7iq2SXU3ZMOXUqpUCZLnNsT6"], ["created_at", "2019-10-16 07:12:42.523997"], ["updated_at", "2019-10-16 07:12:42.523997"], ["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test16@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test16@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7300.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7300"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7300], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$AUcsFQAZvN327mGUgsi7G.DD01bQbcCflk10259iGtihW4T8.L/9K"], ["role", 3], ["updated_at", "2019-10-16 07:12:42.541773"], ["id", 7300]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.2ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ddfdc05-dcb3-45dc-9607-d4b699c19ddd"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "62aed52b-df72-4066-8a6f-bdc8a5897a71"], ["id", 7300]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "21e742fb-a7b7-428e-9a57-126791246e07"], ["id", 7300]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7300], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test17@sys_master.com"], ["encrypted_password", "$2a$04$b/3iQmqId360hf/WCryo2OZSleIn/6/1xxZNzTh2m0G9dd8B5g7Py"], ["created_at", "2019-10-16 07:12:42.567733"], ["updated_at", "2019-10-16 07:12:42.567733"], ["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["role", 0]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test17@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test17@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7301.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7301"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7301], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$035m7J0FJUO2TZkbeb8iee6/RHh4C2x3h2Kux3AyYIjg3WyL80vay"], ["role", 2], ["updated_at", "2019-10-16 07:12:42.585413"], ["id", 7301]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.5ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6ba64dee-c67e-46ee-9a8d-7a66345d3607"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "c6d86e55-66f9-412b-a39f-f0eec62a2ac5"], ["id", 7301]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "4aed7100-ccf3-42d9-b2ac-b8192d37acfe"], ["id", 7301]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7301], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test18@sys_master.com"], ["encrypted_password", "$2a$04$OURKHWiUqrsOBpqGFbeFmega0TABducQUJhGXjBQA.MtSq6NWA5lK"], ["created_at", "2019-10-16 07:12:42.613382"], ["updated_at", "2019-10-16 07:12:42.613382"], ["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test18@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test18@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7302.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7302"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7302], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "role" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$.BD.DUQB9rgIipmbN5FhR.ZHB98vnPxTx6f8uynm52bQLNRZ7O5Ni"], ["role", 1], ["updated_at", "2019-10-16 07:12:42.631756"], ["id", 7302]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.1ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "8f567edc-29f6-4a48-bcc9-4784e8959c14"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "983c0842-eb6f-44d0-8ff0-3cfbaad8a024"], ["id", 7302]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[36mApiUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e6ee103c-6f59-4af6-9fa8-58bec7ab132d"], ["id", 7302]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7302], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test19@sys_master.com"], ["encrypted_password", "$2a$04$3PuF9oLlsUiO0sO0w0mQXupFSfxGVhWbfJAxdWmKh0Mpie7SeCe4a"], ["created_at", "2019-10-16 07:12:42.660746"], ["updated_at", "2019-10-16 07:12:42.660746"], ["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test19@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test19@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7303.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7303"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7303], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$v3JSMCoFyUfPsoDf4koKZOPwWLUfn8o.DI6CuIn8EeSDYbCC92SiG"], ["updated_at", "2019-10-16 07:12:42.675500"], ["id", 7303]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
Started DELETE "/api/logout.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["LIMIT", 1]]
  [1m[36mCACHE ApiUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "57372363-2463-4237-818c-08cc0f44c7b6"], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "0e3d29ea-626a-4c82-868d-2bfb8aa2fdd5"], ["id", 7303]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
  [1m[36mApiUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "e3b23ef7-9767-40ab-928b-821a488f639f"], ["id", 7303]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@test"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7303], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test20@sys_master.com"], ["encrypted_password", "$2a$04$JnvGHf6XPei5d7y7y99nke/5FpG6fsSpobXJqzjKwpZ1S6x3V243O"], ["created_at", "2019-10-16 07:12:42.702765"], ["updated_at", "2019-10-16 07:12:42.702765"], ["jti", "a2f600b1-ed67-4e57-a9d0-52a9edfe79c7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@player.com"], ["encrypted_password", "$2a$04$q6dRVuoHAd10hs3KR9dBk.gG2EcQ7xlvZeClwhSJKq.q/5SzhAaH2"], ["created_at", "2019-10-16 07:12:42.709070"], ["updated_at", "2019-10-16 07:12:42.709070"], ["jti", "e7c2036b-cf3c-496e-8236-88bb0cdf105f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test20@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test20@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7305.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7305"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "a2f600b1-ed67-4e57-a9d0-52a9edfe79c7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7305], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7305], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Ic1QVOEVNNLhthYFURdqPeyDMzwydwnWYPzwiwLquCaBQz0o9TQiW"], ["updated_at", "2019-10-16 07:12:42.725355"], ["id", 7305]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7305], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test21@sys_master.com"], ["encrypted_password", "$2a$04$W4xfdK8i/TKMfdgLv54Afe21OyhY3CvFxeuQUJ5hlo2KiT9qSqbiK"], ["created_at", "2019-10-16 07:12:42.737162"], ["updated_at", "2019-10-16 07:12:42.737162"], ["jti", "c00a524e-4838-426c-aa4b-498859990811"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@player.com"], ["encrypted_password", "$2a$04$xu.QmGfz4ep5QXPEULhHT.09c86MqHJ7KMVFBY5lvFl1TmMqyEHQG"], ["created_at", "2019-10-16 07:12:42.742587"], ["updated_at", "2019-10-16 07:12:42.742587"], ["jti", "0359e97d-f3ab-4967-a0f3-f038495adb73"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test21@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test21@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7307.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7307"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c00a524e-4838-426c-aa4b-498859990811"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7307], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7307], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$do49qvDYXxo0dAZntxNzHubCx9Kf0Gf3cYPdekChA0x1HOn8f6rr6"], ["updated_at", "2019-10-16 07:12:42.759623"], ["id", 7307]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7307], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test22@sys_master.com"], ["encrypted_password", "$2a$04$0LQ2CY3MqptjaWDKHeBgw.7kwV8RTVwvGdUfNDpqX2rHK3pnE5dY6"], ["created_at", "2019-10-16 07:12:42.768284"], ["updated_at", "2019-10-16 07:12:42.768284"], ["jti", "4ece9e53-cc11-4bf9-a59f-58e2167eb548"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@player.com"], ["encrypted_password", "$2a$04$COWWqz5IOK1.MERGLYAVmu0.q6peeXMBqPVF8HOFu1WzNLL0U6xLK"], ["created_at", "2019-10-16 07:12:42.773169"], ["updated_at", "2019-10-16 07:12:42.773169"], ["jti", "9541b760-1fa5-4eda-a404-e27f06f7440f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test22@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test22@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7309.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7309"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "4ece9e53-cc11-4bf9-a59f-58e2167eb548"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7309], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7309], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$BQGldvoUqzu2tShaoNphH..xWUE3mjzzpFsMPBwkoqEjuXhQWaxPu"], ["updated_at", "2019-10-16 07:12:42.789393"], ["id", 7309]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7309], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test23@sys_master.com"], ["encrypted_password", "$2a$04$0kwjz099Ti.8ASoUOE0qo.t01OQuRNqlHxweZLTMDrx2OBBL1Mn8u"], ["created_at", "2019-10-16 07:12:42.800194"], ["updated_at", "2019-10-16 07:12:42.800194"], ["jti", "1ae51fbf-ea8f-4d67-9c9c-60c89b77df02"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@player.com"], ["encrypted_password", "$2a$04$XkGu3QCRmH5OiD2CYPLdjeA1b0Bz/GegHgt/.3L9awmEuz1FdF/UK"], ["created_at", "2019-10-16 07:12:42.805966"], ["updated_at", "2019-10-16 07:12:42.805966"], ["jti", "9a6d84af-6eb1-4248-9277-8ec334062632"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test23@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test23@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
Started PUT "/api/users/7311.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7311"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "1ae51fbf-ea8f-4d67-9c9c-60c89b77df02"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7311], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7311], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$ujNcxScYMpgdzw23g29hPuvQ7UwRcZ4hmLEuhS7MvQS03Km2BVNZK"], ["updated_at", "2019-10-16 07:12:42.830903"], ["id", 7311]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7311], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test24@sys_master.com"], ["encrypted_password", "$2a$04$b3xWLZRGOaIXk7UpzYCEUOIFvrYj7i0A3bYux80Lc99bR9YhgJYgK"], ["created_at", "2019-10-16 07:12:42.840765"], ["updated_at", "2019-10-16 07:12:42.840765"], ["jti", "9e42c97e-1109-423f-a0a4-6600cd5b4eea"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@player.com"], ["encrypted_password", "$2a$04$ckxTw4L08uftCg1VCoMEyO8F6dn5PMgH.L5E1IXbZkPv92pPlmXFm"], ["created_at", "2019-10-16 07:12:42.846531"], ["updated_at", "2019-10-16 07:12:42.846531"], ["jti", "e792673c-0732-4853-943e-569f2429bdf9"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test24@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test24@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7313.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7313"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "9e42c97e-1109-423f-a0a4-6600cd5b4eea"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7313], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7313], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$PxR61C6J1qaljUTaDvknGeCLbRGOMqVV8RU/qHbiwgO6z4OnkR5AS"], ["updated_at", "2019-10-16 07:12:42.862276"], ["id", 7313]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7313], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test25@sys_master.com"], ["encrypted_password", "$2a$04$dAXeYKO4dUfGDLflcqqeW.rIq3W86PNkLfbnEhZlOd1fCfHDoHPWq"], ["created_at", "2019-10-16 07:12:42.873360"], ["updated_at", "2019-10-16 07:12:42.873360"], ["jti", "62ee063c-d3bd-4b95-a8a6-a934eed215a6"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@cafe_owner.com"], ["encrypted_password", "$2a$04$RV7SZcPr/zOVmj/OrXTtKuGtVAHPHPgiEJhyJOL2gHkmkTagfdxG2"], ["created_at", "2019-10-16 07:12:42.879052"], ["updated_at", "2019-10-16 07:12:42.879052"], ["jti", "51b6a359-e95a-455d-b433-1837cf70a007"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test25@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test25@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7315.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7315"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "62ee063c-d3bd-4b95-a8a6-a934eed215a6"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7315], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7315], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$oNPT5AYPst9Kyg/S/EQ2pesJcaOLNXnPdNF9FlBZWVfvQhozqwsSW"], ["updated_at", "2019-10-16 07:12:42.895745"], ["id", 7315]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7315], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test26@sys_master.com"], ["encrypted_password", "$2a$04$Wm4N3zNhIYP4ZpsuzgoqTOWz1Nj4zGGmruksqq2LTjZKVhCAs1ouu"], ["created_at", "2019-10-16 07:12:42.905401"], ["updated_at", "2019-10-16 07:12:42.905401"], ["jti", "0968d7ec-3d46-431b-ad20-102670fa8a6a"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@cafe_owner.com"], ["encrypted_password", "$2a$04$CjZfQhirUcSpD2rPYJZp2uYJ0inR7vgAr2wu.Jo96fs.KY1bKcvGS"], ["created_at", "2019-10-16 07:12:42.911296"], ["updated_at", "2019-10-16 07:12:42.911296"], ["jti", "2e71f40b-c939-494d-ab7f-2aaff7dfab31"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test26@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test26@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7317.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7317"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "0968d7ec-3d46-431b-ad20-102670fa8a6a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7317], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7317], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$cuAVnm2tZ0mbBdTnwxg0eOeRbCF54HG0B/HHX2sksJ5U.fp3oUp9i"], ["updated_at", "2019-10-16 07:12:42.925797"], ["id", 7317]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7317], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test27@sys_master.com"], ["encrypted_password", "$2a$04$HQQY4wKtmBihmhm3FJ8zlexI65fbUpsV6XyMSTBMxR.mLI4GWg2py"], ["created_at", "2019-10-16 07:12:42.936899"], ["updated_at", "2019-10-16 07:12:42.936899"], ["jti", "031e0471-69fa-4dee-9cdd-fc18981a346c"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@cafe_owner.com"], ["encrypted_password", "$2a$04$WGoHwhfruAIPMkw691tJ3usbJIfajY/mWnS3.P3U12uOiBw8LLhra"], ["created_at", "2019-10-16 07:12:42.944615"], ["updated_at", "2019-10-16 07:12:42.944615"], ["jti", "11015006-1e3b-4c1f-9acc-ba6d912b8896"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test27@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test27@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7319.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7319"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "031e0471-69fa-4dee-9cdd-fc18981a346c"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7319], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7319], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$zId9vvkr55L4jLzg1HM78OX0f.aPPzjZGKudPfhck3e7Cq6/jnQHy"], ["updated_at", "2019-10-16 07:12:42.962670"], ["id", 7319]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7319], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test28@sys_master.com"], ["encrypted_password", "$2a$04$0x5f36X3Na8KHUwsIVxKPezDHZ6FUCbouaRu.ijN/V7jII1hXgAtK"], ["created_at", "2019-10-16 07:12:42.971953"], ["updated_at", "2019-10-16 07:12:42.971953"], ["jti", "ca006515-8702-404b-bd69-f993dfaf160b"], ["role", 0]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@cafe_owner.com"], ["encrypted_password", "$2a$04$LpxxcvDdscRHqRRKfmJ4eOlRz1oQIQZ5vSSiYELTFXSQgUpHJKpza"], ["created_at", "2019-10-16 07:12:42.980191"], ["updated_at", "2019-10-16 07:12:42.980191"], ["jti", "28f2e97a-e03e-4262-9ea7-daccc76f9c71"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test28@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test28@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7321.json" for 127.0.0.1 at 2019-10-16 10:42:42 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7321"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "ca006515-8702-404b-bd69-f993dfaf160b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7321], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7321], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$SpcD5lXPEprj9llPM2Be9O60vyLf8hw.HGN0UnukoRISdLjxg5mS2"], ["updated_at", "2019-10-16 07:12:43.001024"], ["id", 7321]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7321], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test29@sys_master.com"], ["encrypted_password", "$2a$04$RkQige/YaOVnnjfjUj5ouuP8/U7PDtJADU6y9uhhVPJBsdUUf50N6"], ["created_at", "2019-10-16 07:12:43.013794"], ["updated_at", "2019-10-16 07:12:43.013794"], ["jti", "89d1f9a6-ad70-40a1-be44-29ed6b7fb1c0"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@cafe_owner.com"], ["encrypted_password", "$2a$04$WoQhes5S.dsNJCINeiS3GOhfwYdWrVLd2y/wikdK/9ilH8667I4aC"], ["created_at", "2019-10-16 07:12:43.020659"], ["updated_at", "2019-10-16 07:12:43.020659"], ["jti", "95959933-9e3e-4d62-b442-dc57b9fecec3"], ["role", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test29@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test29@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7323.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7323"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "89d1f9a6-ad70-40a1-be44-29ed6b7fb1c0"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7323], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7323], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$qiEXKzZJcbvWjZ.k6.P0aunIO/gOQ3B9ZZvl6nFRim1IbYH6Fj3Am"], ["updated_at", "2019-10-16 07:12:43.036885"], ["id", 7323]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7323], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test30@sys_master.com"], ["encrypted_password", "$2a$04$l4kux7ZClwRT7hpinkuojuAbMx9YVflvIUZsfZoFRx/37U4r79gAS"], ["created_at", "2019-10-16 07:12:43.046785"], ["updated_at", "2019-10-16 07:12:43.046785"], ["jti", "3c2be791-9846-44ba-ad93-cd4af1cef19e"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_expert.com"], ["encrypted_password", "$2a$04$s1Qauuujlx53BTSDMl0FBO6NwW4wa5x/PObgtEYtztHBx4WhDKXOq"], ["created_at", "2019-10-16 07:12:43.051745"], ["updated_at", "2019-10-16 07:12:43.051745"], ["jti", "a9c33fc4-b4a2-4d5d-ab07-6c399f0595dc"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test30@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test30@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7325.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7325"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "3c2be791-9846-44ba-ad93-cd4af1cef19e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7325], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$5fahK4WMGf8fXBoEnPxghuKV3hFjarl4JU/grhxOcexn5ylvWeq8y"], ["updated_at", "2019-10-16 07:12:43.067532"], ["id", 7325]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test31@sys_master.com"], ["encrypted_password", "$2a$04$UnWUzKNttXuNW3YPaFpRUuj6KbpzAPv5Hupyp9qWoGg23A5fpSjAC"], ["created_at", "2019-10-16 07:12:43.077364"], ["updated_at", "2019-10-16 07:12:43.077364"], ["jti", "6eb91ce3-1d51-44f9-8461-1cb5946508a9"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_expert.com"], ["encrypted_password", "$2a$04$izQoYKIU9CTVXDSSxpyIeeDehQgITAmMdeIOE816bOGcyRWPkfSYm"], ["created_at", "2019-10-16 07:12:43.082619"], ["updated_at", "2019-10-16 07:12:43.082619"], ["jti", "77ceebc4-931f-46fd-b087-6fefb27a42b3"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test31@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test31@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7327.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7327"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "6eb91ce3-1d51-44f9-8461-1cb5946508a9"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7327], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7327], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$3HcCE9GSZYtHwnld2HVDluQGXv8weNegWDerrogEn7BlrYirFFbRK"], ["updated_at", "2019-10-16 07:12:43.098218"], ["id", 7327]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7327], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test32@sys_master.com"], ["encrypted_password", "$2a$04$JYVJtEDQNVeL8d9S/h/9JeiKuffJb8KbA82O0lopXr2OaGUR9VUx6"], ["created_at", "2019-10-16 07:12:43.107932"], ["updated_at", "2019-10-16 07:12:43.107932"], ["jti", "bf9ed4e5-fd2b-469b-8489-016349a7629d"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_expert.com"], ["encrypted_password", "$2a$04$/ecC5kSFRbGaW3K/jk1GCeAfMR0m0fczX5rfhVZH5SvyrW.J0OGYq"], ["created_at", "2019-10-16 07:12:43.112931"], ["updated_at", "2019-10-16 07:12:43.112931"], ["jti", "28bba218-8a06-4693-b89f-43f8e9bf8368"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test32@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test32@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7329.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7329"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "bf9ed4e5-fd2b-469b-8489-016349a7629d"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7329], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7329], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$YbOQc5DDwpPh8PWXKa3SceFdxxRH/UR8zqP.Np96/LcrLOgUfHqkq"], ["updated_at", "2019-10-16 07:12:43.135303"], ["id", 7329]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7329], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test33@sys_master.com"], ["encrypted_password", "$2a$04$uNXsvY2JdA/B61xuuRa33ufZqcIFnojxdLUc0ZM2ztEN2Oco0T8sm"], ["created_at", "2019-10-16 07:12:43.143950"], ["updated_at", "2019-10-16 07:12:43.143950"], ["jti", "06dca111-654b-49c6-ad03-d6f95c3fe6a5"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_expert.com"], ["encrypted_password", "$2a$04$BmFk/TUL0PBQ0ppf1SCiq.ow2i5oQkZYl1imqz5VggLwFCQuRGjoO"], ["created_at", "2019-10-16 07:12:43.150600"], ["updated_at", "2019-10-16 07:12:43.150600"], ["jti", "091a3c00-75fe-4e6d-bc7c-a90dfbc76556"], ["role", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test33@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test33@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7331.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7331"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "06dca111-654b-49c6-ad03-d6f95c3fe6a5"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7331], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7331], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 1], ["email", "new@test"], ["encrypted_password", "$2a$04$BizPVEjSMAX6gcy8Vw8Neeo3J1W5GnVrrIeWV2zCnZAsRNJXO1BWi"], ["updated_at", "2019-10-16 07:12:43.166378"], ["id", 7331]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7331], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test34@sys_master.com"], ["encrypted_password", "$2a$04$79VLudo8gC709ZlhtXFE5ejsBG5wZUkU5lerv7nuF1H82vtIVbtsq"], ["created_at", "2019-10-16 07:12:43.177102"], ["updated_at", "2019-10-16 07:12:43.177102"], ["jti", "b549b0e5-9dc0-42eb-891a-90f09f8f5f8a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_expert.com"], ["encrypted_password", "$2a$04$muM4py0yalrBo3Wd5nvuueXAnIZMy5VV7nBayOM4P7fJ0D9RrcCRO"], ["created_at", "2019-10-16 07:12:43.184062"], ["updated_at", "2019-10-16 07:12:43.184062"], ["jti", "61e6a987-b978-48a5-a151-7cbe646ad0c7"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test34@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test34@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7333.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7333"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b549b0e5-9dc0-42eb-891a-90f09f8f5f8a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7333], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7333], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$Y..aj0rQrY.YwYyWEv9nsOLR7YGK6uQ1.X88GWqlwPv4AoLj2uabm"], ["updated_at", "2019-10-16 07:12:43.203953"], ["id", 7333]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7333], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test35@sys_master.com"], ["encrypted_password", "$2a$04$bi3L.Fffnw8cJ4ArcO/W7Ot99Yxvy1cGYx8aTR2FEnlKLIMohSa1S"], ["created_at", "2019-10-16 07:12:43.215325"], ["updated_at", "2019-10-16 07:12:43.215325"], ["jti", "267187c3-4423-47ac-882c-67ec9df67517"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_admin.com"], ["encrypted_password", "$2a$04$AYmCQ81PrAS5dBV0xVCpne7JSOBEFFmxc6KRxfXrivYbJrO421iLS"], ["created_at", "2019-10-16 07:12:43.222189"], ["updated_at", "2019-10-16 07:12:43.222189"], ["jti", "a8844ed1-eb8b-4844-a1cb-cc8bbd14bfa4"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test35@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test35@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7335.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7335"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "267187c3-4423-47ac-882c-67ec9df67517"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7335], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7335], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 4], ["email", "new@test"], ["encrypted_password", "$2a$04$3SwO0oFRF/WHqNjDHh7lS.C2lF7XnTID8/ualQZxV3sWgpS7SKVo."], ["updated_at", "2019-10-16 07:12:43.238016"], ["id", 7335]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7335], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test36@sys_master.com"], ["encrypted_password", "$2a$04$3rLMwWlrEi76B8eHZaIYnOEiBJr/t/INsJpDAIQ1DXK/P0AZOcSrC"], ["created_at", "2019-10-16 07:12:43.250060"], ["updated_at", "2019-10-16 07:12:43.250060"], ["jti", "04f8303a-d959-408f-9c27-6b7cc0b0f3bc"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_admin.com"], ["encrypted_password", "$2a$04$/KX9WKmOQrajHpE1rhEzy.RIagaGlEga3w0JJE2a4wy3Ysba1DYWe"], ["created_at", "2019-10-16 07:12:43.258409"], ["updated_at", "2019-10-16 07:12:43.258409"], ["jti", "b9e4c0e1-bba3-4cb0-9b8a-c455415f1dc2"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test36@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test36@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7337.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}, "id"=>"7337"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "04f8303a-d959-408f-9c27-6b7cc0b0f3bc"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7337], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7337], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 3], ["email", "new@test"], ["encrypted_password", "$2a$04$T4tOt9Z5vyNbLAJyWrO0xOOl7IH3ATmsXw1L/pMZo/oo00pc8GQPa"], ["updated_at", "2019-10-16 07:12:43.274906"], ["id", 7337]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7337], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test37@sys_master.com"], ["encrypted_password", "$2a$04$orbxJDCw7tzKNVChcIAspOyrj3gn0dZVDk2iJDa3WqQdbM7kaO3oO"], ["created_at", "2019-10-16 07:12:43.285084"], ["updated_at", "2019-10-16 07:12:43.285084"], ["jti", "992f9259-ccbe-43ec-9168-2ddeea5d695b"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_admin.com"], ["encrypted_password", "$2a$04$jSd/eUs0g35BUI1wC7yy6eMML0/.I.ok1E58MvusMjRz0cX.BK4FC"], ["created_at", "2019-10-16 07:12:43.291785"], ["updated_at", "2019-10-16 07:12:43.291785"], ["jti", "6c02998c-9076-4d3f-a0eb-879547ac4b7b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test37@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test37@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7339.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}, "id"=>"7339"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "992f9259-ccbe-43ec-9168-2ddeea5d695b"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7339], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7339], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "role" = $1, "email" = $2, "encrypted_password" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["role", 2], ["email", "new@test"], ["encrypted_password", "$2a$04$vAuBzfXtmim/fJ6N5mgmRO67CwQgVk0bP3.mMWJK54gZeaMRABnvq"], ["updated_at", "2019-10-16 07:12:43.306900"], ["id", 7339]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7339], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@sys_master.com"], ["encrypted_password", "$2a$04$xM3TaWqwUUnQWwk25XJr8OmwX0Squ1p24stSD2Q9dKsNn8zUa69gm"], ["created_at", "2019-10-16 07:12:43.315650"], ["updated_at", "2019-10-16 07:12:43.315650"], ["jti", "5853ef5f-1f84-418e-9a97-e10e3de2f086"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_admin.com"], ["encrypted_password", "$2a$04$nnnsHDqgVw9jjLxLPYUQyOKMky9.qFamdeSUja5KiPSnwSOBpcJje"], ["created_at", "2019-10-16 07:12:43.321697"], ["updated_at", "2019-10-16 07:12:43.321697"], ["jti", "8a67ad4c-45ee-4d51-af34-3aa81336013b"], ["role", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
Started PUT "/api/users/7341.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}, "id"=>"7341"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "5853ef5f-1f84-418e-9a97-e10e3de2f086"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7341], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7341], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$gANruZzju94r2qMc1BSGv.3dxw.ZkkCEg.KtZqNEI6AfbpoI.Jcxy"], ["updated_at", "2019-10-16 07:12:43.337283"], ["id", 7341]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.8ms | ActiveRecord: 2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7341], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@sys_master.com"], ["encrypted_password", "$2a$04$WE2TiKLqCQqVtsoYgmG94u4fKlun1D9fotNSfEO5xU5.nG2Lq9n3S"], ["created_at", "2019-10-16 07:12:43.347625"], ["updated_at", "2019-10-16 07:12:43.347625"], ["jti", "152b50ac-4867-4ca1-889c-cc2135286c0e"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_admin.com"], ["encrypted_password", "$2a$04$Ck1D5BPiCX.CVP9jA/DvO.zJerwRqzyp8tP.VWK0NCQLjRFqkmzkS"], ["created_at", "2019-10-16 07:12:43.353803"], ["updated_at", "2019-10-16 07:12:43.353803"], ["jti", "696ac566-21df-4244-bea6-e7f0d401ec2c"], ["role", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7343.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7343"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "152b50ac-4867-4ca1-889c-cc2135286c0e"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7343], ["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "new@test"], ["id", 7343], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "encrypted_password" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["email", "new@test"], ["encrypted_password", "$2a$04$T/T2oeCBN8krI9olqTqoouW27a8gsLM8hH57SBbGWKNWmhVsDncxy"], ["updated_at", "2019-10-16 07:12:43.370479"], ["id", 7343]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7343], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@sys_master.com"], ["encrypted_password", "$2a$04$O.wFUO0UwbMf4Ib4SRTrjuOvKK4dpeRg67tWEL22hRC1Ni5ePx4Sm"], ["created_at", "2019-10-16 07:12:43.379853"], ["updated_at", "2019-10-16 07:12:43.379853"], ["jti", "7ebb86fd-6a25-4d2a-92de-0dbceaa6bf58"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@sys_master.com"], ["encrypted_password", "$2a$04$rk4psTGoIQpZrw2rfOdcLe7U1d0vBwr.DhM4wxpEXTxKNfwX.0NSy"], ["created_at", "2019-10-16 07:12:43.384934"], ["updated_at", "2019-10-16 07:12:43.384934"], ["jti", "97c7e908-e745-43e6-8681-366f55d7134f"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7345.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"new@test", "password"=>"[FILTERED]", "role"=>"sys_master"}, "id"=>"7345"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "7ebb86fd-6a25-4d2a-92de-0dbceaa6bf58"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7345], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7345], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@sys_master.com"], ["encrypted_password", "$2a$04$wk3wme1YsNkz0bkk0oNTwePyOcBc3h7VqLzOkAArmRsyjFuiuXJM2"], ["created_at", "2019-10-16 07:12:43.402384"], ["updated_at", "2019-10-16 07:12:43.402384"], ["jti", "b375c84a-0019-44f3-ba58-abfbda6ca8c7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7346.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7346"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b375c84a-0019-44f3-ba58-abfbda6ca8c7"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7346], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.415846"], ["updated_at", "2019-10-16 07:12:43.416409"], ["id", 7346]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.2ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@sys_master.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_master.com"], ["encrypted_password", "$2a$04$HSU3DJSHBq.Mn8BW.9bkH.A5Dir5ghnKcX9/hkiZwF3pUftnefZyy"], ["created_at", "2019-10-16 07:12:43.430769"], ["updated_at", "2019-10-16 07:12:43.430769"], ["jti", "2afc3fe8-d568-4867-a42e-284181ab7b5a"], ["role", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test38@player.com"], ["encrypted_password", "$2a$04$O50CJM5KSwy4QL4edkTrhup9Ncqkr.cxUCdeDYABYhtTieTbUL1Gy"], ["created_at", "2019-10-16 07:12:43.444048"], ["updated_at", "2019-10-16 07:12:43.444048"], ["jti", "9904932f-fbd0-40eb-ad62-834ca32fee99"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7348.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7348"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "2afc3fe8-d568-4867-a42e-284181ab7b5a"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7348], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.456858"], ["updated_at", "2019-10-16 07:12:43.457631"], ["id", 7348]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 2.2ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test38@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test38@player.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_master.com"], ["encrypted_password", "$2a$04$V6TCGu7Sde3NWpJy4nhrD.Lcif9OU1tSU4hGS51xMEL/bRjSq3PEC"], ["created_at", "2019-10-16 07:12:43.471005"], ["updated_at", "2019-10-16 07:12:43.471005"], ["jti", "cfe96c6a-0430-4841-a641-e68a4cea4067"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@cafe_owner.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@cafe_owner.com"], ["encrypted_password", "$2a$04$fT92UM7o4j55e9wCQ2fXrOl3S.Jr6v7kl164RdUeFT9oK.wUqwiHe"], ["created_at", "2019-10-16 07:12:43.476649"], ["updated_at", "2019-10-16 07:12:43.476649"], ["jti", "d84c93f7-7825-4162-abc4-8c58e136d021"], ["role", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7350.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7350"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "cfe96c6a-0430-4841-a641-e68a4cea4067"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7350], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.486495"], ["updated_at", "2019-10-16 07:12:43.486946"], ["id", 7350]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 1.3ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@cafe_owner.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@cafe_owner.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@sys_master.com"], ["encrypted_password", "$2a$04$O3tQL9OyeRQh3CoFINXm..guaa/fZ2fzQXhQuL9xoORbwNIPW4g0C"], ["created_at", "2019-10-16 07:12:43.501917"], ["updated_at", "2019-10-16 07:12:43.501917"], ["jti", "c002881e-52c9-49e8-ae59-ce7ccfb56301"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@sys_expert.com"], ["encrypted_password", "$2a$04$uJU.vsMoluT0uToUuZLf1ua8lpoGVFElS8BDGjBYejuXafiD8z.Bq"], ["created_at", "2019-10-16 07:12:43.507886"], ["updated_at", "2019-10-16 07:12:43.507886"], ["jti", "4a0a2e4f-d94f-41b5-8b5e-c3b224a0c933"], ["role", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7352.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7352"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c002881e-52c9-49e8-ae59-ce7ccfb56301"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7352], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.519917"], ["updated_at", "2019-10-16 07:12:43.520550"], ["id", 7352]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 1.4ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@sys_expert.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@sys_expert.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@sys_master.com"], ["encrypted_password", "$2a$04$vmg56ARkjLuxauItwaksCOdgR073JWRcCMFwrwEHpe608GS74xRim"], ["created_at", "2019-10-16 07:12:43.535517"], ["updated_at", "2019-10-16 07:12:43.535517"], ["jti", "e5602709-46f6-4b75-bd19-5a621ed4d281"], ["role", 0]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@sys_admin.com"], ["encrypted_password", "$2a$04$3Z0500U006suX2MeRjW6JexkN5VoapPs9ujSb0iavGMxy13qcEw6q"], ["created_at", "2019-10-16 07:12:43.541371"], ["updated_at", "2019-10-16 07:12:43.541371"], ["jti", "52847398-2a61-4b83-afb5-41ab523ac79b"], ["role", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7354.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7354"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e5602709-46f6-4b75-bd19-5a621ed4d281"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7354], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "deleted_at" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["deleted_at", "2019-10-16 07:12:43.552829"], ["updated_at", "2019-10-16 07:12:43.553304"], ["id", 7354]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 2.0ms)
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@sys_admin.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@sys_admin.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@sys_master.com"], ["encrypted_password", "$2a$04$BrW5nwX0zkJEY/dafbncyOwYO4JCbk0E5Lmof3TmHZ3R1uytIYYVW"], ["created_at", "2019-10-16 07:12:43.571345"], ["updated_at", "2019-10-16 07:12:43.571345"], ["jti", "aa39be89-efda-410c-a1b2-78f58494e3d2"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@sys_master.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@sys_master.com"], ["encrypted_password", "$2a$04$1XUk4irkI0sidM.WzAUAKutE8SY5AUpF7a/gT5eJ9fP8by0bjDs0O"], ["created_at", "2019-10-16 07:12:43.576790"], ["updated_at", "2019-10-16 07:12:43.576790"], ["jti", "685e8819-85bd-44ef-985f-c248bc26c9c7"], ["role", 0]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@sys_master.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@sys_master.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7356.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7356"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "aa39be89-efda-410c-a1b2-78f58494e3d2"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7356], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>""}}
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 355ms (Views: 0.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$TFaNf2iLRbrGGjGPHsx27uQ/jXa435S7FIq/LaIirsDU0VZC1Uz8i"], ["created_at", "2019-10-16 07:12:43.982999"], ["updated_at", "2019-10-16 07:12:43.982999"], ["jti", "b6e50d13-5c83-494c-bcd9-e763fee68a07"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:43 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"cafe_owner"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$PyCuCGFGymRvrfJrUPEV7uBnokczvQ9WYbtqPbepe2gVnTXj9N1vq"], ["created_at", "2019-10-16 07:12:43.998378"], ["updated_at", "2019-10-16 07:12:43.998378"], ["jti", "47bfc732-760d-48fb-bafa-1c97ad5b6b31"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_expert"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$DWVqZQ87BFYBDfOWQOL53eRPj00Jwg46ES6CAdq6xpcOnrS0gUV2a"], ["created_at", "2019-10-16 07:12:44.012078"], ["updated_at", "2019-10-16 07:12:44.012078"], ["jti", "b723a37f-3436-4ff7-baa1-f219b2100724"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_admin"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$EuBF8dmSBE.DkEmjtR7YfupEq6r5FKbFbBZO6GtJug7oqxx4iEoHy"], ["created_at", "2019-10-16 07:12:44.026263"], ["updated_at", "2019-10-16 07:12:44.026263"], ["jti", "5c8c2491-1962-40f0-9c20-3e8cb55b5000"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/users.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"sys_master"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :role
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test"], ["encrypted_password", "$2a$04$9cTvlUw/t8ie2pKHtsA79eXXwpNBr41EZMj132Jm/sehvAhvLm6si"], ["created_at", "2019-10-16 07:12:44.041036"], ["updated_at", "2019-10-16 07:12:44.041036"], ["jti", "5dc404ed-e494-4ce9-b330-13786f07de3b"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test39@player.com"], ["encrypted_password", "$2a$04$MMIBPE/mzf5uYUFIosmDNOtxrI67ySrvttVYkpiOYMKj/o4HJJqvi"], ["created_at", "2019-10-16 07:12:44.049722"], ["updated_at", "2019-10-16 07:12:44.049722"], ["jti", "da1dd5ae-866c-48c1-9e73-f4717a1a7169"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test39@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test39@player.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7362.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7362"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test40@player.com"], ["encrypted_password", "$2a$04$B6HT9UDbxrPvNBcW.zlIRujIvuxBREDwGu.Zp9B95DUc8uZONu5Wa"], ["created_at", "2019-10-16 07:12:44.064218"], ["updated_at", "2019-10-16 07:12:44.064218"], ["jti", "6d2a573b-45cb-45b5-8ce0-822fac710ce6"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test40@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test40@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7363.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player"}, "id"=>"7363"}
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test41@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test41@player.com"], ["encrypted_password", "$2a$04$.fIU/TMJTBP11JIpiTwmrubHmj6JlIh6DN8ZTJzB3xaHrgwSlfFqO"], ["created_at", "2019-10-16 07:12:44.079243"], ["updated_at", "2019-10-16 07:12:44.079243"], ["jti", "09544cb7-a4dd-4a13-8277-c6b709a28ac2"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test41@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test41@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
Started PUT "/api/users/7364.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"id"=>"7364"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09544cb7-a4dd-4a13-8277-c6b709a28ac2"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test42@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test42@player.com"], ["encrypted_password", "$2a$04$e2TMxXcVzd.uk0ynWyR1Q.1YyzZoxT1SDkY4w2ZTdkzZYnpmRa2RO"], ["created_at", "2019-10-16 07:12:44.097630"], ["updated_at", "2019-10-16 07:12:44.097630"], ["jti", "09927146-53bb-40e1-a2e8-080cd2d021cf"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test42@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test42@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7365.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"id"=>"7365"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "09927146-53bb-40e1-a2e8-080cd2d021cf"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test43@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test43@player.com"], ["encrypted_password", "$2a$04$IW2KzqyQIpGLNzpueAC0JuG9Q9r1PxJfTp87lHVFkFglFNx2Uk/4S"], ["created_at", "2019-10-16 07:12:44.114634"], ["updated_at", "2019-10-16 07:12:44.114634"], ["jti", "e9b46051-a940-4ed5-8b4b-fea5249041c1"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test43@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test43@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7366.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>""}, "id"=>"7366"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "e9b46051-a940-4ed5-8b4b-fea5249041c1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test44@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test44@player.com"], ["encrypted_password", "$2a$04$CdaMP.Syt/bnLX22gAsaFOsAfcQC0boQ5/gLc5uHP/9m7IQICtbX2"], ["created_at", "2019-10-16 07:12:44.133582"], ["updated_at", "2019-10-16 07:12:44.133582"], ["jti", "c7c3c6a9-a65c-4f96-b318-b61f6f6b9d88"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test44@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test44@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7367.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}, "id"=>"7367"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "c7c3c6a9-a65c-4f96-b318-b61f6f6b9d88"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test45@player.com"], ["encrypted_password", "$2a$04$Us8lv9VHmhFGulfykU0Dq.oYPTbrS3FSH7ywulcW7vwA6TvPCVZP."], ["created_at", "2019-10-16 07:12:44.151658"], ["updated_at", "2019-10-16 07:12:44.151658"], ["jti", "79b3452d-be56-4d48-97e5-907fe9dd1374"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test45@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test45@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7368.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"invalid", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}, "id"=>"7368"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "79b3452d-be56-4d48-97e5-907fe9dd1374"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7368], ["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "invalid"], ["id", 7368], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test46@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test46@player.com"], ["encrypted_password", "$2a$04$kUCuwnlxMNujHzFQIlCTL.zWbVNvpd502rIJ3fVMvsktb44oTjlvu"], ["created_at", "2019-10-16 07:12:44.173425"], ["updated_at", "2019-10-16 07:12:44.173425"], ["jti", "b89383a5-888d-4023-a70f-95b509d1c201"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test46@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test46@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started PUT "/api/users/7369.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#update as JSON
  Parameters: {"user"=>{"email"=>"test@test", "password"=>"[FILTERED]", "role"=>"player", "tji"=>"13e2de23e4x34e"}, "id"=>"7369"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "b89383a5-888d-4023-a70f-95b509d1c201"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7369], ["LIMIT", 1]]
Unpermitted parameters: :role, :tji
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "test@test"], ["id", 7369], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (Views: 0.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test47@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test47@player.com"], ["encrypted_password", "$2a$04$gpTnjxSj4Rsw5UA2nOb.yuSqIeooHNxRCSxE0ttrBliy82Hzd2T1C"], ["created_at", "2019-10-16 07:12:44.197514"], ["updated_at", "2019-10-16 07:12:44.197514"], ["jti", "b6e48e76-6f9a-431d-a9ea-397301f351f1"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test47@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test47@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7370.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7370"}
Completed 500 Internal Server Error in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test48@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test48@player.com"], ["encrypted_password", "$2a$04$Twcqu06x2UV8lS.GyiQlE.QcoRlNgjfmGeH93cn2D0vgmqWjRzt3O"], ["created_at", "2019-10-16 07:12:44.211744"], ["updated_at", "2019-10-16 07:12:44.211744"], ["jti", "24535234-c962-4961-8fc9-99ad8883993d"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test48@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test48@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started DELETE "/api/users/7371.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#deactivate as JSON
  Parameters: {"user_id"=>"7371"}
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test49@player.com"], ["encrypted_password", "$2a$04$gff5hNg2VF02qRJkWDI3L.qbzXkLtaNEQj1L88pLPmTQqabgdUwkO"], ["created_at", "2019-10-16 07:12:44.227094"], ["updated_at", "2019-10-16 07:12:44.227094"], ["jti", "badd5e90-d8b6-4610-8be4-1aa3a5ceb4a4"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test49@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test49@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#profile as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."jti" = $1 LIMIT $2[0m  [["jti", "badd5e90-d8b6-4610-8be4-1aa3a5ceb4a4"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test50@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test50@player.com"], ["encrypted_password", "$2a$04$0FnS2TVvPDgxRuBtH32wI.jwCbn0SFXuYDkxt1eZP8vD73.UuNCDS"], ["created_at", "2019-10-16 07:12:44.245576"], ["updated_at", "2019-10-16 07:12:44.245576"], ["jti", "feec7164-73b4-4fa0-ad14-0a9858110831"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test50@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test50@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test51@player.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test51@player.com"], ["encrypted_password", "$2a$04$9HYNrpgDRAanWmyIT1T8X.z4dwemEUjjrAuzYpMPnafvDFYPtcUke"], ["created_at", "2019-10-16 07:12:44.277263"], ["updated_at", "2019-10-16 07:12:44.277263"], ["jti", "52ef017d-19e8-4dac-ada2-77be2d37ad9d"], ["role", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/login.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by DeviseApi::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"test51@player.com", "password"=>"[FILTERED]"}}
  [1m[36mApiUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test51@player.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
Started GET "/api/profile.json" for 127.0.0.1 at 2019-10-16 10:42:44 +0330
Processing by UsersController#profile as JSON
Completed 500 Internal Server Error in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test52@player.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[36mApiUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "jti", "role") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "test@test.com"], ["encrypted_password", "$2a$04$h7u2LZVs5ujXmKYqz.MrAudC0Gdgp18ha3TcZSmtevcF/pYqtBpPe"], ["created_at", "2019-10-16 07:12:44.312525"], ["updated_at", "2019-10-16 07:12:44.312525"], ["jti", "cf2ab0b6-3853-4fdd-b868-0f8708c52b1f"], ["role", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
